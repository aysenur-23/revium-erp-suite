var Fe=Object.defineProperty,Oe=Object.defineProperties;var Ae=Object.getOwnPropertyDescriptors;var xe=Object.getOwnPropertySymbols;var Be=Object.prototype.hasOwnProperty,Re=Object.prototype.propertyIsEnumerable;var he=(i,u,c)=>u in i?Fe(i,u,{enumerable:!0,configurable:!0,writable:!0,value:c}):i[u]=c,d=(i,u)=>{for(var c in u||(u={}))Be.call(u,c)&&he(i,c,u[c]);if(xe)for(var c of xe(u))Re.call(u,c)&&he(i,c,u[c]);return i},m=(i,u)=>Oe(i,Ae(u));var T=(i,u,c)=>new Promise((F,K)=>{var O=D=>{try{C(c.next(D))}catch(A){K(A)}},_=D=>{try{C(c.throw(D))}catch(A){K(A)}},C=D=>D.done?F(D.value):Promise.resolve(D.value).then(O,_);C((c=c.apply(i,u)).next())});import{u as Ke,r as Me,a as x,j as e,B as k,C as f,b as v,S as N,c as y,d as b,e as w,f as l,p as H,q as $,L as n,I as V,T as ue}from"./index-BQmY0BmM.js";import{r as p,P as Ge,m as ze,o as X,S as pe,T as Le,l as J,a3 as Y,X as Q,I as je}from"./lucide-react-CAeuRJQk.js";import{w as Pe,l as Ee,g as Ve,M as ge,D as Z,a as ee,b as se,c as ae,e as re,T as q}from"./MainLayout-Dv9j77B5.js";import{S as Ye}from"./search-input-DCf0xYml.js";import{g as qe,c as _e,u as fe,d as Ue}from"./warrantyService-BpM1Aiia.js";import{A as We,a as He,b as $e,c as Xe,d as Je,e as Qe,f as Ze,g as es}from"./alert-dialog-vDPnsgl6.js";import{L as ss}from"./loading-state-BC76X596.js";import"./taskService-CI62TrOj.js";const os=()=>{var ce,oe;const{user:i}=Ke(),[u,c]=p.useState([]),[F,K]=p.useState([]),[O,_]=p.useState([]),[C,D]=p.useState([]),[A,ve]=p.useState({}),[te,ie]=p.useState(!0),[Ne,M]=p.useState(!1),[ye,G]=p.useState(!1),[be,U]=p.useState(!1),[we,z]=p.useState(!1),[t,S]=p.useState(null),[B,De]=p.useState(""),[a,o]=p.useState({customerId:"",productId:"",orderId:"",reason:"",status:"received",repairDescription:"",cost:0,receivedDate:new Date().toISOString().split("T")[0]});p.useEffect(()=>{L()},[]);const L=()=>T(void 0,null,function*(){try{ie(!0);const[s,r,h,j,I]=yield Promise.all([qe(),Pe(),Ee(),Ve(),Me()]);c(s),K(r),_(h),D(j);const g={};I.forEach(E=>{g[E.id]=E.fullName||E.displayName||E.email||"Bilinmeyen"}),ve(g)}catch(s){console.error("Fetch warranty records error:",s),x.error(s.message||"Kayıtlar yüklenirken hata oluştu")}finally{ie(!1)}}),ke=()=>T(void 0,null,function*(){if(!a.customerId||!a.productId||!a.reason.trim()){x.error("Müşteri, ürün ve neden gereklidir");return}if(!(i!=null&&i.id)){x.error("Kullanıcı bilgisi bulunamadı");return}try{yield _e({customerId:a.customerId,productId:a.productId,orderId:a.orderId||null,reason:a.reason.trim(),status:a.status,repairDescription:a.repairDescription.trim()||null,cost:a.cost||0,receivedDate:ue.fromDate(new Date(a.receivedDate)),createdBy:i.id}),x.success("Garanti kaydı oluşturuldu"),M(!1),W(),L()}catch(s){console.error("Create warranty record error:",s),x.error(s.message||"Kayıt oluşturulurken hata oluştu")}}),le=(s,r)=>T(void 0,null,function*(){if(!(i!=null&&i.id)){x.error("Kullanıcı bilgisi bulunamadı");return}try{yield fe(s,{status:r},i.id),x.success("Durum güncellendi"),t&&t.id===s&&S(m(d({},t),{status:r})),c(h=>h.map(j=>j.id===s?m(d({},j),{status:r}):j))}catch(h){console.error("Update warranty status error:",h),x.error(h.message||"Durum güncellenirken hata oluştu")}}),Ce=()=>T(void 0,null,function*(){var j,I;if(!t){x.error("Kayıt seçilmedi");return}const s=(a.customerId||"").trim(),r=(a.productId||"").trim(),h=(a.reason||"").trim();if(!s){x.error("Müşteri seçimi gereklidir");return}if(!r){x.error("Ürün seçimi gereklidir");return}if(!h){x.error("Neden alanı gereklidir");return}if(!(i!=null&&i.id)){x.error("Kullanıcı bilgisi bulunamadı");return}try{const g={customerId:s,productId:r,orderId:((j=a.orderId)==null?void 0:j.trim())||null,reason:h,status:a.status,repairDescription:((I=a.repairDescription)==null?void 0:I.trim())||null,cost:a.cost||0};t.receivedDate.toDate().toISOString().split("T")[0]!==a.receivedDate&&(g.receivedDate=ue.fromDate(new Date(a.receivedDate))),yield fe(t.id,g,i.id),x.success("Garanti kaydı güncellendi"),G(!1),S(null),W(),L()}catch(g){console.error("Update warranty record error:",g),x.error(g.message||"Kayıt güncellenirken hata oluştu")}}),Ie=()=>T(void 0,null,function*(){if(t){if(!(i!=null&&i.id)){x.error("Kullanıcı bilgisi bulunamadı");return}try{yield Ue(t.id,i.id),x.success("Garanti kaydı silindi"),L(),U(!1),S(null)}catch(s){console.error("Delete warranty record error:",s),x.error(s.message||"Kayıt silinirken hata oluştu")}}}),Se=s=>{S(s),z(!0)},ne=s=>{var I,g;S(s);const r=(s.customerId||"").trim(),h=(s.productId||"").trim(),j=(s.reason||"").trim();o({customerId:r,productId:h,orderId:(s.orderId||"").trim(),reason:j,status:s.status||"received",repairDescription:(s.repairDescription||"").trim(),cost:s.cost||0,receivedDate:((g=(I=s.receivedDate)==null?void 0:I.toDate())==null?void 0:g.toISOString().split("T")[0])||new Date().toISOString().split("T")[0]}),G(!0)},Te=s=>{S(s),U(!0)},W=()=>{o({customerId:"",productId:"",orderId:"",reason:"",status:"received",repairDescription:"",cost:0,receivedDate:new Date().toISOString().split("T")[0]})},P=s=>{if(!s)return"Bilinmeyen Müşteri";const r=F.find(h=>h.id===s);return(r==null?void 0:r.name)||"Bilinmeyen Müşteri"},R=s=>{if(!s)return"Bilinmeyen Ürün";const r=O.find(h=>h.id===s);return(r==null?void 0:r.name)||"Bilinmeyen Ürün"},de=s=>s&&A[s]||"Bilinmeyen Kullanıcı",me=u.filter(s=>{const r=P(s.customerId).toLowerCase(),h=R(s.productId).toLowerCase(),j=s.reason.toLowerCase();return r.includes(B.toLowerCase())||h.includes(B.toLowerCase())||j.includes(B.toLowerCase())});return te?e.jsx(ge,{children:e.jsx(ss,{message:"Garanti kayıtları yükleniyor..."})}):e.jsx(ge,{children:e.jsxs("div",{className:"space-y-3 sm:space-y-4 md:space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-foreground",children:"Satış Sonrası Takip"}),e.jsx("p",{className:"text-muted-foreground mt-0.5 sm:mt-1 text-xs sm:text-sm",children:"Garantiye gelen ürünleri takip edin"})]}),e.jsxs(k,{className:"gap-1.5 sm:gap-2 w-full sm:w-auto min-h-[44px] sm:min-h-10 text-xs sm:text-sm",onClick:()=>{W(),M(!0)},children:[e.jsx(Ge,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Yeni Kayıt"}),e.jsx("span",{className:"sm:hidden",children:"Yeni"})]})]}),e.jsx(f,{children:e.jsx(v,{className:"p-3 sm:p-4 md:p-6",children:e.jsx("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3 md:gap-4",children:e.jsx(Ye,{placeholder:"Müşteri, ürün veya neden ara...",value:B,onChange:s=>De(s.target.value),containerClassName:"flex-1 min-w-0 w-full sm:w-auto sm:min-w-[200px] md:min-w-[250px]",className:"h-9 sm:h-10 text-xs sm:text-sm"})})})}),e.jsx(f,{children:e.jsx(v,{className:"p-0",children:e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 sm:gap-4 md:gap-5 lg:gap-6 p-3 sm:p-4 md:p-6",children:te?e.jsxs("div",{className:"col-span-full text-center py-12 text-muted-foreground",children:[e.jsx(ze,{className:"h-6 w-6 animate-spin mx-auto mb-2"}),e.jsx("p",{className:"text-sm",children:"Yükleniyor..."})]}):me.length===0?e.jsxs("div",{className:"col-span-full text-center py-12 text-muted-foreground",children:[e.jsx(X,{className:"h-12 w-12 mx-auto mb-3 opacity-20"}),e.jsx("p",{className:"text-sm",children:B?"Arama sonucu bulunamadı":"Henüz kayıt yok"})]}):me.map(s=>e.jsx(f,{className:"group cursor-pointer hover:shadow-md transition-shadow h-full flex flex-col",onClick:()=>Se(s),children:e.jsxs(v,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[e.jsx("h3",{className:"font-bold text-base sm:text-lg text-foreground mb-1 break-words line-clamp-3",title:R(s.productId),children:R(s.productId)}),e.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground break-words line-clamp-1",title:P(s.customerId),children:P(s.customerId)})]}),e.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0 ml-2",onClick:r=>r.stopPropagation(),children:[e.jsx(k,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 opacity-0 group-hover:opacity-100 transition-opacity",onClick:r=>{r.stopPropagation(),ne(s)},children:e.jsx(pe,{className:"h-4 w-4"})}),e.jsx(k,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-destructive hover:text-destructive opacity-0 group-hover:opacity-100 transition-opacity",onClick:r=>{r.stopPropagation(),Te(s)},children:e.jsx(Le,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs sm:text-sm text-muted-foreground",children:"Durum"}),e.jsxs(N,{value:s.status,onValueChange:r=>{le(s.id,r)},children:[e.jsx(y,{className:"w-[140px] h-8 text-xs sm:text-sm min-h-[32px]",onClick:r=>r.stopPropagation(),children:e.jsx(b,{})}),e.jsxs(w,{onClick:r=>r.stopPropagation(),children:[e.jsx(l,{value:"received",children:"Alındı"}),e.jsx(l,{value:"in_repair",children:"Onarımda"}),e.jsx(l,{value:"completed",children:"Tamamlandı"}),e.jsx(l,{value:"returned",children:"İade Edildi"})]})]})]}),e.jsxs("div",{className:"rounded-lg border bg-muted/30 px-3 py-2",children:[e.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground mb-1",children:"Neden"}),e.jsx("p",{className:"text-sm sm:text-base font-medium text-foreground line-clamp-2",children:s.reason})]}),s.repairDescription&&e.jsxs("div",{className:"rounded-lg border bg-muted/30 px-3 py-2",children:[e.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground mb-1",children:"Yapılan İşlem"}),e.jsx("p",{className:"text-sm sm:text-base font-medium text-foreground line-clamp-2",children:s.repairDescription})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-3 border-t",children:[e.jsx("div",{className:"flex items-center gap-1 text-sm sm:text-base font-semibold",children:e.jsxs("span",{children:["₺",new Intl.NumberFormat("tr-TR",{minimumFractionDigits:0,maximumFractionDigits:0}).format(s.cost)]})}),e.jsxs("div",{className:"flex flex-col items-end gap-1",children:[e.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:s.receivedDate.toDate().toLocaleDateString("tr-TR")}),s.createdBy&&e.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[e.jsx(J,{className:"h-3 w-3 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:de(s.createdBy)})]})]})]})]})},s.id))})})}),e.jsx(Z,{open:we,onOpenChange:z,children:e.jsx(ee,{className:"!max-w-[100vw] sm:!max-w-[95vw] !w-[100vw] sm:!w-[95vw] !h-[100vh] sm:!h-[90vh] !max-h-[100vh] sm:!max-h-[90vh] !left-0 sm:!left-[2.5vw] !top-0 sm:!top-[5vh] !right-0 sm:!right-auto !bottom-0 sm:!bottom-auto !translate-x-0 !translate-y-0 overflow-hidden !p-0 gap-0 bg-white flex flex-col !m-0 !rounded-none sm:!rounded-lg !border-0 sm:!border",children:e.jsxs("div",{className:"flex flex-col h-full min-h-0",children:[e.jsx(se,{className:"p-3 sm:p-4 border-b bg-white flex-shrink-0 relative pr-12 sm:pr-16",children:e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"flex items-start gap-2 sm:gap-3 flex-1 min-w-0",children:[e.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 rounded-lg bg-primary/10 flex items-center justify-center border border-primary/20 flex-shrink-0 mt-0.5",children:e.jsx(Y,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx(ae,{className:"text-lg sm:text-xl font-semibold text-foreground break-words",children:t?R(t.productId):"Garanti Kaydı Detayı"}),e.jsx(re,{className:"sr-only",children:"Garanti kaydı detayları"})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 flex-shrink-0",children:[t&&e.jsxs(k,{variant:"outline",size:"sm",className:"border-primary/20 hover:bg-primary/5 rounded-lg px-3 py-1.5 font-medium text-xs sm:text-sm flex-shrink-0",onClick:()=>{z(!1),t&&ne(t)},children:[e.jsx(pe,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1.5 flex-shrink-0"}),"Düzenle"]}),e.jsxs(k,{variant:"default",size:"sm",className:"bg-primary hover:bg-primary/90 rounded-lg px-3 py-1.5 font-medium text-xs sm:text-sm flex-shrink-0 text-white",onClick:()=>z(!1),children:[e.jsx(Q,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1.5 flex-shrink-0"}),"Kapat"]})]})]})}),e.jsx("div",{className:"flex-1 overflow-hidden bg-gray-50/50 p-3 sm:p-4 min-h-0",children:e.jsx("div",{className:"max-w-full mx-auto h-full overflow-y-auto",children:t&&e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[e.jsx(f,{children:e.jsx(v,{className:"p-3 sm:p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-xl bg-primary/10 flex items-center justify-center border border-primary/20 flex-shrink-0",children:e.jsx(J,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Müşteri"}),e.jsx("p",{className:"text-sm font-semibold break-words",children:P(t.customerId)})]})]})})}),e.jsx(f,{children:e.jsx(v,{className:"p-3 sm:p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-xl bg-emerald-100 flex items-center justify-center border border-emerald-200 flex-shrink-0",children:e.jsx(X,{className:"h-5 w-5 text-emerald-700"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Ürün"}),e.jsx("p",{className:"text-sm font-semibold break-words",children:R(t.productId)})]})]})})}),e.jsx(f,{children:e.jsx(v,{className:"p-3 sm:p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-xl bg-blue-100 flex items-center justify-center border border-blue-200",children:e.jsx(X,{className:"h-5 w-5 text-blue-700"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Maliyet"}),e.jsxs("p",{className:"text-sm font-semibold",children:["₺",new Intl.NumberFormat("tr-TR",{minimumFractionDigits:0,maximumFractionDigits:0}).format(t.cost)]})]})]})})}),e.jsx(f,{children:e.jsx(v,{className:"p-3 sm:p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-xl bg-amber-100 flex items-center justify-center border border-amber-200",children:e.jsx(Y,{className:"h-5 w-5 text-amber-700"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Durum"}),e.jsxs(N,{value:t.status,onValueChange:s=>{le(t.id,s)},children:[e.jsx(y,{className:"h-8 text-xs border-0 p-0 font-semibold min-h-[32px]",children:e.jsx(b,{})}),e.jsxs(w,{children:[e.jsx(l,{value:"received",children:"Alındı"}),e.jsx(l,{value:"in_repair",children:"Onarımda"}),e.jsx(l,{value:"completed",children:"Tamamlandı"}),e.jsx(l,{value:"returned",children:"İade Edildi"})]})]})]})]})})})]}),e.jsxs(f,{children:[e.jsx(H,{children:e.jsx($,{className:"text-base sm:text-lg",children:"Detaylar"})}),e.jsxs(v,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{className:"text-sm text-muted-foreground",children:"Alınma Tarihi"}),e.jsx("div",{className:"rounded-lg border bg-muted/30 px-3 py-2",children:e.jsx("p",{className:"text-sm font-medium",children:t.receivedDate.toDate().toLocaleDateString("tr-TR")})})]}),t.orderId&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{className:"text-sm text-muted-foreground",children:"İlgili Sipariş"}),e.jsx("div",{className:"rounded-lg border bg-muted/30 px-3 py-2",children:e.jsx("p",{className:"text-sm font-medium",children:((ce=C.find(s=>s.id===t.orderId))==null?void 0:ce.orderNumber)||((oe=C.find(s=>s.id===t.orderId))==null?void 0:oe.order_number)||"Bulunamadı"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{className:"text-sm text-muted-foreground",children:"Geliş Nedeni"}),e.jsx("div",{className:"rounded-lg border bg-muted/30 px-3 py-2.5",children:e.jsx("p",{className:"text-sm",children:t.reason})})]}),t.repairDescription&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{className:"text-sm text-muted-foreground",children:"Yapılan İşlem"}),e.jsx("div",{className:"rounded-lg border bg-muted/30 px-3 py-2.5",children:e.jsx("p",{className:"text-sm",children:t.repairDescription})})]}),t.createdBy&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{className:"text-sm text-muted-foreground",children:"Oluşturan"}),e.jsx("div",{className:"rounded-lg border bg-muted/30 px-3 py-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"}),e.jsx("p",{className:"text-sm font-medium",children:de(t.createdBy)})]})})]})]})]})]})})})]})})}),e.jsx(Z,{open:Ne,onOpenChange:M,children:e.jsx(ee,{className:"!max-w-[100vw] sm:!max-w-[95vw] !w-[100vw] sm:!w-[95vw] !h-[100vh] sm:!h-[90vh] !max-h-[100vh] sm:!max-h-[90vh] !left-0 sm:!left-[2.5vw] !top-0 sm:!top-[5vh] !right-0 sm:!right-auto !bottom-0 sm:!bottom-auto !translate-x-0 !translate-y-0 overflow-hidden !p-0 gap-0 bg-white flex flex-col !m-0 !rounded-none sm:!rounded-lg !border-0 sm:!border",children:e.jsxs("div",{className:"flex flex-col h-full min-h-0",children:[e.jsx(se,{className:"p-3 sm:p-4 border-b bg-white flex-shrink-0 relative pr-12 sm:pr-16",children:e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 flex-1 min-w-0",children:[e.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 rounded-lg bg-primary/10 flex items-center justify-center border border-primary/20 flex-shrink-0",children:e.jsx(Y,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"})}),e.jsx(ae,{className:"text-lg sm:text-xl font-semibold text-foreground truncate",children:"Yeni Garanti Kaydı"}),e.jsx(re,{className:"sr-only",children:"Yeni garanti kaydı oluşturun"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 flex-shrink-0",children:[e.jsxs(k,{variant:"outline",size:"sm",className:"border-primary/20 hover:bg-primary/5 rounded-lg px-3 py-1.5 font-medium text-xs sm:text-sm flex-shrink-0",onClick:()=>M(!1),children:[e.jsx(Q,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1.5 flex-shrink-0"}),"İptal"]}),e.jsxs(k,{variant:"default",size:"sm",className:"bg-primary hover:bg-primary/90 rounded-lg px-3 py-1.5 font-medium text-xs sm:text-sm flex-shrink-0 text-white",onClick:ke,children:[e.jsx(je,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1.5 flex-shrink-0"}),"Oluştur"]})]})]})}),e.jsx("div",{className:"flex-1 overflow-hidden bg-gray-50/50 p-3 sm:p-4 min-h-0",children:e.jsx("div",{className:"max-w-full mx-auto h-full overflow-y-auto",children:e.jsxs(f,{children:[e.jsx(H,{children:e.jsx($,{className:"text-base sm:text-lg",children:"Garanti Bilgileri"})}),e.jsxs(v,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"create-customer",className:"text-sm sm:text-base",showRequired:!0,children:"Müşteri"}),e.jsxs(N,{value:a.customerId,onValueChange:s=>o(m(d({},a),{customerId:s})),children:[e.jsx(y,{id:"create-customer",className:"min-h-[44px] sm:min-h-0",children:e.jsx(b,{placeholder:"Müşteri seçin"})}),e.jsx(w,{children:F.map(s=>e.jsxs(l,{value:s.id,children:[s.name," ",s.company&&`(${s.company})`]},s.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"create-product",className:"text-sm sm:text-base",showRequired:!0,children:"Ürün"}),e.jsxs(N,{value:a.productId,onValueChange:s=>o(m(d({},a),{productId:s})),children:[e.jsx(y,{id:"create-product",className:"min-h-[44px] sm:min-h-0",children:e.jsx(b,{placeholder:"Ürün seçin"})}),e.jsx(w,{children:O.map(s=>e.jsx(l,{value:s.id,children:s.name},s.id))})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"create-order",className:"text-sm sm:text-base",children:"Sipariş (Opsiyonel)"}),e.jsxs(N,{value:a.orderId||"none",onValueChange:s=>o(m(d({},a),{orderId:s==="none"?"":s})),children:[e.jsx(y,{id:"create-order",className:"min-h-[44px] sm:min-h-0",children:e.jsx(b,{placeholder:"Sipariş seçin"})}),e.jsxs(w,{children:[e.jsx(l,{value:"none",children:"Sipariş yok"}),C.map(s=>e.jsx(l,{value:s.id,children:s.orderNumber||s.order_number||s.id},s.id))]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"create-received-date",className:"text-sm sm:text-base",children:"Alınma Tarihi"}),e.jsx(V,{id:"create-received-date",type:"date",value:a.receivedDate,onChange:s=>o(m(d({},a),{receivedDate:s.target.value})),className:"min-h-[44px] sm:min-h-0"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"create-status",className:"text-sm sm:text-base",children:"Durum"}),e.jsxs(N,{value:a.status,onValueChange:s=>o(m(d({},a),{status:s})),children:[e.jsx(y,{id:"create-status",className:"min-h-[44px] sm:min-h-0",children:e.jsx(b,{})}),e.jsxs(w,{children:[e.jsx(l,{value:"received",children:"Alındı"}),e.jsx(l,{value:"in_repair",children:"Onarımda"}),e.jsx(l,{value:"completed",children:"Tamamlandı"}),e.jsx(l,{value:"returned",children:"İade Edildi"})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"create-reason",className:"text-sm sm:text-base",showRequired:!0,children:"Neden Geldi"}),e.jsx(q,{id:"create-reason",value:a.reason,onChange:s=>o(m(d({},a),{reason:s.target.value})),placeholder:"Ürünün garantiye gelme nedeni",rows:4,className:"min-h-[100px] sm:min-h-[120px]"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"create-repair",className:"text-sm sm:text-base",children:"Yapılan İşlem"}),e.jsx(q,{id:"create-repair",value:a.repairDescription,onChange:s=>o(m(d({},a),{repairDescription:s.target.value})),placeholder:"Ürüne yapılan işlem açıklaması",rows:4,className:"min-h-[100px] sm:min-h-[120px]"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"create-cost",className:"text-sm sm:text-base",children:"Maliyet (₺)"}),e.jsx(V,{id:"create-cost",type:"number",value:a.cost,onChange:s=>o(m(d({},a),{cost:Number(s.target.value)||0})),placeholder:"0",min:"0",step:"0.01",className:"min-h-[44px] sm:min-h-0"})]})]})]})})})]})})}),e.jsx(Z,{open:ye,onOpenChange:G,children:e.jsx(ee,{className:"!max-w-[100vw] sm:!max-w-[95vw] !w-[100vw] sm:!w-[95vw] !h-[100vh] sm:!h-[90vh] !max-h-[100vh] sm:!max-h-[90vh] !left-0 sm:!left-[2.5vw] !top-0 sm:!top-[5vh] !right-0 sm:!right-auto !bottom-0 sm:!bottom-auto !translate-x-0 !translate-y-0 overflow-hidden !p-0 gap-0 bg-white flex flex-col !m-0 !rounded-none sm:!rounded-lg !border-0 sm:!border",children:e.jsxs("div",{className:"flex flex-col h-full min-h-0",children:[e.jsx(se,{className:"p-3 sm:p-4 border-b bg-white flex-shrink-0 relative pr-12 sm:pr-16",children:e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 flex-1 min-w-0",children:[e.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 rounded-lg bg-primary/10 flex items-center justify-center border border-primary/20 flex-shrink-0",children:e.jsx(Y,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"})}),e.jsx(ae,{className:"text-lg sm:text-xl font-semibold text-foreground truncate",children:"Garanti Kaydı Düzenle"}),e.jsx(re,{className:"sr-only",children:"Garanti kaydını düzenleyin"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 flex-shrink-0",children:[e.jsxs(k,{variant:"outline",size:"sm",className:"border-primary/20 hover:bg-primary/5 rounded-lg px-3 py-1.5 font-medium text-xs sm:text-sm flex-shrink-0",onClick:()=>G(!1),children:[e.jsx(Q,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1.5 flex-shrink-0"}),"İptal"]}),e.jsxs(k,{variant:"default",size:"sm",className:"bg-primary hover:bg-primary/90 rounded-lg px-3 py-1.5 font-medium text-xs sm:text-sm flex-shrink-0 text-white",onClick:Ce,children:[e.jsx(je,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1.5 flex-shrink-0"}),"Kaydet"]})]})]})}),e.jsx("div",{className:"flex-1 overflow-hidden bg-gray-50/50 p-3 sm:p-4 min-h-0",children:e.jsx("div",{className:"max-w-full mx-auto h-full overflow-y-auto",children:e.jsxs(f,{children:[e.jsx(H,{children:e.jsx($,{className:"text-base sm:text-lg",children:"Garanti Bilgileri"})}),e.jsxs(v,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"edit-customer",className:"text-sm sm:text-base",showRequired:!0,children:"Müşteri"}),e.jsxs(N,{value:a.customerId||"",onValueChange:s=>o(m(d({},a),{customerId:s})),children:[e.jsx(y,{id:"edit-customer",className:"min-h-[44px] sm:min-h-0",children:e.jsx(b,{placeholder:"Müşteri seçin"})}),e.jsx(w,{children:F.map(s=>e.jsxs(l,{value:s.id,children:[s.name," ",s.company&&`(${s.company})`]},s.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"edit-product",className:"text-sm sm:text-base",showRequired:!0,children:"Ürün"}),e.jsxs(N,{value:a.productId||"",onValueChange:s=>o(m(d({},a),{productId:s})),children:[e.jsx(y,{id:"edit-product",className:"min-h-[44px] sm:min-h-0",children:e.jsx(b,{placeholder:"Ürün seçin"})}),e.jsx(w,{children:O.map(s=>e.jsx(l,{value:s.id,children:s.name},s.id))})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"edit-order",className:"text-sm sm:text-base",children:"Sipariş (Opsiyonel)"}),e.jsxs(N,{value:a.orderId||"none",onValueChange:s=>o(m(d({},a),{orderId:s==="none"?"":s})),children:[e.jsx(y,{id:"edit-order",className:"min-h-[44px] sm:min-h-0",children:e.jsx(b,{placeholder:"Sipariş seçin"})}),e.jsxs(w,{children:[e.jsx(l,{value:"none",children:"Sipariş yok"}),C.map(s=>e.jsx(l,{value:s.id,children:s.orderNumber||s.order_number||s.id},s.id))]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"edit-received-date",className:"text-sm sm:text-base",children:"Alınma Tarihi"}),e.jsx(V,{id:"edit-received-date",type:"date",value:a.receivedDate,onChange:s=>o(m(d({},a),{receivedDate:s.target.value})),className:"min-h-[44px] sm:min-h-0"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"edit-status",className:"text-sm sm:text-base",children:"Durum"}),e.jsxs(N,{value:a.status,onValueChange:s=>o(m(d({},a),{status:s})),children:[e.jsx(y,{id:"edit-status",className:"min-h-[44px] sm:min-h-0",children:e.jsx(b,{})}),e.jsxs(w,{children:[e.jsx(l,{value:"received",children:"Alındı"}),e.jsx(l,{value:"in_repair",children:"Onarımda"}),e.jsx(l,{value:"completed",children:"Tamamlandı"}),e.jsx(l,{value:"returned",children:"İade Edildi"})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"edit-reason",className:"text-sm sm:text-base",showRequired:!0,children:"Neden Geldi"}),e.jsx(q,{id:"edit-reason",value:a.reason||"",onChange:s=>o(m(d({},a),{reason:s.target.value})),placeholder:"Ürünün garantiye gelme nedeni",rows:4,className:"min-h-[100px] sm:min-h-[120px]"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"edit-repair",className:"text-sm sm:text-base",children:"Yapılan İşlem"}),e.jsx(q,{id:"edit-repair",value:a.repairDescription,onChange:s=>o(m(d({},a),{repairDescription:s.target.value})),placeholder:"Ürüne yapılan işlem açıklaması",rows:4,className:"min-h-[100px] sm:min-h-[120px]"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"edit-cost",className:"text-sm sm:text-base",children:"Maliyet (₺)"}),e.jsx(V,{id:"edit-cost",type:"number",value:a.cost,onChange:s=>o(m(d({},a),{cost:Number(s.target.value)||0})),placeholder:"0",min:"0",step:"0.01",className:"min-h-[44px] sm:min-h-0"})]})]})]})})})]})})}),e.jsx(We,{open:be,onOpenChange:U,children:e.jsxs(He,{children:[e.jsxs($e,{children:[e.jsx(Xe,{children:"Garanti Kaydını Sil"}),e.jsx(Je,{children:t&&e.jsx(e.Fragment,{children:"Bu garanti kaydını silmek istediğinizden emin misiniz? Bu işlem geri alınamaz."})})]}),e.jsxs(Qe,{children:[e.jsx(Ze,{children:"İptal"}),e.jsx(es,{onClick:Ie,className:"bg-destructive text-destructive-foreground",children:"Sil"})]})]})})]})})};export{os as default};
