var ge=Object.defineProperty,fe=Object.defineProperties;var ye=Object.getOwnPropertyDescriptors;var Y=Object.getOwnPropertySymbols;var W=Object.prototype.hasOwnProperty,ee=Object.prototype.propertyIsEnumerable;var $=(a,s,t)=>s in a?ge(a,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[s]=t,p=(a,s)=>{for(var t in s||(s={}))W.call(s,t)&&$(a,t,s[t]);if(Y)for(var t of Y(s))ee.call(s,t)&&$(a,t,s[t]);return a},f=(a,s)=>fe(a,ye(s));var L=(a,s)=>{var t={};for(var c in a)W.call(a,c)&&s.indexOf(c)<0&&(t[c]=a[c]);if(a!=null&&Y)for(var c of Y(a))s.indexOf(c)<0&&ee.call(a,c)&&(t[c]=a[c]);return t};var j=(a,s,t)=>new Promise((c,x)=>{var u=i=>{try{h(t.next(i))}catch(o){x(o)}},r=i=>{try{h(t.throw(i))}catch(o){x(o)}},h=i=>i.done?c(i.value):Promise.resolve(i.value).then(u,r);h((t=t.apply(a,s)).next())});import{u as F,j as e,C as S,b as D,p as C,q as _,az as E,a as g,L as y,I as v,aA as je,B as z,S as ve,c as Ne,d as ke,e as be,f as we,R as Se,k as De,w as ce,aB as se,z as de,Q as ze,O as K,E as U,J as me,V as Ce,N as _e,l as J,aC as Be,m as Te,n as Ae,o as V,y as M}from"./index-BQmY0BmM.js";import{r as d,m as G,U as Ge,ar as I,i as Ee,B as ae,j as Fe,J as Pe,l as Oe}from"./lucide-react-CAeuRJQk.js";import{t as te,B as Ye,M as ie}from"./MainLayout-Dv9j77B5.js";import{b as Le,c as Ie}from"./taskService-CI62TrOj.js";import{f as le}from"./format-CN3feEER.js";import{S as X}from"./switch-CUw8XPh6.js";import{i as Re,a as Ve,r as Me}from"./driveService-ChwQKMyd.js";import{L as Xe}from"./loading-state-BC76X596.js";const Ke=()=>{const{user:a}=F(),[s,t]=d.useState([]),[c,x]=d.useState(!0);d.useEffect(()=>{j(void 0,null,function*(){if(a!=null&&a.id)try{const h=yield Le(),i=[];for(const o of h)(yield Ie(o.id)).some(l=>l.assignedTo===a.id)&&i.push(o);t(i)}catch(h){console.error("Görevler yüklenirken hata:",h),g.error("Görevler yüklenirken hata: "+h.message)}finally{x(!1)}})},[a==null?void 0:a.id]);const u=r=>{switch(r){case"completed":return"bg-green-100 text-green-800";case"in_progress":return"bg-blue-100 text-blue-800";case"pending":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return c?e.jsx(S,{children:e.jsx(D,{className:"py-8",children:e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(G,{className:"h-6 w-6 animate-spin text-primary"})})})}):e.jsxs(S,{children:[e.jsxs(C,{children:[e.jsx(_,{children:"Geçmiş Görevlerim"}),e.jsx(E,{children:"Size atanan görevlerin geçmişi"})]}),e.jsx(D,{children:s.length===0?e.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Henüz size atanmış görev bulunmuyor"}):e.jsx("div",{className:"space-y-4",children:s.map(r=>e.jsxs("div",{className:"flex items-start justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium",children:r.title}),r.description&&e.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:r.description}),e.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-muted-foreground",children:[r.due_date&&e.jsxs("span",{children:["Bitiş: ",le(new Date(r.due_date),"dd MMM yyyy",{locale:te})]}),r.created_at&&e.jsxs("span",{children:["Oluşturulma: ",le(new Date(r.created_at),"dd MMM yyyy",{locale:te})]})]})]}),e.jsxs(Ye,{className:u(r.status),children:[r.status==="completed"&&"Tamamlandı",r.status==="in_progress"&&"Devam Ediyor",r.status==="pending"&&"Beklemede",r.status==="cancelled"&&"İptal Edildi"]})]},r.id))})})]})},re=()=>{const{user:a}=F(),[s,t]=d.useState({fullName:"",email:"",phone:"",dateOfBirth:""}),[c,x]=d.useState(!0),[u,r]=d.useState(!1),[h,i]=d.useState([]),[o,N]=d.useState(""),[k,l]=d.useState(!1),[T,ue]=d.useState(null),[B,q]=d.useState([]);d.useEffect(()=>{j(void 0,null,function*(){if(!(a!=null&&a.id)){x(!1);return}try{const[m,b]=yield Promise.all([Se(a.id).catch(w=>(console.error("Profil yüklenirken hata:",w),null)),De().catch(w=>(console.error("Departmanlar yüklenirken hata:",w),[]))]);m&&(t({fullName:m.fullName||m.displayName||"",email:m.email||"",phone:ce(m.phone)||"",dateOfBirth:m.dateOfBirth||""}),ue(m.departmentId||null),q(m.pendingTeams||[])),i(b||[])}catch(m){console.error("Veriler yüklenirken hata:",m)}finally{x(!1)}})},[a]);const he=()=>j(void 0,null,function*(){if(!(a!=null&&a.id)){g.error("Oturumunuz sona erdi. Lütfen tekrar giriş yapın.");return}r(!0);try{yield se(a.id,{fullName:s.fullName,phone:de(s.phone),dateOfBirth:s.dateOfBirth||null}),g.success("Profil bilgileri güncellendi")}catch(n){g.error("Profil güncellenemedi: "+n.message)}finally{r(!1)}}),pe=()=>j(void 0,null,function*(){if(!(!(a!=null&&a.id)||!o)){if(T===o){g.info("Zaten bu ekibin üyesisiniz.");return}if(B.includes(o)){g.info("Bu ekip için zaten onay bekleyen bir başvurunuz var.");return}l(!0);try{const n=[...B,o];yield se(a.id,{pendingTeams:n}),q(n),N(""),g.success("Ekip başvurunuz alındı. Ekip lideri tarafından onaylanması gerekecektir.")}catch(n){g.error("Başvuru yapılamadı: "+n.message)}finally{l(!1)}}}),Q=n=>{var m;return((m=h.find(b=>b.id===n))==null?void 0:m.name)||"Bilinmeyen Ekip"};return c?e.jsx("div",{className:"text-center py-8",children:"Yükleniyor..."}):e.jsxs("div",{className:"w-full space-y-4 sm:space-y-6",children:[e.jsxs(S,{children:[e.jsxs(C,{children:[e.jsx(_,{className:"text-lg sm:text-xl",children:"Profil Bilgileri"}),e.jsx(E,{className:"text-xs sm:text-sm",children:"Kişisel bilgilerinizi güncelleyin"})]}),e.jsxs(D,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(y,{htmlFor:"fullName",className:"text-sm sm:text-base",children:"Ad Soyad"}),e.jsx(v,{id:"fullName",value:s.fullName,onChange:n=>t(f(p({},s),{fullName:n.target.value})),className:"min-h-[44px] sm:min-h-0"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(y,{htmlFor:"email",className:"text-sm sm:text-base",children:"E-posta"}),e.jsx(v,{id:"email",type:"email",value:s.email,disabled:!0,className:"bg-muted min-h-[44px] sm:min-h-0"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"E-posta adresi değiştirilemez"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(y,{htmlFor:"phone",className:"text-sm sm:text-base",children:"Telefon"}),e.jsx(v,{id:"phone",type:"tel",value:s.phone,onChange:n=>{const m=n.target,b=m.selectionStart||0,A=m.value.substring(0,b).replace(/\D/g,"").length,P=je(m.value);t(f(p({},s),{phone:P})),setTimeout(()=>{let R=P.length;if(A>0){let Z=0;for(let O=0;O<P.length;O++)if(/\d/.test(P[O])&&(Z++,Z>=A)){R=O+1;break}}m.setSelectionRange(R,R)},0)},placeholder:"+90 5XX XXX XX XX",className:"min-h-[44px] sm:min-h-0"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(y,{htmlFor:"dateOfBirth",className:"text-sm sm:text-base",children:"Doğum Tarihi"}),e.jsx(v,{id:"dateOfBirth",type:"date",value:s.dateOfBirth,max:`${new Date().getFullYear()}-12-31`,min:"1900-01-01",onChange:n=>{const m=n.target.value;if(m&&m.length>=4){const b=m.substring(0,4);if(b.length>4){const w=b.substring(0,4).replace(/\D/g,"");if(w.length===4){const A=m.substring(4);n.target.value=w+A,t(f(p({},s),{dateOfBirth:w+A}));return}}}t(f(p({},s),{dateOfBirth:m}))},className:"min-h-[44px] sm:min-h-0"})]})]}),e.jsx("div",{className:"flex justify-end pt-2",children:e.jsx(z,{onClick:he,disabled:u,className:"min-h-[44px] sm:min-h-0",children:u?"Kaydediliyor...":"Kaydet"})})]})]}),e.jsxs(S,{children:[e.jsxs(C,{children:[e.jsxs(_,{className:"flex items-center gap-2 text-lg sm:text-xl",children:[e.jsx(Ge,{className:"h-5 w-5"}),"Ekip Yönetimi"]}),e.jsx(E,{className:"text-xs sm:text-sm",children:"Ekip üyelik durumunuzu yönetin ve yeni ekiplere başvurun"})]}),e.jsxs(D,{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg space-y-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Mevcut Ekibiniz:"}),e.jsx("div",{className:"font-semibold text-lg",children:T?Q(T):"Henüz bir ekibe üye değilsiniz"})]}),B.length>0&&e.jsxs("div",{className:"pt-2 border-t border-border",children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Bekleyen Başvurular:"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:B.map(n=>e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 border border-yellow-200",children:[Q(n)," (Onay Bekliyor)"]},n))})]})]}),e.jsxs("div",{className:"space-y-3 pt-2",children:[e.jsx(y,{htmlFor:"team-select",children:"Ekip Başvurusu Yap"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"flex-1",children:e.jsxs(ve,{value:o,onValueChange:N,children:[e.jsx(Ne,{id:"team-select",children:e.jsx(ke,{placeholder:"Ekip seçiniz"})}),e.jsx(be,{children:h.map(n=>e.jsxs(we,{value:n.id,disabled:T===n.id||B.includes(n.id),children:[n.name,T===n.id?" (Mevcut)":B.includes(n.id)?" (Bekliyor)":""]},n.id))})]})}),e.jsx(z,{onClick:pe,disabled:!o||k,children:k?e.jsxs(e.Fragment,{children:[e.jsx(G,{className:"mr-2 h-4 w-4 animate-spin"}),"Başvuruluyor..."]}):"Başvur"})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Seçtiğiniz ekibin lideri başvurunuzu onayladığında bildirim alacaksınız."})]})]})]}),e.jsx(Ke,{})]})},H="main",Ue=()=>j(void 0,null,function*(){try{const a=yield ze(K(U,"companySettings",H));if(!a.exists()){const s={companyName:"Revium ERP",currency:"₺",taxRate:20,updatedAt:me(),updatedBy:""};return yield Ce(K(U,"companySettings",H),s),s}return a.data()}catch(a){throw console.error("Get company settings error:",a),a}}),He=(a,s)=>j(void 0,null,function*(){try{yield _e(K(U,"companySettings",H),f(p({},a),{updatedAt:me(),updatedBy:s}))}catch(t){throw console.error("Update company settings error:",t),t}}),Je={company_name:"",tax_number:"",address:"",email:"",phone:"",email_notifications:!0,low_stock_alerts:!0,auto_backup:!0},qe=()=>{const{user:a}=F(),[s,t]=d.useState(Je),[c,x]=d.useState(!0),[u,r]=d.useState(!1);d.useEffect(()=>{j(void 0,null,function*(){var o,N,k;try{const l=yield Ue();l&&t({company_name:l.companyName||"",tax_number:l.taxId||"",address:l.address||"",email:l.email||"",phone:ce(l.phone)||"",email_notifications:(o=l.emailNotifications)!=null?o:!0,low_stock_alerts:(N=l.lowStockAlerts)!=null?N:!0,auto_backup:(k=l.autoBackup)!=null?k:!0})}catch(l){g.error("Ayarlar yüklenirken hata: "+l.message)}finally{x(!1)}})},[]);const h=()=>j(void 0,null,function*(){if(!(a!=null&&a.id)){g.error("Oturumunuz sona erdi. Lütfen tekrar giriş yapın.");return}r(!0);try{yield He({companyName:s.company_name,taxId:s.tax_number||null,address:s.address||null,email:s.email||null,phone:de(s.phone),emailNotifications:s.email_notifications,lowStockAlerts:s.low_stock_alerts,autoBackup:s.auto_backup},a.id),g.success("Şirket bilgileri kaydedildi")}catch(i){g.error("Ayarlar kaydedilemedi: "+i.message)}finally{r(!1)}});return c?e.jsx("div",{className:"text-center py-8",children:"Yükleniyor..."}):e.jsxs("div",{className:"w-full space-y-4 sm:space-y-6",children:[e.jsxs(S,{children:[e.jsx(C,{children:e.jsx(_,{className:"text-lg sm:text-xl",children:"Şirket Bilgileri"})}),e.jsxs(D,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(y,{htmlFor:"company",className:"text-sm sm:text-base",children:"Şirket Adı"}),e.jsx(v,{id:"company",value:s.company_name,onChange:i=>t(f(p({},s),{company_name:i.target.value})),className:"min-h-[44px] sm:min-h-0"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(y,{htmlFor:"tax",className:"text-sm sm:text-base",children:"Vergi No"}),e.jsx(v,{id:"tax",value:s.tax_number,onChange:i=>t(f(p({},s),{tax_number:i.target.value})),className:"min-h-[44px] sm:min-h-0"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(y,{htmlFor:"address",className:"text-sm sm:text-base",children:"Adres"}),e.jsx(v,{id:"address",value:s.address,onChange:i=>t(f(p({},s),{address:i.target.value})),className:"min-h-[44px] sm:min-h-0"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(y,{htmlFor:"email",className:"text-sm sm:text-base",children:"E-posta"}),e.jsx(v,{id:"email",type:"email",value:s.email,onChange:i=>t(f(p({},s),{email:i.target.value})),className:"min-h-[44px] sm:min-h-0"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(y,{htmlFor:"phone",className:"text-sm sm:text-base",children:"Telefon"}),e.jsx(v,{id:"phone",value:s.phone,onChange:i=>t(f(p({},s),{phone:i.target.value})),className:"min-h-[44px] sm:min-h-0"})]})]}),e.jsx("div",{className:"flex justify-end pt-2",children:e.jsx(z,{onClick:h,disabled:u,className:"min-h-[44px] sm:min-h-0",children:u?"Kaydediliyor...":"Kaydet"})})]})]}),e.jsxs(S,{children:[e.jsx(C,{children:e.jsx(_,{className:"text-lg sm:text-xl",children:"Sistem Ayarları"})}),e.jsxs(D,{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4 p-3 sm:p-4 rounded-lg border bg-muted/30",children:[e.jsxs("div",{className:"space-y-0.5 flex-1",children:[e.jsx(y,{className:"text-sm sm:text-base",children:"E-posta Bildirimleri"}),e.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Yeni siparişler için e-posta alın"})]}),e.jsx(X,{checked:s.email_notifications,onCheckedChange:i=>t(f(p({},s),{email_notifications:i}))})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4 p-3 sm:p-4 rounded-lg border bg-muted/30",children:[e.jsxs("div",{className:"space-y-0.5 flex-1",children:[e.jsx(y,{className:"text-sm sm:text-base",children:"Düşük Stok Uyarıları"}),e.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Stok azaldığında bildirim göster"})]}),e.jsx(X,{checked:s.low_stock_alerts,onCheckedChange:i=>t(f(p({},s),{low_stock_alerts:i}))})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4 p-3 sm:p-4 rounded-lg border bg-muted/30",children:[e.jsxs("div",{className:"space-y-0.5 flex-1",children:[e.jsx(y,{className:"text-sm sm:text-base",children:"Otomatik Yedekleme"}),e.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Verileri otomatik olarak yedekle"})]}),e.jsx(X,{checked:s.auto_backup,onCheckedChange:i=>t(f(p({},s),{auto_backup:i}))})]}),e.jsx("div",{className:"flex justify-end pt-2",children:e.jsx(z,{onClick:h,disabled:u,className:"min-h-[44px] sm:min-h-0",children:u?"Kaydediliyor...":"Ayarları Güncelle"})})]})]})]})},Qe=Be("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),oe=d.forwardRef((x,c)=>{var u=x,{className:a,variant:s}=u,t=L(u,["className","variant"]);return e.jsx("div",p({ref:c,role:"alert",className:J(Qe({variant:s}),a)},t))});oe.displayName="Alert";const Ze=d.forwardRef((c,t)=>{var x=c,{className:a}=x,s=L(x,["className"]);return e.jsx("h5",p({ref:t,className:J("mb-1 font-medium leading-none tracking-tight",a)},s))});Ze.displayName="AlertTitle";const xe=d.forwardRef((c,t)=>{var x=c,{className:a}=x,s=L(x,["className"]);return e.jsx("div",p({ref:t,className:J("text-sm [&_p]:leading-relaxed",a)},s))});xe.displayName="AlertDescription";const ne=()=>{const{user:a}=F(),[s,t]=d.useState(null),[c,x]=d.useState(!0),[u,r]=d.useState(!1),[h,i]=d.useState(!1);d.useEffect(()=>{o()},[]);const o=()=>j(void 0,null,function*(){try{x(!0);const l=yield Re();t(l)}catch(l){console.error("Drive authorization check error:",l),t(!1)}finally{x(!1)}}),N=()=>j(void 0,null,function*(){try{r(!0),(yield Ve())?(t(!0),g.success("Google Drive yetkilendirmesi başarılı!"),yield o()):g.error("Google Drive yetkilendirmesi başarısız oldu")}catch(l){console.error("Drive authorization error:",l),g.error((l==null?void 0:l.message)||"Google Drive yetkilendirmesi başarısız oldu"),t(!1)}finally{r(!1)}}),k=()=>j(void 0,null,function*(){try{i(!0),yield Me(),t(!1),g.success("Google Drive yetkilendirmesi kaldırıldı"),yield o()}catch(l){console.error("Drive revoke error:",l),g.error((l==null?void 0:l.message)||"Google Drive yetkilendirmesi kaldırılamadı")}finally{i(!1)}});return c?e.jsxs(S,{children:[e.jsxs(C,{children:[e.jsxs(_,{className:"flex items-center gap-2",children:[e.jsx(I,{className:"h-5 w-5"}),"Google Drive Ayarları"]}),e.jsx(E,{children:"Google Drive entegrasyonunu yönetin"})]}),e.jsx(D,{children:e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(G,{className:"h-6 w-6 animate-spin text-primary"})})})]}):e.jsxs(S,{className:"w-full",children:[e.jsxs(C,{children:[e.jsxs(_,{className:"flex items-center gap-2 text-lg sm:text-xl",children:[e.jsx(I,{className:"h-5 w-5"}),"Google Drive Ayarları"]}),e.jsx(E,{className:"text-xs sm:text-sm",children:"Google Drive entegrasyonunu yönetin. Dosya yüklemek için Drive yetkilendirmesi gereklidir."})]}),e.jsxs(D,{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:e.jsx("div",{className:"flex items-center gap-3",children:s?e.jsxs(e.Fragment,{children:[e.jsx(Ee,{className:"h-5 w-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Google Drive Yetkilendirildi"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Dosya yükleme ve silme işlemleri yapabilirsiniz"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(ae,{className:"h-5 w-5 text-red-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Google Drive Yetkilendirilmedi"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Dosya yüklemek için Drive yetkilendirmesi yapmalısınız"})]})]})})}),!s&&e.jsxs(oe,{children:[e.jsx(Fe,{className:"h-4 w-4"}),e.jsxs(xe,{children:['Google Drive yetkilendirmesi yapılmadan dosya yükleme işlemleri çalışmayacaktır. Lütfen "Google ile Giriş Yap" butonuna tıklayarak Google hesabınızla giriş yapın.',!a&&" Önce sistemde giriş yapmanız gerekiyor."]})]}),e.jsxs("div",{className:"flex gap-3",children:[s?e.jsx(z,{variant:"destructive",onClick:k,disabled:h,className:"flex-1",children:h?e.jsxs(e.Fragment,{children:[e.jsx(G,{className:"h-4 w-4 mr-2 animate-spin"}),"Kaldırılıyor..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ae,{className:"h-4 w-4 mr-2"}),"Yetkilendirmeyi Kaldır"]})}):e.jsx(z,{onClick:N,disabled:u||!a,className:"flex-1",children:u?e.jsxs(e.Fragment,{children:[e.jsx(G,{className:"h-4 w-4 mr-2 animate-spin"}),"Google ile Giriş Yapılıyor..."]}):e.jsxs(e.Fragment,{children:[e.jsx(I,{className:"h-4 w-4 mr-2"}),"Google ile Giriş Yap"]})}),e.jsx(z,{variant:"outline",onClick:o,disabled:c,children:"Yenile"})]}),e.jsxs("div",{className:"text-sm text-muted-foreground space-y-2 pt-2 border-t",children:[e.jsx("p",{className:"font-medium",children:"Bilgi:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[e.jsx("li",{children:"Google ile giriş yaptığınızda Drive erişimi otomatik olarak sağlanır"}),e.jsx("li",{children:"Token'lar sadece sizin tarayıcınızda saklanır"}),e.jsx("li",{children:"Token'lar otomatik olarak yenilenir"}),e.jsx("li",{children:"Yetkilendirmeyi istediğiniz zaman kaldırabilirsiniz"}),e.jsx("li",{children:"Drive yetkilendirmesi olmadan dosya yükleme yapılamaz"})]})]})]})]})},ns=()=>{const{user:a,isSuperAdmin:s}=F(),[t,c]=d.useState(!0);return d.useEffect(()=>{c(!1)},[]),t?e.jsx(ie,{children:e.jsx(Xe,{message:"Ayarlar yükleniyor..."})}):e.jsx(ie,{children:e.jsxs("div",{className:"w-full max-w-7xl mx-auto space-y-3 sm:space-y-4 md:space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-foreground",children:"Ayarlar"}),e.jsx("p",{className:"text-muted-foreground mt-0.5 sm:mt-1 text-xs sm:text-sm",children:s?"Sistem ve şirket ayarlarını yönetin":"Profil bilgilerinizi yönetin"})]}),s?e.jsxs(Te,{defaultValue:"company",className:"w-full space-y-3 sm:space-y-4",children:[e.jsxs(Ae,{className:"grid grid-cols-3 w-full sm:w-auto",children:[e.jsxs(V,{value:"company",className:"flex items-center gap-1.5 sm:gap-2 text-xs sm:text-sm min-h-[44px] sm:min-h-0",children:[e.jsx(Pe,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden xs:inline",children:"Şirket Bilgileri"}),e.jsx("span",{className:"xs:hidden",children:"Şirket"})]}),e.jsxs(V,{value:"profile",className:"flex items-center gap-1.5 sm:gap-2 text-xs sm:text-sm min-h-[44px] sm:min-h-0",children:[e.jsx(Oe,{className:"h-4 w-4"}),"Profil"]}),e.jsxs(V,{value:"drive",className:"flex items-center gap-1.5 sm:gap-2 text-xs sm:text-sm min-h-[44px] sm:min-h-0",children:[e.jsx(I,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Google Drive"}),e.jsx("span",{className:"sm:hidden",children:"Drive"})]})]}),e.jsx(M,{value:"company",className:"w-full",children:e.jsx(qe,{})}),e.jsx(M,{value:"profile",className:"w-full",children:e.jsx(re,{})}),e.jsx(M,{value:"drive",className:"w-full",children:e.jsx(ne,{})})]}):e.jsxs("div",{className:"w-full space-y-6",children:[e.jsx(re,{}),e.jsx(ne,{})]})]})})};export{ns as default};
