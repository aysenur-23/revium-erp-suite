import{k as ve,a as je,r as x,j as e,B as m,C,e as I,S as J,p as Q,q as W,s as Z,t as u,X as be,aa as ee,i as A,ab as G,w as B,b as c,h as ke}from"./index-Xd90qdO9.js";import{M as fe,r as P,B as we,C as Ne,s as ye,D as M,a as $,b as F,c as L,d as q,T as V,P as Re,v as _e,k as Ce,w as Ie}from"./MainLayout-DW7UjMSA.js";import{s as Ae,n as Ge,o as Te,p as Se,q as w,t as ze,v as De,w as Oe,x as Ee,y as Be}from"./taskService-CQO0i9v5.js";const Pe=r=>{const l=r.metadata;if(l&&typeof l=="object"&&"assignment_id"in l){const o=l.assignment_id;if(typeof o=="string")return o}if(r.type==="task_assigned"&&typeof r.relatedId=="string")return r.relatedId},se=r=>{const l=r.metadata;if(l&&typeof l=="object"&&"action"in l){const o=l.action;return typeof o=="string"&&(o==="accepted"||o==="rejected"||o==="rejection_approved"||o==="rejection_rejected")}return!1},re=r=>{const l=r.metadata;return l&&typeof l=="object"&&"action"in l?l.action==="rejection_pending_approval":!1},Me=r=>{const l=r.metadata;if(l&&typeof l=="object"&&"action"in l){const o=l.action,p="assigned_user_id"in l;return o==="rejected"&&p}return!1},$e=r=>({...r,assignmentId:Pe(r)}),ae=r=>r.type==="task_assigned"&&!!r.assignmentId&&!se(r)&&!re(r),Fe=r=>r.type==="task_approval"&&!!r.relatedId&&!se(r);function Ke(){const{user:r}=ve(),l=je(),[o,p]=x.useState([]),[te,T]=x.useState(!0),[k,H]=x.useState("all"),[f,K]=x.useState("all"),[n,h]=x.useState(!1),[de,y]=x.useState(!1),[v,S]=x.useState(""),[d,g]=x.useState(null),[le,N]=x.useState(!1),[j,z]=x.useState(""),[ne,R]=x.useState(!1),[_,D]=x.useState("");x.useEffect(()=>{if(!(r!=null&&r.id))return;T(!0);const a=Ae(r.id,{},s=>{try{p(s.map($e)),T(!1)}catch(t){console.error("Real-time notifications update error:",t),T(!1)}});return()=>{a()}},[r]);const X=x.useMemo(()=>o.filter(a=>!(k!=="all"&&a.type!==k||f==="read"&&!a.read||f==="unread"&&a.read)),[o,k,f]),ie=async a=>{try{await Ge(a),p(s=>s.map(t=>t.id===a?{...t,read:!0}:t))}catch(s){console.error("Bildirim güncellenirken hata:",s),c.error("Bildirim güncellenemedi")}},me=async()=>{if(r!=null&&r.id)try{await Te(r.id),p(a=>a.map(s=>({...s,read:!0}))),c.success("Tüm bildirimler okundu olarak işaretlendi")}catch(a){const s=a instanceof Error?a.message:"Bilinmeyen hata";c.error("Bildirimler güncellenirken hata: "+s)}},ce=a=>{const s="h-5 w-5";switch(a){case"task_assigned":return e.jsx(Ce,{className:s});case"task_updated":return e.jsx(ee,{className:s});case"task_completed":return e.jsx(_e,{className:s});case"task_approval":return e.jsx(ke,{className:s});case"order_created":return e.jsx(Re,{className:s});default:return e.jsx(P,{className:s})}},oe=(a,s)=>{if(s)return"bg-slate-50 dark:bg-slate-900/50";switch(a){case"task_assigned":return"bg-emerald-50 dark:bg-emerald-950/30 border-l-4 border-emerald-500";case"task_updated":return"bg-blue-50 dark:bg-blue-950/30 border-l-4 border-blue-500";case"task_completed":return"bg-green-50 dark:bg-green-950/30 border-l-4 border-green-500";case"task_approval":return"bg-amber-50 dark:bg-amber-950/30 border-l-4 border-amber-500";default:return"bg-slate-50 dark:bg-slate-900/50 border-l-4 border-slate-400"}},xe=async a=>{if(!a.assignmentId||!a.relatedId){c.error("Görev bilgisi eksik. Lütfen bildirimi yenileyin.");return}h(!0);try{await Se(a.relatedId,a.assignmentId);const s={...a.metadata,action:"accepted"};await w(a.id,{metadata:s,read:!0}),p(t=>t.map(i=>i.id===a.id?{...i,read:!0,metadata:s}:i)),c.success("Görev kabul edildi")}catch(s){const t=s instanceof Error?s.message:"Görev kabul edilemedi";c.error("Görev kabul edilemedi: "+t)}finally{h(!1)}},he=async()=>{if(!(!(d!=null&&d.assignmentId)||!(d!=null&&d.relatedId)||v.trim().length<20)){h(!0);try{await ze(d.relatedId,d.assignmentId,v.trim());const a={...d.metadata,action:"rejected"};await w(d.id,{metadata:a,read:!0}),p(s=>s.map(t=>t.id===d.id?{...t,read:!0,metadata:a}:t)),c.success("Görev reddedildi"),y(!1),S(""),g(null)}catch(a){const s=a instanceof Error?a.message:"Görev reddedilemedi";c.error("Görev reddedilemedi: "+s)}finally{h(!1)}}},Y=async a=>{if(!(!a.assignmentId||!a.relatedId)){h(!0);try{await De(a.relatedId,a.assignmentId);const s={...a.metadata,action:"rejection_approved"};await w(a.id,{metadata:s,read:!0}),p(t=>t.map(i=>i.id===a.id?{...i,read:!0,metadata:s}:i)),c.success("Görev reddi onaylandı")}catch(s){const t=s instanceof Error?s.message:"Red onaylanamadı";c.error("Red onaylanamadı: "+t)}finally{h(!1)}}},pe=async()=>{if(!(!(d!=null&&d.assignmentId)||!(d!=null&&d.relatedId)||j.trim().length<20)){h(!0);try{await Oe(d.relatedId,d.assignmentId,j.trim());const a={...d.metadata,action:"rejection_rejected"};await w(d.id,{metadata:a,read:!0}),p(s=>s.map(t=>t.id===d.id?{...t,read:!0,metadata:a}:t)),c.success("Görev reddi reddedildi"),N(!1),z(""),g(null)}catch(a){const s=a instanceof Error?a.message:"Red reddedilemedi";c.error("Red reddedilemedi: "+s)}finally{h(!1)}}},ue=async a=>{if(!(!a.relatedId||!(r!=null&&r.id))){h(!0);try{await Ee(a.relatedId,r.id);const s={...a.metadata,action:"approved"};await w(a.id,{metadata:s,read:!0}),p(t=>t.map(i=>i.id===a.id?{...i,read:!0,metadata:s}:i)),c.success("Görev onaylandı")}catch(s){const t=s instanceof Error?s.message:"Görev onaylanamadı";c.error("Görev onaylanamadı: "+t)}finally{h(!1)}}},ge=async()=>{if(!(!(d!=null&&d.relatedId)||!(r!=null&&r.id)||!_.trim())){h(!0);try{await Be(d.relatedId,r.id,_.trim());const a={...d.metadata,action:"rejected"};await w(d.id,{metadata:a,read:!0}),p(s=>s.map(t=>t.id===d.id?{...t,read:!0,metadata:a}:t)),c.success("Görev onayı reddedildi"),R(!1),D(""),g(null)}catch(a){const s=a instanceof Error?a.message:"Görev onayı reddedilemedi";c.error("Görev onayı reddedilemedi: "+s)}finally{h(!1)}}},O=o.filter(a=>!a.read).length;return e.jsxs(fe,{children:[e.jsxs("div",{className:"container mx-auto px-3 sm:px-4 py-4 sm:py-6 max-w-6xl",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4 mb-4 sm:mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx(P,{className:"h-5 w-5 sm:h-6 sm:w-6 text-primary flex-shrink-0"}),e.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold",children:"Bildirimler"}),O>0&&e.jsxs(we,{variant:"destructive",className:"h-5 sm:h-6 px-2 text-xs sm:text-sm",children:[O," okunmamış"]})]}),O>0&&e.jsx(m,{variant:"outline",size:"sm",className:"w-full sm:w-auto min-h-[44px] sm:min-h-0",onClick:me,disabled:n,children:"Tümünü okundu işaretle"})]}),e.jsx(C,{children:e.jsx(I,{className:"p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-wrap items-center gap-3 sm:gap-4",children:[e.jsxs(J,{value:k,onValueChange:H,children:[e.jsx(Q,{className:"w-full sm:w-[180px] h-10 min-h-[44px] sm:min-h-0",children:e.jsx(W,{placeholder:"Bildirim Tipi"})}),e.jsxs(Z,{children:[e.jsx(u,{value:"all",children:"Tüm Tipler"}),e.jsx(u,{value:"task_assigned",children:"Görev Atandı"}),e.jsx(u,{value:"task_updated",children:"Görev Güncellendi"}),e.jsx(u,{value:"task_completed",children:"Görev Tamamlandı"}),e.jsx(u,{value:"task_approval",children:"Görev Onayı"}),e.jsx(u,{value:"order_created",children:"Sipariş Oluşturuldu"}),e.jsx(u,{value:"order_updated",children:"Sipariş Güncellendi"}),e.jsx(u,{value:"system",children:"Sistem"})]})]}),e.jsxs(J,{value:f,onValueChange:K,children:[e.jsx(Q,{className:"w-full sm:w-[180px] h-10 min-h-[44px] sm:min-h-0",children:e.jsx(W,{placeholder:"Okunma Durumu"})}),e.jsxs(Z,{children:[e.jsx(u,{value:"all",children:"Tümü"}),e.jsx(u,{value:"unread",children:"Okunmamış"}),e.jsx(u,{value:"read",children:"Okunmuş"})]})]}),(k!=="all"||f!=="all")&&e.jsxs(m,{variant:"outline",size:"sm",onClick:()=>{H("all"),K("all")},className:"h-10 min-h-[44px] sm:min-h-0",children:[e.jsx(be,{className:"h-4 w-4 mr-2"}),"Temizle"]})]})})}),te?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(ee,{className:"h-8 w-8 animate-spin text-primary"})}):X.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4 bg-card border rounded-lg",children:[e.jsx(P,{className:"h-16 w-16 text-muted-foreground/40 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-muted-foreground",children:"Bildirim bulunamadı"}),e.jsx("p",{className:"text-sm text-muted-foreground/70 mt-2",children:k!=="all"||f!=="all"?"Filtreleri değiştirerek tekrar deneyin":"Henüz bildirim yok"})]}):e.jsx("div",{className:"space-y-3",children:X.map(a=>e.jsxs("div",{className:`group relative rounded-lg transition-all duration-200 hover:shadow-md ${oe(a.type,a.read)} ${a.read?"":"shadow-sm"}`,children:[e.jsx("div",{className:"p-5 cursor-pointer",onClick:s=>{s.preventDefault(),!ae(a)&&(a.read||ie(a.id),a.relatedId&&(["task_assigned","task_updated","task_completed","task_created","task_approval"].includes(a.type)?l(`/tasks?taskId=${a.relatedId}&view=list`):["order_created","order_updated"].includes(a.type)?l("/orders"):a.type==="role_changed"&&l("/admin")))},children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`flex-shrink-0 mt-0.5 p-2.5 rounded-lg ${a.read?"bg-slate-100 dark:bg-slate-800 text-slate-500 dark:text-slate-400":a.type==="task_assigned"?"bg-emerald-100 dark:bg-emerald-900/50 text-emerald-600 dark:text-emerald-400":a.type==="task_updated"?"bg-blue-100 dark:bg-blue-900/50 text-blue-600 dark:text-blue-400":a.type==="task_completed"?"bg-green-100 dark:bg-green-900/50 text-green-600 dark:text-green-400":a.type==="task_approval"?"bg-amber-100 dark:bg-amber-900/50 text-amber-600 dark:text-amber-400":"bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-400"}`,children:ce(a.type)}),e.jsxs("div",{className:"flex-1 min-w-0 space-y-2",children:[e.jsx("div",{className:"flex items-start justify-between gap-2",children:e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:`text-base font-semibold leading-tight ${a.read?"text-slate-700 dark:text-slate-300":"text-slate-900 dark:text-slate-100"}`,children:a.title}),!a.read&&e.jsx("div",{className:"h-2 w-2 rounded-full bg-primary flex-shrink-0 mt-1 animate-pulse"})]})})}),a.message&&e.jsx("p",{className:`text-sm leading-relaxed ${a.read?"text-slate-600 dark:text-slate-400":"text-slate-700 dark:text-slate-300"}`,children:(()=>{let s=a.message;const t=/column_\d+/g,i={pending:"Beklemede",in_progress:"Devam Ediyor",completed:"Tamamlandı",cancelled:"İptal Edildi"};return s=s.replace(t,Le=>{if(a.metadata){const b=a.metadata,E=b.newStatus||b.status||b.new_status;if(E&&i[E])return i[E];if(typeof b=="object"){for(const U in b)if(i[b[U]])return i[b[U]]}}return"Yeni Durum"}),s})()}),e.jsxs("div",{className:"flex items-center gap-2 pt-1",children:[e.jsx(Ne,{className:"h-4 w-4 text-slate-400 dark:text-slate-500"}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 font-medium",children:a.createdAt?ye(a.createdAt.toDate(),{addSuffix:!0,locale:Ie}):"Yakın zamanda"})]})]})]})}),ae(a)&&e.jsx("div",{className:"px-5 pb-5 pt-3 border-t border-slate-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(m,{size:"sm",className:"flex-1 h-9 bg-emerald-600 hover:bg-emerald-700 text-white font-medium shadow-sm",onClick:s=>{s.stopPropagation(),xe(a)},disabled:n,children:[e.jsx(A,{className:"h-4 w-4 mr-1.5"}),"Kabul Et"]}),e.jsxs(m,{size:"sm",variant:"outline",className:"flex-1 h-9 border-red-300 dark:border-red-800 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-950/30 font-medium",onClick:s=>{s.stopPropagation(),g(a),y(!0)},disabled:n,children:[e.jsx(G,{className:"h-4 w-4 mr-1.5"}),"Reddet"]})]})}),re(a)&&a.assignmentId&&e.jsx("div",{className:"px-5 pb-5 pt-3 border-t border-slate-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(m,{size:"sm",className:"flex-1 h-9 bg-emerald-600 hover:bg-emerald-700 text-white font-medium shadow-sm",onClick:s=>{s.stopPropagation(),Y(a)},disabled:n,children:[e.jsx(A,{className:"h-4 w-4 mr-1.5"}),"Reddi Onayla"]}),e.jsxs(m,{size:"sm",variant:"outline",className:"flex-1 h-9 border-red-300 dark:border-red-800 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-950/30 font-medium",onClick:s=>{s.stopPropagation(),g(a),N(!0)},disabled:n,children:[e.jsx(G,{className:"h-4 w-4 mr-1.5"}),"Reddi Reddet"]})]})}),Me(a)&&a.assignmentId&&e.jsx("div",{className:"px-5 pb-5 pt-3 border-t border-slate-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(m,{size:"sm",className:"flex-1 h-9 bg-emerald-600 hover:bg-emerald-700 text-white font-medium shadow-sm",onClick:s=>{s.stopPropagation(),Y(a)},disabled:n,children:[e.jsx(A,{className:"h-4 w-4 mr-1.5"}),"Reddi Kabul Et"]}),e.jsxs(m,{size:"sm",variant:"outline",className:"flex-1 h-9 border-red-300 dark:border-red-800 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-950/30 font-medium",onClick:s=>{s.stopPropagation(),g(a),N(!0)},disabled:n,children:[e.jsx(G,{className:"h-4 w-4 mr-1.5"}),"Reddi Reddet"]})]})}),Fe(a)&&e.jsx("div",{className:"px-5 pb-5 pt-3 border-t border-slate-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(m,{size:"sm",className:"flex-1 h-9 bg-emerald-600 hover:bg-emerald-700 text-white font-medium shadow-sm",onClick:s=>{s.stopPropagation(),ue(a)},disabled:n,children:[e.jsx(A,{className:"h-4 w-4 mr-1.5"}),"Onayla"]}),e.jsxs(m,{size:"sm",variant:"outline",className:"flex-1 h-9 border-red-300 dark:border-red-800 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-950/30 font-medium",onClick:s=>{s.stopPropagation(),g(a),R(!0)},disabled:n,children:[e.jsx(G,{className:"h-4 w-4 mr-1.5"}),"Reddet"]})]})})]},a.id))})]}),e.jsx(M,{open:de,onOpenChange:y,children:e.jsx($,{className:"!max-w-[100vw] sm:!max-w-[95vw] !w-[100vw] sm:!w-[95vw] !h-[100vh] sm:!h-[90vh] !max-h-[100vh] sm:!max-h-[90vh] !left-0 sm:!left-[2.5vw] !top-0 sm:!top-[5vh] !right-0 sm:!right-auto !bottom-0 sm:!bottom-auto !translate-x-0 !translate-y-0 overflow-hidden !p-0 gap-0 bg-white flex flex-col !m-0 !rounded-none sm:!rounded-lg !border-0 sm:!border",children:e.jsxs("div",{className:"flex flex-col h-full min-h-0",children:[e.jsxs(F,{className:"p-4 sm:p-6 border-b bg-white flex-shrink-0 relative pr-12 sm:pr-16",children:[e.jsx(L,{className:"text-xl sm:text-2xl font-semibold text-foreground",children:"Görevi Reddet"}),e.jsx(q,{className:"mt-1 text-xs sm:text-sm text-muted-foreground",children:"Görevi reddetmek için lütfen en az 20 karakterlik bir sebep belirtin."})]}),e.jsx("div",{className:"flex-1 overflow-hidden bg-gray-50/50 p-3 sm:p-4 min-h-0",children:e.jsx("div",{className:"max-w-full mx-auto h-full overflow-y-auto",children:e.jsx(C,{children:e.jsx(I,{className:"space-y-4 pt-6",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"rejection_reason",className:"text-sm sm:text-base",showRequired:!0,children:"Reddetme Sebebi"}),e.jsx(V,{id:"rejection_reason",value:v,onChange:a=>S(a.target.value),placeholder:"Görevi neden reddettiğinizi açıklayın (en az 20 karakter)...",rows:4,className:`min-h-[100px] sm:min-h-[120px] ${v.length>0&&v.length<20?"border-destructive":""}`}),v.length>0&&v.length<20&&e.jsxs("p",{className:"text-xs text-destructive",children:["En az ",20-v.length," karakter daha gerekli"]})]})})})})}),e.jsxs("div",{className:"p-4 sm:p-6 border-t bg-white flex-shrink-0 flex flex-wrap gap-2 justify-end",children:[e.jsx(m,{variant:"outline",onClick:()=>{y(!1),S(""),g(null)},disabled:n,className:"min-h-[44px] sm:min-h-0",children:"İptal"}),e.jsx(m,{variant:"destructive",onClick:he,disabled:n||v.trim().length<20,className:"min-h-[44px] sm:min-h-0",children:n?"Reddediliyor...":"Reddet"})]})]})})}),e.jsx(M,{open:le,onOpenChange:N,children:e.jsx($,{className:"!max-w-[100vw] sm:!max-w-[95vw] !w-[100vw] sm:!w-[95vw] !h-[100vh] sm:!h-[90vh] !max-h-[100vh] sm:!max-h-[90vh] !left-0 sm:!left-[2.5vw] !top-0 sm:!top-[5vh] !right-0 sm:!right-auto !bottom-0 sm:!bottom-auto !translate-x-0 !translate-y-0 overflow-hidden !p-0 gap-0 bg-white flex flex-col !m-0 !rounded-none sm:!rounded-lg !border-0 sm:!border",children:e.jsxs("div",{className:"flex flex-col h-full min-h-0",children:[e.jsxs(F,{className:"p-4 sm:p-6 border-b bg-white flex-shrink-0 relative pr-12 sm:pr-16",children:[e.jsx(L,{className:"text-xl sm:text-2xl font-semibold text-foreground",children:"Görev Reddi Reddet"}),e.jsx(q,{className:"mt-1 text-xs sm:text-sm text-muted-foreground",children:"Görev reddi reddedildiğinde görev tekrar atanan kişiye döner. Lütfen en az 20 karakterlik bir sebep belirtin."})]}),e.jsx("div",{className:"flex-1 overflow-hidden bg-gray-50/50 p-3 sm:p-4 min-h-0",children:e.jsx("div",{className:"max-w-full mx-auto h-full overflow-y-auto",children:e.jsx(C,{children:e.jsx(I,{className:"space-y-4 pt-6",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"rejection_rejection_reason",className:"text-sm sm:text-base",showRequired:!0,children:"Reddetme Sebebi"}),e.jsx(V,{id:"rejection_rejection_reason",value:j,onChange:a=>z(a.target.value),placeholder:"Görev reddi neden reddedildiğini açıklayın (en az 20 karakter)...",rows:4,className:`min-h-[100px] sm:min-h-[120px] ${j.length>0&&j.length<20?"border-destructive":""}`}),j.length>0&&j.length<20&&e.jsxs("p",{className:"text-xs text-destructive",children:["En az ",20-j.length," karakter daha gerekli"]})]})})})})}),e.jsxs("div",{className:"p-4 sm:p-6 border-t bg-white flex-shrink-0 flex flex-wrap gap-2 justify-end",children:[e.jsx(m,{variant:"outline",onClick:()=>{N(!1),z(""),g(null)},disabled:n,className:"min-h-[44px] sm:min-h-0",children:"İptal"}),e.jsx(m,{variant:"destructive",onClick:pe,disabled:n||j.trim().length<20,className:"min-h-[44px] sm:min-h-0",children:n?"Reddediliyor...":"Reddi Reddet"})]})]})})}),e.jsx(M,{open:ne,onOpenChange:R,children:e.jsx($,{className:"!max-w-[100vw] sm:!max-w-[95vw] !w-[100vw] sm:!w-[95vw] !h-[100vh] sm:!h-[90vh] !max-h-[100vh] sm:!max-h-[90vh] !left-0 sm:!left-[2.5vw] !top-0 sm:!top-[5vh] !right-0 sm:!right-auto !bottom-0 sm:!bottom-auto !translate-x-0 !translate-y-0 overflow-hidden !p-0 gap-0 bg-white flex flex-col !m-0 !rounded-none sm:!rounded-lg !border-0 sm:!border",children:e.jsxs("div",{className:"flex flex-col h-full min-h-0",children:[e.jsxs(F,{className:"p-4 sm:p-6 border-b bg-white flex-shrink-0 relative pr-12 sm:pr-16",children:[e.jsx(L,{className:"text-xl sm:text-2xl font-semibold text-foreground",children:"Görev Onayını Reddet"}),e.jsx(q,{className:"mt-1 text-xs sm:text-sm text-muted-foreground",children:"Görev onayını reddetmek için lütfen bir not ekleyin. Görev tekrar panoya dönecektir."})]}),e.jsx("div",{className:"flex-1 overflow-hidden bg-gray-50/50 p-3 sm:p-4 min-h-0",children:e.jsx("div",{className:"max-w-full mx-auto h-full overflow-y-auto",children:e.jsx(C,{children:e.jsx(I,{className:"space-y-4 pt-6",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"rejection_approval_reason",className:"text-sm sm:text-base",showRequired:!0,children:"Reddetme Notu"}),e.jsx(V,{id:"rejection_approval_reason",value:_,onChange:a=>D(a.target.value),placeholder:"Görev onayını neden reddettiğinizi açıklayın...",rows:4,className:"min-h-[100px] sm:min-h-[120px]"})]})})})})}),e.jsxs("div",{className:"p-4 sm:p-6 border-t bg-white flex-shrink-0 flex flex-wrap gap-2 justify-end",children:[e.jsx(m,{variant:"outline",onClick:()=>{R(!1),D(""),g(null)},disabled:n,className:"min-h-[44px] sm:min-h-0",children:"İptal"}),e.jsx(m,{variant:"destructive",onClick:ge,disabled:n||!_.trim(),className:"min-h-[44px] sm:min-h-0",children:n?"Reddediliyor...":"Reddet"})]})]})})})]})}export{Ke as default};
