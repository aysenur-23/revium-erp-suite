import{x as m,y as i,z as u,D as g,E as R,F as h,G as p,T as l,H as f,I as y,J as E}from"./index-Xd90qdO9.js";const d="recipes",D=async o=>{try{const e=m(i,d),t=u(e,g("productId","==",o)),a=await R(t),s=[];for(const n of a.docs){const w=n.data(),c={id:n.id,...w};if(c.rawMaterialId)try{const r=await h(p(i,"raw_materials",c.rawMaterialId));r.exists()&&(c.rawMaterial={id:r.id,...r.data()})}catch(r){console.error("Error fetching raw material:",r)}s.push(c)}return s}catch(e){throw console.error("Error getting product recipes:",e),new Error(e.message||"Reçeteler yüklenemedi")}},M=async(o,e,t)=>{try{const a=m(i,d),s={productId:o,rawMaterialId:e,quantityPerUnit:t,createdAt:l.now(),updatedAt:l.now()};return(await f(a,s)).id}catch(a){throw console.error("Error adding recipe item:",a),new Error(a.message||"Reçete eklenemedi")}},x=async(o,e)=>{try{const t=p(i,d,o);await y(t,{quantityPerUnit:e,updatedAt:l.now()})}catch(t){throw console.error("Error updating recipe item:",t),new Error(t.message||"Reçete güncellenemedi")}},k=async o=>{try{const e=p(i,d,o);await E(e)}catch(e){throw console.error("Error deleting recipe item:",e),new Error(e.message||"Reçete silinemedi")}},q=async o=>{try{const e=m(i,d),t=u(e,g("rawMaterialId","==",o)),a=await R(t),s=[];for(const n of a.docs){const w=n.data(),c={id:n.id,...w};if(c.productId)try{const r=await h(p(i,"products",c.productId));r.exists()&&(c.product={id:r.id,...r.data()})}catch(r){console.error("Error fetching product:",r)}s.push(c)}return s}catch(e){throw console.error("Error getting raw material recipes:",e),new Error(e.message||"Reçeteler yüklenemedi")}};export{M as a,D as b,k as d,q as g,x as u};
