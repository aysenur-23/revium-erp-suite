var rt=Object.defineProperty,st=Object.defineProperties;var lt=Object.getOwnPropertyDescriptors;var ke=Object.getOwnPropertySymbols;var fa=Object.prototype.hasOwnProperty,ha=Object.prototype.propertyIsEnumerable;var ma=(e,n,t)=>n in e?rt(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,F=(e,n)=>{for(var t in n||(n={}))fa.call(n,t)&&ma(e,t,n[t]);if(ke)for(var t of ke(n))ha.call(n,t)&&ma(e,t,n[t]);return e},z=(e,n)=>st(e,lt(n));var Ce=(e,n)=>{var t={};for(var r in e)fa.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&ke)for(var r of ke(e))n.indexOf(r)<0&&ha.call(e,r)&&(t[r]=e[r]);return t};var pe=(e,n,t)=>new Promise((r,s)=>{var l=d=>{try{i(t.next(d))}catch(c){s(c)}},o=d=>{try{i(t.throw(d))}catch(c){s(c)}},i=d=>d.done?r(d.value):Promise.resolve(d.value).then(l,o);i((t=t.apply(e,n)).next())});import{j as a,l as J,as as va,u as ot,a as P,C as le,p as oe,q as ie,b as de,L,I as ye,B as A,S as xa,c as pa,d as ya,e as ga,f as Ee,T as De}from"./index-BQmY0BmM.js";import{r as g,at as it,G as dt,H as Re,o as Me,au as ba,k as Ye,l as ct,av as ut,m as Ae,ab as Be,P as Xe,T as mt,I as ja,b as ft,ah as ht,_ as vt}from"./lucide-react-CAeuRJQk.js";import{G as Y,H as ge,a4 as Na,a5 as xt,a6 as pt,a7 as aa,a8 as be,a9 as yt,l as gt,o as bt,D as jt,a as Nt,b as _t,c as wt,e as kt,B as He,t as ze,T as Ct,S as Dt,C as Mt,x as St,y as Ot,z as Pt,A as _a,E as wa,aa as Tt,a1 as It,m as Ft}from"./MainLayout-Dv9j77B5.js";import{C as Lt}from"./CustomerCombobox-LwAUFZox.js";import{S as qe}from"./separator-C1rUq6WW.js";import{P as Se,a as Oe,b as Pe}from"./popover-Bq_PZ6uK.js";import{i as E}from"./isSameDay-CbFR9PGK.js";import{s as Ke}from"./subDays-DIU4Ell8.js";import{a as je,d as ee,s as ka,b as Wt,c as ta,g as Et,e as Rt,f as U,i as Pa}from"./format-CN3feEER.js";import{a as W}from"./addDays-DpNspVkx.js";import{i as Ta,a as Je}from"./isBefore-DY2_5hKP.js";import{C as Yt}from"./CustomerDetailModal-DKJKtFVM.js";import{C as Ia,a as At}from"./currency-BpxR3_y8.js";function q(e,n){const t=Y(e);if(isNaN(n))return ge(e,NaN);if(!n)return t;const r=t.getDate(),s=ge(e,t.getTime());s.setMonth(t.getMonth()+n+1,0);const l=s.getDate();return r>=l?s:(t.setFullYear(s.getFullYear(),s.getMonth(),r),t)}function ea(e,n){const t=n*7;return W(e,t)}function Bt(e,n){return q(e,n*12)}function Ht(e){let n;return e.forEach(function(t){const r=Y(t);(n===void 0||n<r||isNaN(Number(r)))&&(n=r)}),n||new Date(NaN)}function zt(e){let n;return e.forEach(t=>{const r=Y(t);(!n||n>r||isNaN(+r))&&(n=r)}),n||new Date(NaN)}function qt(e,n,t){const r=je(e,t),s=je(n,t),l=+r-Na(r),o=+s-Na(s);return Math.round((l-o)/xt)}function R(e){const n=Y(e);return n.setDate(1),n.setHours(0,0,0,0),n}function na(e,n){var i,d,c,m,v,f,y,j;const t=pt(),r=(j=(y=(m=(c=n==null?void 0:n.weekStartsOn)!=null?c:(d=(i=n==null?void 0:n.locale)==null?void 0:i.options)==null?void 0:d.weekStartsOn)!=null?m:t.weekStartsOn)!=null?y:(f=(v=t.locale)==null?void 0:v.options)==null?void 0:f.weekStartsOn)!=null?j:0,s=Y(e),l=s.getDay(),o=(l<r?-7:0)+6-(l-r);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}function Fa(e){return na(e,{weekStartsOn:1})}function Kt(e){const n=Y(e),t=n.getFullYear(),r=n.getMonth(),s=ge(e,0);return s.setFullYear(t,r+1,0),s.setHours(0,0,0,0),s.getDate()}function Ut(e){return Math.trunc(+Y(e)/1e3)}function Vt(e){const n=Y(e),t=n.getMonth();return n.setFullYear(n.getFullYear(),t+1,0),n.setHours(0,0,0,0),n}function Gt(e,n){return qt(Vt(e),R(e),n)+1}function ra(e,n){const t=Y(e),r=Y(n);return t.getFullYear()===r.getFullYear()&&t.getMonth()===r.getMonth()}function $t(e,n){const t=Y(e),r=Y(n);return t.getFullYear()===r.getFullYear()}function Ue(e,n){const t=Y(e),r=t.getFullYear(),s=t.getDate(),l=ge(e,0);l.setFullYear(r,n,15),l.setHours(0,0,0,0);const o=Kt(l);return t.setMonth(n,Math.min(s,o)),t}function Ca(e,n){const t=Y(e);return isNaN(+t)?ge(e,NaN):(t.setFullYear(n),t)}var N=function(){return N=Object.assign||function(n){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(n[l]=t[l])}return n},N.apply(this,arguments)};function Zt(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)n.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(t[r[s]]=e[r[s]]);return t}function La(e,n,t){for(var r=0,s=n.length,l;r<s;r++)(l||!(r in n))&&(l||(l=Array.prototype.slice.call(n,0,r)),l[r]=n[r]);return e.concat(l||Array.prototype.slice.call(n))}function Ne(e){return e.mode==="multiple"}function _e(e){return e.mode==="range"}function Le(e){return e.mode==="single"}var Qt={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function Xt(e,n){return U(e,"LLLL y",n)}function Jt(e,n){return U(e,"d",n)}function en(e,n){return U(e,"LLLL",n)}function an(e){return"".concat(e)}function tn(e,n){return U(e,"cccccc",n)}function nn(e,n){return U(e,"yyyy",n)}var rn=Object.freeze({__proto__:null,formatCaption:Xt,formatDay:Jt,formatMonthCaption:en,formatWeekNumber:an,formatWeekdayName:tn,formatYearCaption:nn}),sn=function(e,n,t){return U(e,"do MMMM (EEEE)",t)},ln=function(){return"Month: "},on=function(){return"Go to next month"},dn=function(){return"Go to previous month"},cn=function(e,n){return U(e,"cccc",n)},un=function(e){return"Week n. ".concat(e)},mn=function(){return"Year: "},fn=Object.freeze({__proto__:null,labelDay:sn,labelMonthDropdown:ln,labelNext:on,labelPrevious:dn,labelWeekNumber:un,labelWeekday:cn,labelYearDropdown:mn});function hn(){var e="buttons",n=Qt,t=yt,r={},s={},l=1,o={},i=new Date;return{captionLayout:e,classNames:n,formatters:rn,labels:fn,locale:t,modifiersClassNames:r,modifiers:s,numberOfMonths:l,styles:o,today:i,mode:"default"}}function vn(e){var n=e.fromYear,t=e.toYear,r=e.fromMonth,s=e.toMonth,l=e.fromDate,o=e.toDate;return r?l=R(r):n&&(l=new Date(n,0,1)),s?o=aa(s):t&&(o=new Date(t,11,31)),{fromDate:l?ka(l):void 0,toDate:o?ka(o):void 0}}var Wa=g.createContext(void 0);function xn(e){var n,t=e.initialProps,r=hn(),s=vn(t),l=s.fromDate,o=s.toDate,i=(n=t.captionLayout)!==null&&n!==void 0?n:r.captionLayout;i!=="buttons"&&(!l||!o)&&(i="buttons");var d;(Le(t)||Ne(t)||_e(t))&&(d=t.onSelect);var c=N(N(N({},r),t),{captionLayout:i,classNames:N(N({},r.classNames),t.classNames),components:N({},t.components),formatters:N(N({},r.formatters),t.formatters),fromDate:l,labels:N(N({},r.labels),t.labels),mode:t.mode||r.mode,modifiers:N(N({},r.modifiers),t.modifiers),modifiersClassNames:N(N({},r.modifiersClassNames),t.modifiersClassNames),onSelect:d,styles:N(N({},r.styles),t.styles),toDate:o});return a.jsx(Wa.Provider,{value:c,children:e.children})}function M(){var e=g.useContext(Wa);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function Ea(e){var n=M(),t=n.locale,r=n.classNames,s=n.styles,l=n.formatters.formatCaption;return a.jsx("div",{className:r.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:l(e.displayMonth,{locale:t})})}function pn(e){return a.jsx("svg",N({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:a.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Ra(e){var n,t,r=e.onChange,s=e.value,l=e.children,o=e.caption,i=e.className,d=e.style,c=M(),m=(t=(n=c.components)===null||n===void 0?void 0:n.IconDropdown)!==null&&t!==void 0?t:pn;return a.jsxs("div",{className:i,style:d,children:[a.jsx("span",{className:c.classNames.vhidden,children:e["aria-label"]}),a.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:c.classNames.dropdown,style:c.styles.dropdown,value:s,onChange:r,children:l}),a.jsxs("div",{className:c.classNames.caption_label,style:c.styles.caption_label,"aria-hidden":"true",children:[o,a.jsx(m,{className:c.classNames.dropdown_icon,style:c.styles.dropdown_icon})]})]})}function yn(e){var n,t=M(),r=t.fromDate,s=t.toDate,l=t.styles,o=t.locale,i=t.formatters.formatMonthCaption,d=t.classNames,c=t.components,m=t.labels.labelMonthDropdown;if(!r)return a.jsx(a.Fragment,{});if(!s)return a.jsx(a.Fragment,{});var v=[];if($t(r,s))for(var f=R(r),y=r.getMonth();y<=s.getMonth();y++)v.push(Ue(f,y));else for(var f=R(new Date),y=0;y<=11;y++)v.push(Ue(f,y));var j=function(_){var D=Number(_.target.value),S=Ue(R(e.displayMonth),D);e.onChange(S)},C=(n=c==null?void 0:c.Dropdown)!==null&&n!==void 0?n:Ra;return a.jsx(C,{name:"months","aria-label":m(),className:d.dropdown_month,style:l.dropdown_month,onChange:j,value:e.displayMonth.getMonth(),caption:i(e.displayMonth,{locale:o}),children:v.map(function(_){return a.jsx("option",{value:_.getMonth(),children:i(_,{locale:o})},_.getMonth())})})}function gn(e){var n,t=e.displayMonth,r=M(),s=r.fromDate,l=r.toDate,o=r.locale,i=r.styles,d=r.classNames,c=r.components,m=r.formatters.formatYearCaption,v=r.labels.labelYearDropdown,f=[];if(!s)return a.jsx(a.Fragment,{});if(!l)return a.jsx(a.Fragment,{});for(var y=s.getFullYear(),j=l.getFullYear(),C=y;C<=j;C++)f.push(Ca(Wt(new Date),C));var _=function(S){var ae=Ca(R(t),Number(S.target.value));e.onChange(ae)},D=(n=c==null?void 0:c.Dropdown)!==null&&n!==void 0?n:Ra;return a.jsx(D,{name:"years","aria-label":v(),className:d.dropdown_year,style:i.dropdown_year,onChange:_,value:t.getFullYear(),caption:m(t,{locale:o}),children:f.map(function(S){return a.jsx("option",{value:S.getFullYear(),children:m(S,{locale:o})},S.getFullYear())})})}function bn(e,n){var t=g.useState(e),r=t[0],s=t[1],l=n===void 0?r:n;return[l,s]}function jn(e){var n=e.month,t=e.defaultMonth,r=e.today,s=n||t||r||new Date,l=e.toDate,o=e.fromDate,i=e.numberOfMonths,d=i===void 0?1:i;if(l&&be(l,s)<0){var c=-1*(d-1);s=q(l,c)}return o&&be(s,o)<0&&(s=o),R(s)}function Nn(){var e=M(),n=jn(e),t=bn(n,e.month),r=t[0],s=t[1],l=function(o){var i;if(!e.disableNavigation){var d=R(o);s(d),(i=e.onMonthChange)===null||i===void 0||i.call(e,d)}};return[r,l]}function _n(e,n){for(var t=n.reverseMonths,r=n.numberOfMonths,s=R(e),l=R(q(s,r)),o=be(l,s),i=[],d=0;d<o;d++){var c=q(s,d);i.push(c)}return t&&(i=i.reverse()),i}function wn(e,n){if(!n.disableNavigation){var t=n.toDate,r=n.pagedNavigation,s=n.numberOfMonths,l=s===void 0?1:s,o=r?l:1,i=R(e);if(!t)return q(i,o);var d=be(t,e);if(!(d<l))return q(i,o)}}function kn(e,n){if(!n.disableNavigation){var t=n.fromDate,r=n.pagedNavigation,s=n.numberOfMonths,l=s===void 0?1:s,o=r?l:1,i=R(e);if(!t)return q(i,-o);var d=be(i,t);if(!(d<=0))return q(i,-o)}}var Ya=g.createContext(void 0);function Cn(e){var n=M(),t=Nn(),r=t[0],s=t[1],l=_n(r,n),o=wn(r,n),i=kn(r,n),d=function(v){return l.some(function(f){return ra(v,f)})},c=function(v,f){d(v)||(f&&Ta(v,f)?s(q(v,1+n.numberOfMonths*-1)):s(v))},m={currentMonth:r,displayMonths:l,goToMonth:s,goToDate:c,previousMonth:i,nextMonth:o,isDateDisplayed:d};return a.jsx(Ya.Provider,{value:m,children:e.children})}function we(){var e=g.useContext(Ya);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function Da(e){var n,t=M(),r=t.classNames,s=t.styles,l=t.components,o=we().goToMonth,i=function(m){o(q(m,e.displayIndex?-e.displayIndex:0))},d=(n=l==null?void 0:l.CaptionLabel)!==null&&n!==void 0?n:Ea,c=a.jsx(d,{id:e.id,displayMonth:e.displayMonth});return a.jsxs("div",{className:r.caption_dropdowns,style:s.caption_dropdowns,children:[a.jsx("div",{className:r.vhidden,children:c}),a.jsx(yn,{onChange:i,displayMonth:e.displayMonth}),a.jsx(gn,{onChange:i,displayMonth:e.displayMonth})]})}function Dn(e){return a.jsx("svg",N({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:a.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Mn(e){return a.jsx("svg",N({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:a.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Fe=g.forwardRef(function(e,n){var t=M(),r=t.classNames,s=t.styles,l=[r.button_reset,r.button];e.className&&l.push(e.className);var o=l.join(" "),i=N(N({},s.button_reset),s.button);return e.style&&Object.assign(i,e.style),a.jsx("button",N({},e,{ref:n,type:"button",className:o,style:i}))});function Sn(e){var n,t,r=M(),s=r.dir,l=r.locale,o=r.classNames,i=r.styles,d=r.labels,c=d.labelPrevious,m=d.labelNext,v=r.components;if(!e.nextMonth&&!e.previousMonth)return a.jsx(a.Fragment,{});var f=c(e.previousMonth,{locale:l}),y=[o.nav_button,o.nav_button_previous].join(" "),j=m(e.nextMonth,{locale:l}),C=[o.nav_button,o.nav_button_next].join(" "),_=(n=v==null?void 0:v.IconRight)!==null&&n!==void 0?n:Mn,D=(t=v==null?void 0:v.IconLeft)!==null&&t!==void 0?t:Dn;return a.jsxs("div",{className:o.nav,style:i.nav,children:[!e.hidePrevious&&a.jsx(Fe,{name:"previous-month","aria-label":f,className:y,style:i.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:s==="rtl"?a.jsx(_,{className:o.nav_icon,style:i.nav_icon}):a.jsx(D,{className:o.nav_icon,style:i.nav_icon})}),!e.hideNext&&a.jsx(Fe,{name:"next-month","aria-label":j,className:C,style:i.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:s==="rtl"?a.jsx(D,{className:o.nav_icon,style:i.nav_icon}):a.jsx(_,{className:o.nav_icon,style:i.nav_icon})})]})}function Ma(e){var n=M().numberOfMonths,t=we(),r=t.previousMonth,s=t.nextMonth,l=t.goToMonth,o=t.displayMonths,i=o.findIndex(function(j){return ra(e.displayMonth,j)}),d=i===0,c=i===o.length-1,m=n>1&&(d||!c),v=n>1&&(c||!d),f=function(){r&&l(r)},y=function(){s&&l(s)};return a.jsx(Sn,{displayMonth:e.displayMonth,hideNext:m,hidePrevious:v,nextMonth:s,previousMonth:r,onPreviousClick:f,onNextClick:y})}function On(e){var n,t=M(),r=t.classNames,s=t.disableNavigation,l=t.styles,o=t.captionLayout,i=t.components,d=(n=i==null?void 0:i.CaptionLabel)!==null&&n!==void 0?n:Ea,c;return s?c=a.jsx(d,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?c=a.jsx(Da,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?c=a.jsxs(a.Fragment,{children:[a.jsx(Da,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),a.jsx(Ma,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):c=a.jsxs(a.Fragment,{children:[a.jsx(d,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),a.jsx(Ma,{displayMonth:e.displayMonth,id:e.id})]}),a.jsx("div",{className:r.caption,style:l.caption,children:c})}function Pn(e){var n=M(),t=n.footer,r=n.styles,s=n.classNames.tfoot;return t?a.jsx("tfoot",{className:s,style:r.tfoot,children:a.jsx("tr",{children:a.jsx("td",{colSpan:8,children:t})})}):a.jsx(a.Fragment,{})}function Tn(e,n,t){for(var r=t?ta(new Date):je(new Date,{locale:e,weekStartsOn:n}),s=[],l=0;l<7;l++){var o=W(r,l);s.push(o)}return s}function In(){var e=M(),n=e.classNames,t=e.styles,r=e.showWeekNumber,s=e.locale,l=e.weekStartsOn,o=e.ISOWeek,i=e.formatters.formatWeekdayName,d=e.labels.labelWeekday,c=Tn(s,l,o);return a.jsxs("tr",{style:t.head_row,className:n.head_row,children:[r&&a.jsx("td",{style:t.head_cell,className:n.head_cell}),c.map(function(m,v){return a.jsx("th",{scope:"col",className:n.head_cell,style:t.head_cell,"aria-label":d(m,{locale:s}),children:i(m,{locale:s})},v)})]})}function Fn(){var e,n=M(),t=n.classNames,r=n.styles,s=n.components,l=(e=s==null?void 0:s.HeadRow)!==null&&e!==void 0?e:In;return a.jsx("thead",{style:r.head,className:t.head,children:a.jsx(l,{})})}function Ln(e){var n=M(),t=n.locale,r=n.formatters.formatDay;return a.jsx(a.Fragment,{children:r(e.date,{locale:t})})}var sa=g.createContext(void 0);function Wn(e){if(!Ne(e.initialProps)){var n={selected:void 0,modifiers:{disabled:[]}};return a.jsx(sa.Provider,{value:n,children:e.children})}return a.jsx(En,{initialProps:e.initialProps,children:e.children})}function En(e){var n=e.initialProps,t=e.children,r=n.selected,s=n.min,l=n.max,o=function(c,m,v){var f,y;(f=n.onDayClick)===null||f===void 0||f.call(n,c,m,v);var j=!!(m.selected&&s&&(r==null?void 0:r.length)===s);if(!j){var C=!!(!m.selected&&l&&(r==null?void 0:r.length)===l);if(!C){var _=r?La([],r):[];if(m.selected){var D=_.findIndex(function(S){return E(c,S)});_.splice(D,1)}else _.push(c);(y=n.onSelect)===null||y===void 0||y.call(n,_,c,m,v)}}},i={disabled:[]};r&&i.disabled.push(function(c){var m=l&&r.length>l-1,v=r.some(function(f){return E(f,c)});return!!(m&&!v)});var d={selected:r,onDayClick:o,modifiers:i};return a.jsx(sa.Provider,{value:d,children:t})}function la(){var e=g.useContext(sa);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function Rn(e,n){var t=n||{},r=t.from,s=t.to;return r&&s?E(s,e)&&E(r,e)?void 0:E(s,e)?{from:s,to:void 0}:E(r,e)?void 0:Je(r,e)?{from:e,to:s}:{from:r,to:e}:s?Je(e,s)?{from:s,to:e}:{from:e,to:s}:r?Ta(e,r)?{from:e,to:r}:{from:r,to:e}:{from:e,to:void 0}}var oa=g.createContext(void 0);function Yn(e){if(!_e(e.initialProps)){var n={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return a.jsx(oa.Provider,{value:n,children:e.children})}return a.jsx(An,{initialProps:e.initialProps,children:e.children})}function An(e){var n=e.initialProps,t=e.children,r=n.selected,s=r||{},l=s.from,o=s.to,i=n.min,d=n.max,c=function(y,j,C){var _,D;(_=n.onDayClick)===null||_===void 0||_.call(n,y,j,C);var S=Rn(y,r);(D=n.onSelect)===null||D===void 0||D.call(n,S,y,j,C)},m={range_start:[],range_end:[],range_middle:[],disabled:[]};if(l?(m.range_start=[l],o?(m.range_end=[o],E(l,o)||(m.range_middle=[{after:l,before:o}])):m.range_end=[l]):o&&(m.range_start=[o],m.range_end=[o]),i&&(l&&!o&&m.disabled.push({after:Ke(l,i-1),before:W(l,i-1)}),l&&o&&m.disabled.push({after:l,before:W(l,i-1)}),!l&&o&&m.disabled.push({after:Ke(o,i-1),before:W(o,i-1)})),d){if(l&&!o&&(m.disabled.push({before:W(l,-d+1)}),m.disabled.push({after:W(l,d-1)})),l&&o){var v=ee(o,l)+1,f=d-v;m.disabled.push({before:Ke(l,f)}),m.disabled.push({after:W(o,f)})}!l&&o&&(m.disabled.push({before:W(o,-d+1)}),m.disabled.push({after:W(o,d-1)}))}return a.jsx(oa.Provider,{value:{selected:r,onDayClick:c,modifiers:m},children:t})}function ia(){var e=g.useContext(oa);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Te(e){return Array.isArray(e)?La([],e):e!==void 0?[e]:[]}function Bn(e){var n={};return Object.entries(e).forEach(function(t){var r=t[0],s=t[1];n[r]=Te(s)}),n}var K;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(K||(K={}));var Hn=K.Selected,X=K.Disabled,zn=K.Hidden,qn=K.Today,Ve=K.RangeEnd,Ge=K.RangeMiddle,$e=K.RangeStart,Kn=K.Outside;function Un(e,n,t){var r,s=(r={},r[Hn]=Te(e.selected),r[X]=Te(e.disabled),r[zn]=Te(e.hidden),r[qn]=[e.today],r[Ve]=[],r[Ge]=[],r[$e]=[],r[Kn]=[],r);return e.fromDate&&s[X].push({before:e.fromDate}),e.toDate&&s[X].push({after:e.toDate}),Ne(e)?s[X]=s[X].concat(n.modifiers[X]):_e(e)&&(s[X]=s[X].concat(t.modifiers[X]),s[$e]=t.modifiers[$e],s[Ge]=t.modifiers[Ge],s[Ve]=t.modifiers[Ve]),s}var Aa=g.createContext(void 0);function Vn(e){var n=M(),t=la(),r=ia(),s=Un(n,t,r),l=Bn(n.modifiers),o=N(N({},s),l);return a.jsx(Aa.Provider,{value:o,children:e.children})}function Ba(){var e=g.useContext(Aa);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function Gn(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function $n(e){return!!(e&&typeof e=="object"&&"from"in e)}function Zn(e){return!!(e&&typeof e=="object"&&"after"in e)}function Qn(e){return!!(e&&typeof e=="object"&&"before"in e)}function Xn(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function Jn(e,n){var t,r=n.from,s=n.to;if(r&&s){var l=ee(s,r)<0;l&&(t=[s,r],r=t[0],s=t[1]);var o=ee(e,r)>=0&&ee(s,e)>=0;return o}return s?E(s,e):r?E(r,e):!1}function er(e){return Pa(e)}function ar(e){return Array.isArray(e)&&e.every(Pa)}function tr(e,n){return n.some(function(t){if(typeof t=="boolean")return t;if(er(t))return E(e,t);if(ar(t))return t.includes(e);if($n(t))return Jn(e,t);if(Xn(t))return t.dayOfWeek.includes(e.getDay());if(Gn(t)){var r=ee(t.before,e),s=ee(t.after,e),l=r>0,o=s<0,i=Je(t.before,t.after);return i?o&&l:l||o}return Zn(t)?ee(e,t.after)>0:Qn(t)?ee(t.before,e)>0:typeof t=="function"?t(e):!1})}function da(e,n,t){var r=Object.keys(n).reduce(function(l,o){var i=n[o];return tr(e,i)&&l.push(o),l},[]),s={};return r.forEach(function(l){return s[l]=!0}),t&&!ra(e,t)&&(s.outside=!0),s}function nr(e,n){for(var t=R(e[0]),r=aa(e[e.length-1]),s,l,o=t;o<=r;){var i=da(o,n),d=!i.disabled&&!i.hidden;if(!d){o=W(o,1);continue}if(i.selected)return o;i.today&&!l&&(l=o),s||(s=o),o=W(o,1)}return l||s}var rr=365;function Ha(e,n){var t=n.moveBy,r=n.direction,s=n.context,l=n.modifiers,o=n.retry,i=o===void 0?{count:0,lastFocused:e}:o,d=s.weekStartsOn,c=s.fromDate,m=s.toDate,v=s.locale,f={day:W,week:ea,month:q,year:Bt,startOfWeek:function(_){return s.ISOWeek?ta(_):je(_,{locale:v,weekStartsOn:d})},endOfWeek:function(_){return s.ISOWeek?Fa(_):na(_,{locale:v,weekStartsOn:d})}},y=f[t](e,r==="after"?1:-1);r==="before"&&c?y=Ht([c,y]):r==="after"&&m&&(y=zt([m,y]));var j=!0;if(l){var C=da(y,l);j=!C.disabled&&!C.hidden}return j?y:i.count>rr?i.lastFocused:Ha(y,{moveBy:t,direction:r,context:s,modifiers:l,retry:N(N({},i),{count:i.count+1})})}var za=g.createContext(void 0);function sr(e){var n=we(),t=Ba(),r=g.useState(),s=r[0],l=r[1],o=g.useState(),i=o[0],d=o[1],c=nr(n.displayMonths,t),m=(s!=null?s:i&&n.isDateDisplayed(i))?i:c,v=function(){d(s),l(void 0)},f=function(_){l(_)},y=M(),j=function(_,D){if(s){var S=Ha(s,{moveBy:_,direction:D,context:y,modifiers:t});E(s,S)||(n.goToDate(S,s),f(S))}},C={focusedDay:s,focusTarget:m,blur:v,focus:f,focusDayAfter:function(){return j("day","after")},focusDayBefore:function(){return j("day","before")},focusWeekAfter:function(){return j("week","after")},focusWeekBefore:function(){return j("week","before")},focusMonthBefore:function(){return j("month","before")},focusMonthAfter:function(){return j("month","after")},focusYearBefore:function(){return j("year","before")},focusYearAfter:function(){return j("year","after")},focusStartOfWeek:function(){return j("startOfWeek","before")},focusEndOfWeek:function(){return j("endOfWeek","after")}};return a.jsx(za.Provider,{value:C,children:e.children})}function ca(){var e=g.useContext(za);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function lr(e,n){var t=Ba(),r=da(e,t,n);return r}var ua=g.createContext(void 0);function or(e){if(!Le(e.initialProps)){var n={selected:void 0};return a.jsx(ua.Provider,{value:n,children:e.children})}return a.jsx(ir,{initialProps:e.initialProps,children:e.children})}function ir(e){var n=e.initialProps,t=e.children,r=function(l,o,i){var d,c,m;if((d=n.onDayClick)===null||d===void 0||d.call(n,l,o,i),o.selected&&!n.required){(c=n.onSelect)===null||c===void 0||c.call(n,void 0,l,o,i);return}(m=n.onSelect)===null||m===void 0||m.call(n,l,l,o,i)},s={selected:n.selected,onDayClick:r};return a.jsx(ua.Provider,{value:s,children:t})}function qa(){var e=g.useContext(ua);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function dr(e,n){var t=M(),r=qa(),s=la(),l=ia(),o=ca(),i=o.focusDayAfter,d=o.focusDayBefore,c=o.focusWeekAfter,m=o.focusWeekBefore,v=o.blur,f=o.focus,y=o.focusMonthBefore,j=o.focusMonthAfter,C=o.focusYearBefore,_=o.focusYearAfter,D=o.focusStartOfWeek,S=o.focusEndOfWeek,ae=function(b){var p,V,G,$;Le(t)?(p=r.onDayClick)===null||p===void 0||p.call(r,e,n,b):Ne(t)?(V=s.onDayClick)===null||V===void 0||V.call(s,e,n,b):_e(t)?(G=l.onDayClick)===null||G===void 0||G.call(l,e,n,b):($=t.onDayClick)===null||$===void 0||$.call(t,e,n,b)},T=function(b){var p;f(e),(p=t.onDayFocus)===null||p===void 0||p.call(t,e,n,b)},se=function(b){var p;v(),(p=t.onDayBlur)===null||p===void 0||p.call(t,e,n,b)},x=function(b){var p;(p=t.onDayMouseEnter)===null||p===void 0||p.call(t,e,n,b)},H=function(b){var p;(p=t.onDayMouseLeave)===null||p===void 0||p.call(t,e,n,b)},te=function(b){var p;(p=t.onDayPointerEnter)===null||p===void 0||p.call(t,e,n,b)},ce=function(b){var p;(p=t.onDayPointerLeave)===null||p===void 0||p.call(t,e,n,b)},ue=function(b){var p;(p=t.onDayTouchCancel)===null||p===void 0||p.call(t,e,n,b)},fe=function(b){var p;(p=t.onDayTouchEnd)===null||p===void 0||p.call(t,e,n,b)},We=function(b){var p;(p=t.onDayTouchMove)===null||p===void 0||p.call(t,e,n,b)},me=function(b){var p;(p=t.onDayTouchStart)===null||p===void 0||p.call(t,e,n,b)},he=function(b){var p;(p=t.onDayKeyUp)===null||p===void 0||p.call(t,e,n,b)},B=function(b){var p;switch(b.key){case"ArrowLeft":b.preventDefault(),b.stopPropagation(),t.dir==="rtl"?i():d();break;case"ArrowRight":b.preventDefault(),b.stopPropagation(),t.dir==="rtl"?d():i();break;case"ArrowDown":b.preventDefault(),b.stopPropagation(),c();break;case"ArrowUp":b.preventDefault(),b.stopPropagation(),m();break;case"PageUp":b.preventDefault(),b.stopPropagation(),b.shiftKey?C():y();break;case"PageDown":b.preventDefault(),b.stopPropagation(),b.shiftKey?_():j();break;case"Home":b.preventDefault(),b.stopPropagation(),D();break;case"End":b.preventDefault(),b.stopPropagation(),S();break}(p=t.onDayKeyDown)===null||p===void 0||p.call(t,e,n,b)},ne={onClick:ae,onFocus:T,onBlur:se,onKeyDown:B,onKeyUp:he,onMouseEnter:x,onMouseLeave:H,onPointerEnter:te,onPointerLeave:ce,onTouchCancel:ue,onTouchEnd:fe,onTouchMove:We,onTouchStart:me};return ne}function cr(){var e=M(),n=qa(),t=la(),r=ia(),s=Le(e)?n.selected:Ne(e)?t.selected:_e(e)?r.selected:void 0;return s}function ur(e){return Object.values(K).includes(e)}function mr(e,n){var t=[e.classNames.day];return Object.keys(n).forEach(function(r){var s=e.modifiersClassNames[r];if(s)t.push(s);else if(ur(r)){var l=e.classNames["day_".concat(r)];l&&t.push(l)}}),t}function fr(e,n){var t=N({},e.styles.day);return Object.keys(n).forEach(function(r){var s;t=N(N({},t),(s=e.modifiersStyles)===null||s===void 0?void 0:s[r])}),t}function hr(e,n,t){var r,s,l,o=M(),i=ca(),d=lr(e,n),c=dr(e,d),m=cr(),v=!!(o.onDayClick||o.mode!=="default");g.useEffect(function(){var x;d.outside||i.focusedDay&&v&&E(i.focusedDay,e)&&((x=t.current)===null||x===void 0||x.focus())},[i.focusedDay,e,t,v,d.outside]);var f=mr(o,d).join(" "),y=fr(o,d),j=!!(d.outside&&!o.showOutsideDays||d.hidden),C=(l=(s=o.components)===null||s===void 0?void 0:s.DayContent)!==null&&l!==void 0?l:Ln,_=a.jsx(C,{date:e,displayMonth:n,activeModifiers:d}),D={style:y,className:f,children:_,role:"gridcell"},S=i.focusTarget&&E(i.focusTarget,e)&&!d.outside,ae=i.focusedDay&&E(i.focusedDay,e),T=N(N(N({},D),(r={disabled:d.disabled,role:"gridcell"},r["aria-selected"]=d.selected,r.tabIndex=ae||S?0:-1,r)),c),se={isButton:v,isHidden:j,activeModifiers:d,selectedDays:m,buttonProps:T,divProps:D};return se}function vr(e){var n=g.useRef(null),t=hr(e.date,e.displayMonth,n);return t.isHidden?a.jsx("div",{role:"gridcell"}):t.isButton?a.jsx(Fe,N({name:"day",ref:n},t.buttonProps)):a.jsx("div",N({},t.divProps))}function xr(e){var n=e.number,t=e.dates,r=M(),s=r.onWeekNumberClick,l=r.styles,o=r.classNames,i=r.locale,d=r.labels.labelWeekNumber,c=r.formatters.formatWeekNumber,m=c(Number(n),{locale:i});if(!s)return a.jsx("span",{className:o.weeknumber,style:l.weeknumber,children:m});var v=d(Number(n),{locale:i}),f=function(y){s(n,t,y)};return a.jsx(Fe,{name:"week-number","aria-label":v,className:o.weeknumber,style:l.weeknumber,onClick:f,children:m})}function pr(e){var n,t,r=M(),s=r.styles,l=r.classNames,o=r.showWeekNumber,i=r.components,d=(n=i==null?void 0:i.Day)!==null&&n!==void 0?n:vr,c=(t=i==null?void 0:i.WeekNumber)!==null&&t!==void 0?t:xr,m;return o&&(m=a.jsx("td",{className:l.cell,style:s.cell,children:a.jsx(c,{number:e.weekNumber,dates:e.dates})})),a.jsxs("tr",{className:l.row,style:s.row,children:[m,e.dates.map(function(v){return a.jsx("td",{className:l.cell,style:s.cell,role:"presentation",children:a.jsx(d,{displayMonth:e.displayMonth,date:v})},Ut(v))})]})}function Sa(e,n,t){for(var r=t!=null&&t.ISOWeek?Fa(n):na(n,t),s=t!=null&&t.ISOWeek?ta(e):je(e,t),l=ee(r,s),o=[],i=0;i<=l;i++)o.push(W(s,i));var d=o.reduce(function(c,m){var v=t!=null&&t.ISOWeek?Et(m):Rt(m,t),f=c.find(function(y){return y.weekNumber===v});return f?(f.dates.push(m),c):(c.push({weekNumber:v,dates:[m]}),c)},[]);return d}function yr(e,n){var t=Sa(R(e),aa(e),n);if(n!=null&&n.useFixedWeeks){var r=Gt(e,n);if(r<6){var s=t[t.length-1],l=s.dates[s.dates.length-1],o=ea(l,6-r),i=Sa(ea(l,1),o,n);t.push.apply(t,i)}}return t}function gr(e){var n,t,r,s=M(),l=s.locale,o=s.classNames,i=s.styles,d=s.hideHead,c=s.fixedWeeks,m=s.components,v=s.weekStartsOn,f=s.firstWeekContainsDate,y=s.ISOWeek,j=yr(e.displayMonth,{useFixedWeeks:!!c,ISOWeek:y,locale:l,weekStartsOn:v,firstWeekContainsDate:f}),C=(n=m==null?void 0:m.Head)!==null&&n!==void 0?n:Fn,_=(t=m==null?void 0:m.Row)!==null&&t!==void 0?t:pr,D=(r=m==null?void 0:m.Footer)!==null&&r!==void 0?r:Pn;return a.jsxs("table",{id:e.id,className:o.table,style:i.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!d&&a.jsx(C,{}),a.jsx("tbody",{className:o.tbody,style:i.tbody,children:j.map(function(S){return a.jsx(_,{displayMonth:e.displayMonth,dates:S.dates,weekNumber:S.weekNumber},S.weekNumber)})}),a.jsx(D,{displayMonth:e.displayMonth})]})}function br(){return!!(typeof window!="undefined"&&window.document&&window.document.createElement)}var jr=br()?g.useLayoutEffect:g.useEffect,Ze=!1,Nr=0;function Oa(){return"react-day-picker-".concat(++Nr)}function _r(e){var n,t=e!=null?e:Ze?Oa():null,r=g.useState(t),s=r[0],l=r[1];return jr(function(){s===null&&l(Oa())},[]),g.useEffect(function(){Ze===!1&&(Ze=!0)},[]),(n=e!=null?e:s)!==null&&n!==void 0?n:void 0}function wr(e){var n,t,r=M(),s=r.dir,l=r.classNames,o=r.styles,i=r.components,d=we().displayMonths,c=_r(r.id?"".concat(r.id,"-").concat(e.displayIndex):void 0),m=r.id?"".concat(r.id,"-grid-").concat(e.displayIndex):void 0,v=[l.month],f=o.month,y=e.displayIndex===0,j=e.displayIndex===d.length-1,C=!y&&!j;s==="rtl"&&(n=[y,j],j=n[0],y=n[1]),y&&(v.push(l.caption_start),f=N(N({},f),o.caption_start)),j&&(v.push(l.caption_end),f=N(N({},f),o.caption_end)),C&&(v.push(l.caption_between),f=N(N({},f),o.caption_between));var _=(t=i==null?void 0:i.Caption)!==null&&t!==void 0?t:On;return a.jsxs("div",{className:v.join(" "),style:f,children:[a.jsx(_,{id:c,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),a.jsx(gr,{id:m,"aria-labelledby":c,displayMonth:e.displayMonth})]},e.displayIndex)}function kr(e){var n=M(),t=n.classNames,r=n.styles;return a.jsx("div",{className:t.months,style:r.months,children:e.children})}function Cr(e){var n,t,r=e.initialProps,s=M(),l=ca(),o=we(),i=g.useState(!1),d=i[0],c=i[1];g.useEffect(function(){s.initialFocus&&l.focusTarget&&(d||(l.focus(l.focusTarget),c(!0)))},[s.initialFocus,d,l.focus,l.focusTarget,l]);var m=[s.classNames.root,s.className];s.numberOfMonths>1&&m.push(s.classNames.multiple_months),s.showWeekNumber&&m.push(s.classNames.with_weeknumber);var v=N(N({},s.styles.root),s.style),f=Object.keys(r).filter(function(j){return j.startsWith("data-")}).reduce(function(j,C){var _;return N(N({},j),(_={},_[C]=r[C],_))},{}),y=(t=(n=r.components)===null||n===void 0?void 0:n.Months)!==null&&t!==void 0?t:kr;return a.jsx("div",N({className:m.join(" "),style:v,dir:s.dir,id:s.id,nonce:r.nonce,title:r.title,lang:r.lang},f,{children:a.jsx(y,{children:o.displayMonths.map(function(j,C){return a.jsx(wr,{displayIndex:C,displayMonth:j},C)})})}))}function Dr(e){var n=e.children,t=Zt(e,["children"]);return a.jsx(xn,{initialProps:t,children:a.jsx(Cn,{children:a.jsx(or,{initialProps:t,children:a.jsx(Wn,{initialProps:t,children:a.jsx(Yn,{initialProps:t,children:a.jsx(Vn,{children:a.jsx(sr,{children:n})})})})})})})}function Mr(e){return a.jsx(Dr,N({},e,{children:a.jsx(Cr,{initialProps:e})}))}function Ie(s){var l=s,{className:e,classNames:n,showOutsideDays:t=!0}=l,r=Ce(l,["className","classNames","showOutsideDays"]);return a.jsx(Mr,F({showOutsideDays:t,className:J("p-3",e),classNames:F({months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:J(va({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:J(va({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible"},n),components:{IconLeft:i=>{var o=Ce(i,[]);return a.jsx(it,{className:"h-4 w-4"})},IconRight:i=>{var o=Ce(i,[]);return a.jsx(dt,{className:"h-4 w-4"})}}},r))}Ie.displayName="Calendar";const Sr=["Taşınabilir Güç Paketleri","Kabin Tipi Güç Paketleri","Araç Tipi Güç Paketleri","Endüstriyel Güç Paketleri","Güneş Enerji Sistemleri"],Qe=()=>({product_id:null,product_name:"",quantity:1,unit_price:0,discount:0,total:0,is_manual:!1,category:void 0}),Ka="manual",Or=({products:e,value:n,onSelect:t,disabled:r,placeholder:s="Ürün seçin veya arayın",onRefreshProducts:l})=>{const[o,i]=g.useState(!1),d=n?e.find(c=>c.id===n):null;return g.useEffect(()=>{o&&l&&l()},[o,l]),a.jsxs(Se,{open:o,onOpenChange:c=>!r&&i(c),children:[a.jsx(Oe,{asChild:!0,children:a.jsxs(A,{type:"button",variant:"outline",disabled:r,className:"w-full justify-between h-10 pointer-events-auto cursor-pointer",children:[a.jsx("span",{className:"truncate text-left",children:d?d.name:s}),a.jsx(vt,{className:"ml-2 h-4 w-4 opacity-50 flex-shrink-0"})]})}),a.jsx(Pe,{className:"w-[320px] sm:w-[400px] p-0 !max-h-[400px] !h-auto",align:"start",side:"bottom",sideOffset:4,avoidCollisions:!0,children:a.jsxs(Mt,{children:[a.jsx(St,{placeholder:"Ürün ara...",className:"text-sm"}),a.jsxs(Ot,{className:"!max-h-[350px] !h-auto",style:{maxHeight:"350px",height:"auto"},children:[a.jsx(Pt,{children:"Ürün bulunamadı. Manuel ürün eklemek için aşağıdaki seçeneği kullanın."}),e.length>0&&a.jsx(_a,{heading:"Kayıtlı ürünler",children:e.map(c=>a.jsx(wa,{value:c.name,onSelect:()=>{t(c.id),i(!1)},className:"cursor-pointer",children:a.jsxs("div",{className:"flex flex-col w-full",children:[a.jsx("span",{className:"font-medium",children:c.name}),(c.sku||c.category)&&a.jsx("span",{className:"text-xs text-muted-foreground",children:c.sku||c.category}),c.price&&a.jsxs("span",{className:"text-xs text-primary font-medium mt-0.5",children:[Ia.TRY||"₺",c.price.toFixed(2)]})]})},c.id))}),e.length>0&&a.jsx(Tt,{}),a.jsx(_a,{children:a.jsxs(wa,{className:"text-primary cursor-pointer",onSelect:()=>{t(Ka),i(!1)},children:[a.jsx(Xe,{className:"mr-2 h-4 w-4"}),"Manuel Ürün/Hizmet Ekle"]})})]})]})})]})},Kr=({open:e,onOpenChange:n,onSuccess:t})=>{const{user:r}=ot(),[s,l]=g.useState(!1),[o,i]=g.useState([]),[d,c]=g.useState({}),[m,v]=g.useState(!1),[f,y]=g.useState(null),[j,C]=g.useState(!1),[_,D]=g.useState(null),[S,ae]=g.useState(!1),[T,se]=g.useState(1),[x,H]=g.useState({customer_id:"",customer_name:"",order_date:"",delivery_date:"",received_date:"",notes:"",order_number:"",currency:"TRY",status:"pending",tax_rate:20,deductMaterials:!1}),[te,ce]=g.useState([Qe()]),ue=g.useCallback(()=>{const h=new Date().toISOString().split("T")[0].replace(/-/g,""),w=Math.floor(Math.random()*1e4).toString().padStart(4,"0");return`ORD-${h}-${w}`},[]),fe=g.useCallback((u=!1)=>{H(h=>!u&&h.order_number?h:z(F({},h),{order_number:ue()}))},[ue]),We=g.useCallback(()=>{H({customer_id:"",customer_name:"",order_date:"",delivery_date:"",received_date:"",notes:"",order_number:ue(),currency:"TRY",status:"pending",tax_rate:20,deductMaterials:!1}),ce([Qe()]),v(!1),y(null),D(null),c({})},[ue]),me=g.useCallback(()=>pe(void 0,null,function*(){try{const u=yield gt();i(u.map(h=>({id:h.id,name:h.name,sku:h.sku,price:h.price,category:h.category})))}catch(u){console.error("Ürünler yüklenemedi:",u),P.error("Ürünler yüklenirken hata oluştu: "+((u==null?void 0:u.message)||"Bilinmeyen hata"))}}),[]);g.useEffect(()=>{if(!e)return;me(),fe();const u=setInterval(()=>{me()},3e4);return()=>clearInterval(u)},[e,me,fe]);const he=g.useCallback(u=>pe(void 0,null,function*(){C(!0),D(null);try{const h=yield bt(u);y(h)}catch(h){console.error("Müşteri bilgisi alınamadı:",h),y(null),D((h==null?void 0:h.message)||"Müşteri bilgileri alınamadı")}finally{C(!1)}}),[]);g.useEffect(()=>{if(!x.customer_id){y(null),D(null);return}he(x.customer_id)},[x.customer_id,he]);const B=g.useMemo(()=>te.filter(u=>(u.product_id||u.is_manual&&u.product_name.trim())&&u.quantity>0&&u.unit_price>0),[te]),ne=g.useMemo(()=>B.reduce((u,h)=>u+h.total,0),[B]),b=g.useMemo(()=>B.reduce((u,h)=>u+(h.discount||0),0),[B]),p=Number(x.tax_rate)||0,V=ne*(p/100),G=ne+V,$=B.length,ve=B.reduce((u,h)=>u+h.quantity,0),I=Ia[x.currency]||"₺",Ua=s||!x.customer_id||!x.order_number||B.length===0,Va=()=>{ce(u=>[...u,Qe()])},Ga=g.useCallback(u=>u?o.filter(h=>h.category===u):o,[o]),$a=u=>{ce(h=>h.length===1?h:h.filter((w,Q)=>Q!==u))},Z=(u,h,w)=>{ce(Q=>{const re=[...Q],k=F({},re[u]);if(h==="product_id")if(w===Ka)k.is_manual=!0,k.product_id=null,k.product_name="",k.unit_price=0;else if(w){const O=o.find(nt=>nt.id===w);k.is_manual=!1,k.product_id=w,k.product_name=(O==null?void 0:O.name)||"",O!=null&&O.price?(k.unit_price=O.price,P.success(`Ürün fiyatı otomatik olarak eklendi: ${O.price.toFixed(2)} ${I}`)):P.info("Bu ürün için fiyat tanımlı değil, lütfen manuel olarak girin"),k.category=(O==null?void 0:O.category)||k.category}else k.is_manual=!1,k.product_id=null,k.product_name="",k.unit_price=0;else if(h==="quantity"){const O=parseInt(String(w));k[h]=Number.isFinite(O)&&O>0?O:0}else if(h==="unit_price"||h==="discount"){const O=Number(w);k[h]=Number.isFinite(O)?O:0}else k[h]=w;const xe=k.quantity||0,at=k.unit_price||0,tt=k.discount||0;return k.total=Math.max(xe*at-tt,0),re[u]=k,re})},Za=u=>pe(void 0,null,function*(){const h=te[u];if(!h.product_name.trim()||!h.unit_price||h.unit_price<=0){P.error("Manuel ürün için ad ve birim fiyat zorunludur");return}if(!(r!=null&&r.id)){P.error("Oturumunuz sona erdi. Lütfen tekrar giriş yapın.");return}c(w=>z(F({},w),{[u]:!0}));try{const w=h.product_name.toUpperCase().replace(/[^A-Z0-9]/g,"").substring(0,10);let Q=w,re=1;for(;o.some(xe=>xe.sku===Q);)Q=`${w}${re}`,re+=1;const k=yield It({name:h.product_name.trim(),sku:Q,price:h.unit_price,description:"Sipariş panelinden eklenen ürün",stock:0,unit:"Adet",category:h.category||null,minStock:0,createdBy:r.id});i(xe=>[...xe,{id:k.id,name:k.name,sku:k.sku,price:k.price,category:k.category}]),Z(u,"product_id",k.id),P.success("Ürün kayıtlı ürünlere eklendi")}catch(w){console.error("Manuel ürün kaydedilemedi:",w),P.error("Ürün kaydedilemedi: "+((w==null?void 0:w.message)||"Bilinmeyen hata"))}finally{c(w=>z(F({},w),{[u]:!1}))}}),Qa=(u,h)=>{H(w=>z(F({},w),{customer_id:u,customer_name:h})),y(null),D(null)},Xa=()=>{x.customer_id&&he(x.customer_id)},Ja=()=>{fe(!0),v(!1),P.success("Yeni sipariş numarası oluşturuldu")},et=()=>pe(void 0,null,function*(){if(!x.order_number){v(!0),P.error("Lütfen sipariş numarası girin");return}if(!x.customer_id){P.error("Lütfen müşteri seçin");return}if(B.length===0){P.error("Lütfen en az bir geçerli ürün ekleyin");return}if(!(r!=null&&r.id)){P.error("Oturumunuz sona erdi. Lütfen tekrar giriş yapın.");return}l(!0);try{const u=x.delivery_date?De.fromDate(new Date(x.delivery_date)):null,h=x.order_date?De.fromDate(new Date(x.order_date)):De.now(),w=x.received_date?De.fromDate(new Date(x.received_date)):null,Q=x.status||"pending",re=B.map(k=>({productId:k.product_id||null,product_id:k.product_id||null,productName:k.product_name||null,product_name:k.product_name||null,quantity:k.quantity,unitPrice:k.unit_price||0,unit_price:k.unit_price||0,discount:k.discount||0,total:k.total,category:k.category||null}));yield Ft({orderNumber:x.order_number,order_number:x.order_number,customerId:x.customer_id,customer_id:x.customer_id,customerName:x.customer_name||(f==null?void 0:f.name)||null,customer_name:x.customer_name||(f==null?void 0:f.name)||null,customerCompany:(f==null?void 0:f.company)||null,customer_company:(f==null?void 0:f.company)||null,customerEmail:(f==null?void 0:f.email)||null,customer_email:(f==null?void 0:f.email)||null,customerPhone:(f==null?void 0:f.phone)||null,customer_phone:(f==null?void 0:f.phone)||null,status:Q,subtotal:ne,discountTotal:b,taxAmount:V,totalAmount:G,total_amount:G,itemsCount:$,items_count:$,totalQuantity:ve,total_quantity:ve,currency:x.currency,taxRate:p,tax_rate:p,orderDate:h,order_date:x.order_date||new Date().toISOString().split("T")[0],deliveryDate:u,delivery_date:x.delivery_date||null,receivedDate:w,received_date:x.received_date||null,notes:x.notes||null,createdBy:r.id,created_by:r.id,deductMaterials:x.deductMaterials},re),P.success("Sipariş başarıyla oluşturuldu"),t(),We(),n(!1)}catch(u){console.error("Create order error:",u),P.error((u==null?void 0:u.message)||"Sipariş oluşturulurken bir hata oluştu")}finally{l(!1)}});return a.jsxs(a.Fragment,{children:[a.jsx(jt,{open:e,onOpenChange:n,children:a.jsx(Nt,{className:"!max-w-[100vw] sm:!max-w-[95vw] lg:!max-w-[90vw] xl:!max-w-[1400px] !w-[100vw] sm:!w-[95vw] lg:!w-[90vw] xl:!w-[1400px] !h-[100vh] sm:!h-[90vh] !max-h-[100vh] sm:!max-h-[90vh] !left-0 sm:!left-[50%] !top-0 sm:!top-[50%] !right-0 sm:!right-auto !bottom-0 sm:!bottom-auto !translate-x-0 sm:!translate-x-[-50%] !translate-y-0 sm:!translate-y-[-50%] overflow-hidden !p-0 gap-0 bg-white flex flex-col !m-0 !rounded-none sm:!rounded-lg !border-0 sm:!border",children:a.jsxs("div",{className:"flex flex-col h-full min-h-0",children:[a.jsx(_t,{className:"p-3 sm:p-4 pr-12 sm:pr-14 md:pr-16 border-b bg-white flex-shrink-0 relative",children:a.jsxs("div",{className:"flex items-center justify-between gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 flex-1 min-w-0",children:[a.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 rounded-lg bg-primary/10 flex items-center justify-center border border-primary/20 flex-shrink-0",children:a.jsx(Re,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"})}),a.jsx(wt,{className:"text-lg sm:text-xl font-semibold text-foreground truncate",children:"Yeni Satış Siparişi"}),a.jsx(kt,{className:"sr-only",children:"Yeni satış siparişi oluşturun"})]}),a.jsxs(He,{variant:"outline",className:"text-xs px-2 sm:px-3 py-1 flex-shrink-0",children:["Adım ",T,"/3"]})]})}),a.jsx("div",{className:"flex-1 overflow-hidden bg-gray-50/50 p-3 sm:p-6 min-h-0",children:a.jsxs("div",{className:"max-w-full mx-auto h-full overflow-y-auto",children:[T===1&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4 sm:gap-6 h-full",children:[a.jsxs("div",{className:"col-span-1 lg:col-span-8 space-y-4 sm:space-y-6 flex flex-col",children:[a.jsxs(le,{className:"rounded-xl shadow-lg border bg-white flex-1 flex flex-col min-h-0",children:[a.jsx(oe,{className:"p-4 sm:p-6 border-b flex-shrink-0",children:a.jsxs(ie,{className:"text-base sm:text-lg font-semibold flex items-center gap-2",children:[a.jsx(Me,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"}),"Sipariş Bilgileri"]})}),a.jsxs(de,{className:"p-3 sm:p-6 space-y-3 sm:space-y-4 flex-1 overflow-y-auto",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(L,{className:"text-sm font-medium",showRequired:!0,children:"Sipariş Numarası"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ye,{value:x.order_number,onChange:u=>{v(!0),H(h=>z(F({},h),{order_number:u.target.value}))},placeholder:"ORD-20240101-0001",className:J("h-10 transition-all",!x.order_number&&m&&"border-destructive"),required:!0}),a.jsx(A,{type:"button",variant:"outline",size:"icon",onClick:Ja,title:"Numarayı yenile",className:"h-10 w-10 hover:bg-primary/5 transition-colors",children:a.jsx(ba,{className:"h-4 w-4"})})]}),!x.order_number&&m&&a.jsx("p",{className:"text-xs text-destructive",children:"Sipariş numarası gereklidir"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(L,{className:"text-sm font-medium",showRequired:!0,children:"Müşteri"}),a.jsx(Lt,{value:x.customer_id,onChange:Qa,placeholder:"Müşteri seçin veya ekleyin"}),!x.customer_id&&a.jsx("p",{className:"text-xs text-muted-foreground",children:"Lütfen siparişi ilişkilendireceğiniz müşteriyi seçin"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(L,{className:"text-sm font-medium",children:"Sipariş Edilen Tarih"}),a.jsxs(Se,{children:[a.jsx(Oe,{asChild:!0,children:a.jsxs(A,{variant:"outline",className:J("w-full justify-start text-left font-normal h-10 transition-all",!x.order_date&&"text-muted-foreground"),children:[a.jsx(Ye,{className:"mr-2 h-4 w-4"}),x.order_date?U(new Date(x.order_date),"d MMMM yyyy",{locale:ze}):"Tarih seçin"]})}),a.jsx(Pe,{className:"w-auto p-0",align:"start",children:a.jsx(Ie,{mode:"single",selected:x.order_date?new Date(x.order_date):void 0,onSelect:u=>H(h=>z(F({},h),{order_date:u?u.toISOString().split("T")[0]:""})),initialFocus:!0})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(L,{className:"text-sm font-medium",children:"Teslimat Tarihi"}),a.jsxs(Se,{children:[a.jsx(Oe,{asChild:!0,children:a.jsxs(A,{variant:"outline",className:J("w-full justify-start text-left font-normal h-10 transition-all",!x.delivery_date&&"text-muted-foreground"),children:[a.jsx(Ye,{className:"mr-2 h-4 w-4"}),x.delivery_date?U(new Date(x.delivery_date),"d MMMM yyyy",{locale:ze}):"Tarih seçin"]})}),a.jsx(Pe,{className:"w-auto p-0",align:"start",children:a.jsx(Ie,{mode:"single",selected:x.delivery_date?new Date(x.delivery_date):void 0,onSelect:u=>H(h=>z(F({},h),{delivery_date:u?u.toISOString().split("T")[0]:""})),initialFocus:!0})})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(L,{className:"text-sm font-medium",children:"Teslim Alınan Tarih"}),a.jsxs(Se,{children:[a.jsx(Oe,{asChild:!0,children:a.jsxs(A,{variant:"outline",className:J("w-full justify-start text-left font-normal h-10 transition-all",!x.received_date&&"text-muted-foreground"),children:[a.jsx(Ye,{className:"mr-2 h-4 w-4"}),x.received_date?U(new Date(x.received_date),"d MMMM yyyy",{locale:ze}):"Tarih seçin"]})}),a.jsx(Pe,{className:"w-auto p-0",align:"start",children:a.jsx(Ie,{mode:"single",selected:x.received_date?new Date(x.received_date):void 0,onSelect:u=>H(h=>z(F({},h),{received_date:u?u.toISOString().split("T")[0]:""})),initialFocus:!0})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(L,{className:"text-sm font-medium",children:"Para Birimi"}),a.jsxs(xa,{value:x.currency,onValueChange:u=>H(h=>z(F({},h),{currency:u})),children:[a.jsx(pa,{className:"h-10",children:a.jsx(ya,{})}),a.jsx(ga,{children:At.map(u=>a.jsx(Ee,{value:u.value,children:u.label},u.value))})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(L,{className:"text-sm font-medium",children:"Notlar"}),a.jsx(Ct,{value:x.notes,onChange:u=>H(h=>z(F({},h),{notes:u.target.value})),rows:3,placeholder:"Sipariş ile ilgili notlarınızı buraya yazabilirsiniz...",className:"resize-none transition-all"})]})]})]}),f&&a.jsxs(le,{className:"rounded-xl shadow-lg border bg-white",children:[a.jsx(oe,{className:"p-2 border-b",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(ie,{className:"text-base font-semibold flex items-center gap-2",children:[a.jsx(ct,{className:"h-4 w-4 text-primary"}),"Müşteri Özeti"]}),a.jsxs(A,{type:"button",variant:"outline",size:"sm",className:"gap-2 h-8 hover:bg-primary/5 transition-colors",onClick:()=>ae(!0),children:[a.jsx(ut,{className:"h-3 w-3"}),"Düzenle"]})]})}),a.jsx(de,{className:"p-6",children:j?a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground py-8 justify-center",children:[a.jsx(Ae,{className:"h-4 w-4 animate-spin"}),"Müşteri bilgileri yükleniyor..."]}):f?a.jsxs("div",{className:"grid gap-3 sm:gap-4 text-sm sm:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Müşteri"}),a.jsx("p",{className:"font-medium",children:f.name})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Şirket"}),a.jsx("p",{className:"font-medium",children:f.company||"—"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"E-posta"}),a.jsx("p",{className:"font-medium",children:f.email||"—"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Telefon"}),a.jsx("p",{className:"font-medium",children:f.phone||"—"})]}),f.address&&a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Adres"}),a.jsx("p",{className:"font-medium",children:f.address})]})]}):_?a.jsx("p",{className:"text-sm text-destructive py-4",children:_}):null})]})]}),a.jsx("div",{className:"col-span-12 lg:col-span-4",children:a.jsx("div",{className:"w-full lg:w-96 lg:sticky lg:top-6 h-full",children:a.jsxs(le,{className:"rounded-xl shadow-lg border bg-white h-full flex flex-col",children:[a.jsx(oe,{className:"p-6 border-b flex-shrink-0",children:a.jsxs(ie,{className:"text-lg font-semibold flex items-center gap-2",children:[a.jsx(Be,{className:"h-5 w-5 text-primary"}),"Özet"]})}),a.jsxs(de,{className:"p-6 space-y-4 flex-1 overflow-y-auto",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Ara Toplam:"}),a.jsxs("span",{className:"font-medium",children:[I,ne.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsxs("span",{className:"text-muted-foreground",children:["KDV (",p,"%):"]}),a.jsxs("span",{className:"font-medium",children:[I,V.toFixed(2)]})]}),a.jsx(qe,{}),a.jsxs("div",{className:"flex justify-between pt-1",children:[a.jsx("span",{className:"font-semibold",children:"Genel Toplam:"}),a.jsxs("span",{className:"font-bold text-lg text-primary",children:[I,G.toFixed(2)]})]})]}),a.jsxs("div",{className:"pt-3 border-t space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[a.jsx("span",{children:"Ürün Sayısı:"}),a.jsx("span",{children:$})]}),a.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[a.jsx("span",{children:"Toplam Miktar:"}),a.jsxs("span",{children:[ve," adet"]})]})]})]})]})})})]}),T===2&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4 sm:gap-6 h-full",children:[a.jsx("div",{className:"col-span-1 lg:col-span-8 space-y-4 sm:space-y-6 flex flex-col",children:a.jsxs(le,{className:"rounded-xl shadow-lg border bg-white flex-1 flex flex-col min-h-0",children:[a.jsxs(oe,{className:"p-4 sm:p-6 border-b flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-0 flex-shrink-0",children:[a.jsxs(ie,{className:"text-lg font-semibold flex items-center gap-2",children:[a.jsx(Re,{className:"h-5 w-5 text-primary"}),"Ürünler"]}),a.jsxs(A,{variant:"outline",onClick:Va,size:"sm",className:"gap-2 h-10 hover:bg-primary/5 transition-colors",children:[a.jsx(Xe,{className:"h-4 w-4"}),"Ürün Ekle"]})]}),a.jsx(de,{className:"p-6 flex-1 overflow-hidden",children:a.jsx(Dt,{className:"h-full min-h-[400px] sm:min-h-[500px] pr-4",children:a.jsx("div",{className:"space-y-4",children:te.map((u,h)=>a.jsxs("div",{className:J("p-4 rounded-xl border transition-all hover:shadow-md",u.is_manual&&"border-primary/50 bg-primary/5",!u.is_manual&&u.product_id&&"border-green-500/30 bg-green-50/50",!u.product_id&&!u.is_manual&&"border-gray-200 bg-gray-50/50"),children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-primary/10 text-primary font-bold text-xs",children:h+1}),u.is_manual&&a.jsxs(He,{variant:"outline",className:"border-primary/50 text-primary bg-primary/10 text-xs",children:[a.jsx(Xe,{className:"h-3 w-3 mr-1"}),"Manuel Ürün"]}),!u.is_manual&&u.product_id&&a.jsxs(He,{variant:"outline",className:"border-green-500/50 text-green-700 bg-green-50 text-xs",children:[a.jsx(Me,{className:"h-3 w-3 mr-1"}),"Kayıtlı Ürün"]})]}),te.length>1&&a.jsx(A,{type:"button",variant:"ghost",size:"icon",onClick:()=>$a(h),className:"h-8 w-8 text-destructive hover:text-destructive hover:bg-destructive/10 transition-colors",title:"Ürünü kaldır",children:a.jsx(mt,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-12 gap-3 sm:gap-4",children:[a.jsxs("div",{className:"col-span-1 sm:col-span-5 space-y-2",children:[a.jsx(L,{className:"text-sm font-medium",showRequired:!0,children:"Ürün/Hizmet"}),u.is_manual?a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ye,{placeholder:"Ürün/Hizmet adı girin",value:u.product_name,onChange:w=>Z(h,"product_name",w.target.value),required:!0,className:"flex-1 h-10 transition-all"}),a.jsx(A,{type:"button",variant:"outline",size:"icon",onClick:()=>{Z(h,"product_id",null),Z(h,"product_name","")},className:"h-10 w-10 hover:bg-primary/5 transition-colors",children:a.jsx(ba,{className:"h-4 w-4"})})]}),u.product_name.trim()&&a.jsx(A,{type:"button",variant:"secondary",size:"sm",onClick:()=>Za(h),disabled:d[h]||!u.product_name.trim()||!u.unit_price||u.unit_price<=0,className:"w-full text-xs h-8 hover:bg-primary/10 transition-colors",children:d[h]?a.jsxs(a.Fragment,{children:[a.jsx(Ae,{className:"h-3 w-3 mr-2 animate-spin"}),"Kaydediliyor..."]}):a.jsxs(a.Fragment,{children:[a.jsx(ja,{className:"h-3 w-3 mr-2"}),"Kayıtlı Ürünlere Ekle"]})})]}):a.jsx(Or,{products:Ga(u.category),value:u.product_id,onSelect:w=>Z(h,"product_id",w),placeholder:"Ürün seçin veya arayın",onRefreshProducts:me})]}),a.jsxs("div",{className:"col-span-1 sm:col-span-2 space-y-2",children:[a.jsx(L,{className:"text-sm font-medium",children:"Kategori"}),a.jsxs(xa,{value:u.category||"none",onValueChange:w=>Z(h,"category",w==="none"?void 0:w),children:[a.jsx(pa,{className:"h-10 transition-all",children:a.jsx(ya,{placeholder:"Kategori"})}),a.jsxs(ga,{children:[a.jsx(Ee,{value:"none",children:"Kategori yok"}),Sr.map(w=>a.jsx(Ee,{value:w,children:w},w))]})]})]}),a.jsxs("div",{className:"col-span-1 sm:col-span-1 space-y-2",children:[a.jsx(L,{className:"text-sm font-medium",showRequired:!0,children:"Miktar"}),a.jsx(ye,{type:"number",min:"1",step:"1",placeholder:"1",value:u.quantity||"",onChange:w=>Z(h,"quantity",parseInt(w.target.value)||0),required:!0,className:"h-10 transition-all"})]}),a.jsxs("div",{className:"col-span-1 sm:col-span-2 space-y-2",children:[a.jsx(L,{className:"text-sm font-medium",showRequired:!0,children:"Birim Fiyat"}),a.jsx(ye,{type:"number",step:"0.01",min:"0",placeholder:"0.00",value:u.unit_price||"",onChange:w=>Z(h,"unit_price",parseFloat(w.target.value)||0),required:!0,className:"h-10 transition-all"})]}),a.jsxs("div",{className:"col-span-1 sm:col-span-2 space-y-2",children:[a.jsx(L,{className:"text-sm font-medium",children:"İndirim"}),a.jsx(ye,{type:"number",step:"0.01",min:"0",placeholder:"0.00",value:u.discount||"",onChange:w=>Z(h,"discount",parseFloat(w.target.value)||0),className:"h-10 transition-all"})]})]}),a.jsxs("div",{className:"mt-4 pt-4 border-t flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center gap-2",children:!u.product_id&&!u.is_manual&&a.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[a.jsx(Me,{className:"h-3 w-3"}),"Lütfen bir ürün seçin veya manuel ürün ekleyin"]})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs text-muted-foreground",children:"Toplam:"}),a.jsxs("span",{className:"text-lg font-bold text-primary",children:[I,(u.total||0).toFixed(2)]})]})]})]},h))})})})]})}),a.jsx("div",{className:"col-span-12 lg:col-span-4",children:a.jsx("div",{className:"w-full lg:w-96 lg:sticky lg:top-6 h-full",children:a.jsxs(le,{className:"rounded-xl shadow-lg border bg-white h-full flex flex-col",children:[a.jsx(oe,{className:"p-6 border-b flex-shrink-0",children:a.jsxs(ie,{className:"text-lg font-semibold flex items-center gap-2",children:[a.jsx(Be,{className:"h-5 w-5 text-primary"}),"Özet"]})}),a.jsxs(de,{className:"p-6 space-y-4 flex-1 overflow-y-auto",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Ara Toplam:"}),a.jsxs("span",{className:"font-medium",children:[I,ne.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsxs("span",{className:"text-muted-foreground",children:["KDV (",p,"%):"]}),a.jsxs("span",{className:"font-medium",children:[I,V.toFixed(2)]})]}),a.jsx(qe,{}),a.jsxs("div",{className:"flex justify-between pt-1",children:[a.jsx("span",{className:"font-semibold",children:"Genel Toplam:"}),a.jsxs("span",{className:"font-bold text-lg text-primary",children:[I,G.toFixed(2)]})]})]}),a.jsxs("div",{className:"pt-3 border-t space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[a.jsx("span",{children:"Ürün Sayısı:"}),a.jsx("span",{children:$})]}),a.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[a.jsx("span",{children:"Toplam Miktar:"}),a.jsxs("span",{children:[ve," adet"]})]})]})]})]})})})]}),T===3&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-3 sm:gap-4 h-full",children:[a.jsx("div",{className:"col-span-1 lg:col-span-8 space-y-3 sm:space-y-4 flex flex-col",children:a.jsxs(le,{className:"rounded-xl shadow-lg border bg-white flex-1 flex flex-col min-h-0",children:[a.jsx(oe,{className:"p-4 sm:p-6 border-b flex-shrink-0",children:a.jsxs(ie,{className:"text-base font-semibold flex items-center gap-2",children:[a.jsx(Re,{className:"h-4 w-4 text-primary"}),"Sipariş Özeti"]})}),a.jsxs(de,{className:"p-4 sm:p-6 space-y-3 sm:space-y-4 flex-1 overflow-y-auto",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[a.jsxs("div",{className:"p-4 rounded-xl bg-blue-50/50 border border-blue-100",children:[a.jsx(L,{className:"text-xs text-muted-foreground mb-1",children:"Müşteri"}),a.jsx("p",{className:"font-semibold text-base",children:x.customer_name||"-"})]}),a.jsxs("div",{className:"p-4 rounded-xl bg-purple-50/50 border border-purple-100",children:[a.jsx(L,{className:"text-xs text-muted-foreground mb-1",children:"Sipariş No"}),a.jsx("p",{className:"font-semibold text-base font-mono",children:x.order_number||"-"})]})]}),a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[a.jsx(Me,{className:"h-4 w-4 text-primary"}),"Ürün Listesi"]}),a.jsx("div",{className:"space-y-2 max-h-[300px] overflow-y-auto",children:B.map((u,h)=>a.jsxs("div",{className:"flex justify-between items-center p-3 rounded-xl border bg-muted/30 hover:bg-muted/50 transition-colors",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium truncate",children:u.product_name||"Ürün"}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[u.quantity," adet × ",I,(u.unit_price||0).toFixed(2),u.discount>0&&` - İndirim: ${I}${(u.discount||0).toFixed(2)}`]})]}),a.jsxs("p",{className:"font-bold text-primary ml-4",children:[I,(u.total||0).toFixed(2)]})]},h))})]})]})]})}),a.jsx("div",{className:"col-span-1 lg:col-span-4",children:a.jsx("div",{className:"w-full lg:w-80 lg:sticky lg:top-3 h-full",children:a.jsxs(le,{className:"rounded-xl shadow-lg border bg-white h-full flex flex-col",children:[a.jsx(oe,{className:"p-4 sm:p-6 border-b flex-shrink-0",children:a.jsxs(ie,{className:"text-base sm:text-lg font-semibold flex items-center gap-2",children:[a.jsx(Be,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"}),"Fiyat Özeti"]})}),a.jsxs(de,{className:"p-4 sm:p-6 space-y-3 sm:space-y-4 flex-1 overflow-y-auto",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Ara Toplam:"}),a.jsxs("span",{className:"font-medium",children:[I,ne.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsxs("span",{className:"text-muted-foreground",children:["KDV (",p,"%):"]}),a.jsxs("span",{className:"font-medium",children:[I,V.toFixed(2)]})]}),a.jsx(qe,{}),a.jsxs("div",{className:"flex justify-between pt-1",children:[a.jsx("span",{className:"font-semibold",children:"Genel Toplam:"}),a.jsxs("span",{className:"font-bold text-lg text-primary",children:[I,G.toFixed(2)]})]})]}),a.jsxs("div",{className:"pt-3 border-t space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[a.jsx("span",{children:"Ürün Sayısı:"}),a.jsx("span",{children:$})]}),a.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[a.jsx("span",{children:"Toplam Miktar:"}),a.jsxs("span",{children:[ve," adet"]})]})]})]})]})})})]})]})}),a.jsxs("div",{className:"p-4 sm:p-6 border-t bg-white flex flex-col sm:flex-row items-stretch sm:items-center justify-between gap-3 sm:gap-0 flex-shrink-0",children:[T>1&&a.jsxs(A,{variant:"outline",onClick:()=>se(T-1),className:"gap-2 h-11 sm:h-10 hover:bg-primary/5 transition-colors w-full sm:w-auto order-2 sm:order-1",children:[a.jsx(ft,{className:"h-4 w-4"})," Geri"]}),T<3?a.jsx("div",{className:J("flex-1 flex justify-end",T>1?"order-1 sm:order-2":"order-1"),children:a.jsxs(A,{onClick:()=>{if(T===1){if(!x.customer_id){P.error("Lütfen müşteri seçin");return}if(!x.order_number){v(!0),P.error("Lütfen sipariş numarası girin");return}se(2)}else if(T===2){if(te.filter(h=>(h.product_id||h.is_manual&&h.product_name.trim())&&h.quantity>0&&h.unit_price>0).length===0){P.error("Lütfen en az bir geçerli ürün ekleyin");return}se(3)}},className:"gap-2 h-11 sm:h-10 bg-primary hover:bg-primary/90 text-white transition-colors w-full sm:w-auto",children:["İleri ",a.jsx(ht,{className:"h-4 w-4"})]})}):a.jsx(A,{onClick:et,disabled:s||Ua,className:"gap-2 h-11 sm:h-10 bg-primary hover:bg-primary/90 text-white transition-colors disabled:opacity-50 disabled:cursor-not-allowed w-full sm:w-auto order-1",children:s?a.jsxs(a.Fragment,{children:[a.jsx(Ae,{className:"h-4 w-4 animate-spin"}),"Oluşturuluyor..."]}):a.jsxs(a.Fragment,{children:[a.jsx(ja,{className:"h-4 w-4"}),"Siparişi Oluştur"]})})]})]})})}),f&&a.jsx(Yt,{open:S,onOpenChange:ae,customer:f,onUpdate:Xa})]})};export{Kr as C};
