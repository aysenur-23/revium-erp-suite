import{a3 as ye,r as g,j as a,V as le,aK as aa,k as $a,b as L,C as ne,c as re,d as se,e as oe,w as A,R as he,B,f as Za,S as ta,p as na,q as ra,s as sa,t as De,U as Qa,L as Se,A as Xa,T as oa}from"./index-Xd90qdO9.js";import{t as E,p as ve,ah as la,aj as Ja,ag as et,al as qe,am as xe,ak as at,K as tt,g as nt,i as rt,D as st,a as ot,b as lt,f as Pe,c as it,B as Oe,P as _e,w as dt,T as ct,S as ut,N as mt,O as ft,Q as ht,R as vt,U as ia,V as da,an as xt,ad as pt,h as yt}from"./MainLayout-DW7UjMSA.js";import{C as gt,a as bt}from"./CustomerCombobox-B9g9riZZ.js";import{S as Le}from"./separator-BNuYyAQ9.js";import{P as ya,a as ga,b as ba}from"./popover-BA39Kv9C.js";import{i as W}from"./isSameDay-CmhUF_DM.js";import{s as Fe}from"./subDays-BSPI1LCX.js";import{a as pe,d as Q,s as ca,b as jt,c as Ke,g as Nt,e as _t,f as ae,i as ja}from"./format-DuC-NjES.js";import{a as T}from"./addDays-b8IynWul.js";import{i as Na,a as Be}from"./isBefore-CpsBulHW.js";import{C as wt}from"./CustomerDetailModal-D1Gwzqrs.js";import{C as _a,a as kt}from"./currency-BpxR3_y8.js";import{P as ze}from"./plus-D9uLCipi.js";import{T as Ct}from"./trash-2-DlZRXDqX.js";import{S as ua}from"./save-Bgz0wbo5.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=ye("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=ye("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=ye("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=ye("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=ye("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);function z(e,n){const t=E(e);if(isNaN(n))return ve(e,NaN);if(!n)return t;const r=t.getDate(),s=ve(e,t.getTime());s.setMonth(t.getMonth()+n+1,0);const o=s.getDate();return r>=o?s:(t.setFullYear(s.getFullYear(),s.getMonth(),r),t)}function He(e,n){const t=n*7;return T(e,t)}function Pt(e,n){return z(e,n*12)}function Ot(e){let n;return e.forEach(function(t){const r=E(t);(n===void 0||n<r||isNaN(Number(r)))&&(n=r)}),n||new Date(NaN)}function Lt(e){let n;return e.forEach(t=>{const r=E(t);(!n||n>r||isNaN(+r))&&(n=r)}),n||new Date(NaN)}function Ft(e,n,t){const r=pe(e,t),s=pe(n,t),o=+r-la(r),l=+s-la(s);return Math.round((o-l)/Ja)}function R(e){const n=E(e);return n.setDate(1),n.setHours(0,0,0,0),n}function Ue(e,n){var i,d,f,u;const t=et(),r=(n==null?void 0:n.weekStartsOn)??((d=(i=n==null?void 0:n.locale)==null?void 0:i.options)==null?void 0:d.weekStartsOn)??t.weekStartsOn??((u=(f=t.locale)==null?void 0:f.options)==null?void 0:u.weekStartsOn)??0,s=E(e),o=s.getDay(),l=(o<r?-7:0)+6-(o-r);return s.setDate(s.getDate()+l),s.setHours(23,59,59,999),s}function wa(e){return Ue(e,{weekStartsOn:1})}function It(e){const n=E(e),t=n.getFullYear(),r=n.getMonth(),s=ve(e,0);return s.setFullYear(t,r+1,0),s.setHours(0,0,0,0),s.getDate()}function Tt(e){return Math.trunc(+E(e)/1e3)}function Wt(e){const n=E(e),t=n.getMonth();return n.setFullYear(n.getFullYear(),t+1,0),n.setHours(0,0,0,0),n}function Rt(e,n){return Ft(Wt(e),R(e),n)+1}function Ve(e,n){const t=E(e),r=E(n);return t.getFullYear()===r.getFullYear()&&t.getMonth()===r.getMonth()}function Et(e,n){const t=E(e),r=E(n);return t.getFullYear()===r.getFullYear()}function Te(e,n){const t=E(e),r=t.getFullYear(),s=t.getDate(),o=ve(e,0);o.setFullYear(r,n,15),o.setHours(0,0,0,0);const l=It(o);return t.setMonth(n,Math.min(s,l)),t}function fa(e,n){const t=E(e);return isNaN(+t)?ve(e,NaN):(t.setFullYear(n),t)}var b=function(){return b=Object.assign||function(n){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},b.apply(this,arguments)};function Yt(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)n.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(t[r[s]]=e[r[s]]);return t}function ka(e,n,t){for(var r=0,s=n.length,o;r<s;r++)(o||!(r in n))&&(o||(o=Array.prototype.slice.call(n,0,r)),o[r]=n[r]);return e.concat(o||Array.prototype.slice.call(n))}function ge(e){return e.mode==="multiple"}function be(e){return e.mode==="range"}function Ce(e){return e.mode==="single"}var At={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function Bt(e,n){return ae(e,"LLLL y",n)}function zt(e,n){return ae(e,"d",n)}function Ht(e,n){return ae(e,"LLLL",n)}function qt(e){return"".concat(e)}function Kt(e,n){return ae(e,"cccccc",n)}function Ut(e,n){return ae(e,"yyyy",n)}var Vt=Object.freeze({__proto__:null,formatCaption:Bt,formatDay:zt,formatMonthCaption:Ht,formatWeekNumber:qt,formatWeekdayName:Kt,formatYearCaption:Ut}),Gt=function(e,n,t){return ae(e,"do MMMM (EEEE)",t)},$t=function(){return"Month: "},Zt=function(){return"Go to next month"},Qt=function(){return"Go to previous month"},Xt=function(e,n){return ae(e,"cccc",n)},Jt=function(e){return"Week n. ".concat(e)},en=function(){return"Year: "},an=Object.freeze({__proto__:null,labelDay:Gt,labelMonthDropdown:$t,labelNext:Zt,labelPrevious:Qt,labelWeekNumber:Jt,labelWeekday:Xt,labelYearDropdown:en});function tn(){var e="buttons",n=At,t=at,r={},s={},o=1,l={},i=new Date;return{captionLayout:e,classNames:n,formatters:Vt,labels:an,locale:t,modifiersClassNames:r,modifiers:s,numberOfMonths:o,styles:l,today:i,mode:"default"}}function nn(e){var n=e.fromYear,t=e.toYear,r=e.fromMonth,s=e.toMonth,o=e.fromDate,l=e.toDate;return r?o=R(r):n&&(o=new Date(n,0,1)),s?l=qe(s):t&&(l=new Date(t,11,31)),{fromDate:o?ca(o):void 0,toDate:l?ca(l):void 0}}var Ca=g.createContext(void 0);function rn(e){var n,t=e.initialProps,r=tn(),s=nn(t),o=s.fromDate,l=s.toDate,i=(n=t.captionLayout)!==null&&n!==void 0?n:r.captionLayout;i!=="buttons"&&(!o||!l)&&(i="buttons");var d;(Ce(t)||ge(t)||be(t))&&(d=t.onSelect);var f=b(b(b({},r),t),{captionLayout:i,classNames:b(b({},r.classNames),t.classNames),components:b({},t.components),formatters:b(b({},r.formatters),t.formatters),fromDate:o,labels:b(b({},r.labels),t.labels),mode:t.mode||r.mode,modifiers:b(b({},r.modifiers),t.modifiers),modifiersClassNames:b(b({},r.modifiersClassNames),t.modifiersClassNames),onSelect:d,styles:b(b({},r.styles),t.styles),toDate:l});return a.jsx(Ca.Provider,{value:f,children:e.children})}function D(){var e=g.useContext(Ca);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function Ma(e){var n=D(),t=n.locale,r=n.classNames,s=n.styles,o=n.formatters.formatCaption;return a.jsx("div",{className:r.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:o(e.displayMonth,{locale:t})})}function sn(e){return a.jsx("svg",b({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:a.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Da(e){var n,t,r=e.onChange,s=e.value,o=e.children,l=e.caption,i=e.className,d=e.style,f=D(),u=(t=(n=f.components)===null||n===void 0?void 0:n.IconDropdown)!==null&&t!==void 0?t:sn;return a.jsxs("div",{className:i,style:d,children:[a.jsx("span",{className:f.classNames.vhidden,children:e["aria-label"]}),a.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:f.classNames.dropdown,style:f.styles.dropdown,value:s,onChange:r,children:o}),a.jsxs("div",{className:f.classNames.caption_label,style:f.styles.caption_label,"aria-hidden":"true",children:[l,a.jsx(u,{className:f.classNames.dropdown_icon,style:f.styles.dropdown_icon})]})]})}function on(e){var n,t=D(),r=t.fromDate,s=t.toDate,o=t.styles,l=t.locale,i=t.formatters.formatMonthCaption,d=t.classNames,f=t.components,u=t.labels.labelMonthDropdown;if(!r)return a.jsx(a.Fragment,{});if(!s)return a.jsx(a.Fragment,{});var v=[];if(Et(r,s))for(var m=R(r),p=r.getMonth();p<=s.getMonth();p++)v.push(Te(m,p));else for(var m=R(new Date),p=0;p<=11;p++)v.push(Te(m,p));var j=function(_){var M=Number(_.target.value),S=Te(R(e.displayMonth),M);e.onChange(S)},k=(n=f==null?void 0:f.Dropdown)!==null&&n!==void 0?n:Da;return a.jsx(k,{name:"months","aria-label":u(),className:d.dropdown_month,style:o.dropdown_month,onChange:j,value:e.displayMonth.getMonth(),caption:i(e.displayMonth,{locale:l}),children:v.map(function(_){return a.jsx("option",{value:_.getMonth(),children:i(_,{locale:l})},_.getMonth())})})}function ln(e){var n,t=e.displayMonth,r=D(),s=r.fromDate,o=r.toDate,l=r.locale,i=r.styles,d=r.classNames,f=r.components,u=r.formatters.formatYearCaption,v=r.labels.labelYearDropdown,m=[];if(!s)return a.jsx(a.Fragment,{});if(!o)return a.jsx(a.Fragment,{});for(var p=s.getFullYear(),j=o.getFullYear(),k=p;k<=j;k++)m.push(fa(jt(new Date),k));var _=function(S){var X=fa(R(t),Number(S.target.value));e.onChange(X)},M=(n=f==null?void 0:f.Dropdown)!==null&&n!==void 0?n:Da;return a.jsx(M,{name:"years","aria-label":v(),className:d.dropdown_year,style:i.dropdown_year,onChange:_,value:t.getFullYear(),caption:u(t,{locale:l}),children:m.map(function(S){return a.jsx("option",{value:S.getFullYear(),children:u(S,{locale:l})},S.getFullYear())})})}function dn(e,n){var t=g.useState(e),r=t[0],s=t[1],o=n===void 0?r:n;return[o,s]}function cn(e){var n=e.month,t=e.defaultMonth,r=e.today,s=n||t||r||new Date,o=e.toDate,l=e.fromDate,i=e.numberOfMonths,d=i===void 0?1:i;if(o&&xe(o,s)<0){var f=-1*(d-1);s=z(o,f)}return l&&xe(s,l)<0&&(s=l),R(s)}function un(){var e=D(),n=cn(e),t=dn(n,e.month),r=t[0],s=t[1],o=function(l){var i;if(!e.disableNavigation){var d=R(l);s(d),(i=e.onMonthChange)===null||i===void 0||i.call(e,d)}};return[r,o]}function mn(e,n){for(var t=n.reverseMonths,r=n.numberOfMonths,s=R(e),o=R(z(s,r)),l=xe(o,s),i=[],d=0;d<l;d++){var f=z(s,d);i.push(f)}return t&&(i=i.reverse()),i}function fn(e,n){if(!n.disableNavigation){var t=n.toDate,r=n.pagedNavigation,s=n.numberOfMonths,o=s===void 0?1:s,l=r?o:1,i=R(e);if(!t)return z(i,l);var d=xe(t,e);if(!(d<o))return z(i,l)}}function hn(e,n){if(!n.disableNavigation){var t=n.fromDate,r=n.pagedNavigation,s=n.numberOfMonths,o=s===void 0?1:s,l=r?o:1,i=R(e);if(!t)return z(i,-l);var d=xe(i,t);if(!(d<=0))return z(i,-l)}}var Sa=g.createContext(void 0);function vn(e){var n=D(),t=un(),r=t[0],s=t[1],o=mn(r,n),l=fn(r,n),i=hn(r,n),d=function(v){return o.some(function(m){return Ve(v,m)})},f=function(v,m){d(v)||(m&&Na(v,m)?s(z(v,1+n.numberOfMonths*-1)):s(v))},u={currentMonth:r,displayMonths:o,goToMonth:s,goToDate:f,previousMonth:i,nextMonth:l,isDateDisplayed:d};return a.jsx(Sa.Provider,{value:u,children:e.children})}function je(){var e=g.useContext(Sa);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function ha(e){var n,t=D(),r=t.classNames,s=t.styles,o=t.components,l=je().goToMonth,i=function(u){l(z(u,e.displayIndex?-e.displayIndex:0))},d=(n=o==null?void 0:o.CaptionLabel)!==null&&n!==void 0?n:Ma,f=a.jsx(d,{id:e.id,displayMonth:e.displayMonth});return a.jsxs("div",{className:r.caption_dropdowns,style:s.caption_dropdowns,children:[a.jsx("div",{className:r.vhidden,children:f}),a.jsx(on,{onChange:i,displayMonth:e.displayMonth}),a.jsx(ln,{onChange:i,displayMonth:e.displayMonth})]})}function xn(e){return a.jsx("svg",b({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:a.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function pn(e){return a.jsx("svg",b({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:a.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var ke=g.forwardRef(function(e,n){var t=D(),r=t.classNames,s=t.styles,o=[r.button_reset,r.button];e.className&&o.push(e.className);var l=o.join(" "),i=b(b({},s.button_reset),s.button);return e.style&&Object.assign(i,e.style),a.jsx("button",b({},e,{ref:n,type:"button",className:l,style:i}))});function yn(e){var n,t,r=D(),s=r.dir,o=r.locale,l=r.classNames,i=r.styles,d=r.labels,f=d.labelPrevious,u=d.labelNext,v=r.components;if(!e.nextMonth&&!e.previousMonth)return a.jsx(a.Fragment,{});var m=f(e.previousMonth,{locale:o}),p=[l.nav_button,l.nav_button_previous].join(" "),j=u(e.nextMonth,{locale:o}),k=[l.nav_button,l.nav_button_next].join(" "),_=(n=v==null?void 0:v.IconRight)!==null&&n!==void 0?n:pn,M=(t=v==null?void 0:v.IconLeft)!==null&&t!==void 0?t:xn;return a.jsxs("div",{className:l.nav,style:i.nav,children:[!e.hidePrevious&&a.jsx(ke,{name:"previous-month","aria-label":m,className:p,style:i.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:s==="rtl"?a.jsx(_,{className:l.nav_icon,style:i.nav_icon}):a.jsx(M,{className:l.nav_icon,style:i.nav_icon})}),!e.hideNext&&a.jsx(ke,{name:"next-month","aria-label":j,className:k,style:i.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:s==="rtl"?a.jsx(M,{className:l.nav_icon,style:i.nav_icon}):a.jsx(_,{className:l.nav_icon,style:i.nav_icon})})]})}function va(e){var n=D().numberOfMonths,t=je(),r=t.previousMonth,s=t.nextMonth,o=t.goToMonth,l=t.displayMonths,i=l.findIndex(function(j){return Ve(e.displayMonth,j)}),d=i===0,f=i===l.length-1,u=n>1&&(d||!f),v=n>1&&(f||!d),m=function(){r&&o(r)},p=function(){s&&o(s)};return a.jsx(yn,{displayMonth:e.displayMonth,hideNext:u,hidePrevious:v,nextMonth:s,previousMonth:r,onPreviousClick:m,onNextClick:p})}function gn(e){var n,t=D(),r=t.classNames,s=t.disableNavigation,o=t.styles,l=t.captionLayout,i=t.components,d=(n=i==null?void 0:i.CaptionLabel)!==null&&n!==void 0?n:Ma,f;return s?f=a.jsx(d,{id:e.id,displayMonth:e.displayMonth}):l==="dropdown"?f=a.jsx(ha,{displayMonth:e.displayMonth,id:e.id}):l==="dropdown-buttons"?f=a.jsxs(a.Fragment,{children:[a.jsx(ha,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),a.jsx(va,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):f=a.jsxs(a.Fragment,{children:[a.jsx(d,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),a.jsx(va,{displayMonth:e.displayMonth,id:e.id})]}),a.jsx("div",{className:r.caption,style:o.caption,children:f})}function bn(e){var n=D(),t=n.footer,r=n.styles,s=n.classNames.tfoot;return t?a.jsx("tfoot",{className:s,style:r.tfoot,children:a.jsx("tr",{children:a.jsx("td",{colSpan:8,children:t})})}):a.jsx(a.Fragment,{})}function jn(e,n,t){for(var r=t?Ke(new Date):pe(new Date,{locale:e,weekStartsOn:n}),s=[],o=0;o<7;o++){var l=T(r,o);s.push(l)}return s}function Nn(){var e=D(),n=e.classNames,t=e.styles,r=e.showWeekNumber,s=e.locale,o=e.weekStartsOn,l=e.ISOWeek,i=e.formatters.formatWeekdayName,d=e.labels.labelWeekday,f=jn(s,o,l);return a.jsxs("tr",{style:t.head_row,className:n.head_row,children:[r&&a.jsx("td",{style:t.head_cell,className:n.head_cell}),f.map(function(u,v){return a.jsx("th",{scope:"col",className:n.head_cell,style:t.head_cell,"aria-label":d(u,{locale:s}),children:i(u,{locale:s})},v)})]})}function _n(){var e,n=D(),t=n.classNames,r=n.styles,s=n.components,o=(e=s==null?void 0:s.HeadRow)!==null&&e!==void 0?e:Nn;return a.jsx("thead",{style:r.head,className:t.head,children:a.jsx(o,{})})}function wn(e){var n=D(),t=n.locale,r=n.formatters.formatDay;return a.jsx(a.Fragment,{children:r(e.date,{locale:t})})}var Ge=g.createContext(void 0);function kn(e){if(!ge(e.initialProps)){var n={selected:void 0,modifiers:{disabled:[]}};return a.jsx(Ge.Provider,{value:n,children:e.children})}return a.jsx(Cn,{initialProps:e.initialProps,children:e.children})}function Cn(e){var n=e.initialProps,t=e.children,r=n.selected,s=n.min,o=n.max,l=function(f,u,v){var m,p;(m=n.onDayClick)===null||m===void 0||m.call(n,f,u,v);var j=!!(u.selected&&s&&(r==null?void 0:r.length)===s);if(!j){var k=!!(!u.selected&&o&&(r==null?void 0:r.length)===o);if(!k){var _=r?ka([],r):[];if(u.selected){var M=_.findIndex(function(S){return W(f,S)});_.splice(M,1)}else _.push(f);(p=n.onSelect)===null||p===void 0||p.call(n,_,f,u,v)}}},i={disabled:[]};r&&i.disabled.push(function(f){var u=o&&r.length>o-1,v=r.some(function(m){return W(m,f)});return!!(u&&!v)});var d={selected:r,onDayClick:l,modifiers:i};return a.jsx(Ge.Provider,{value:d,children:t})}function $e(){var e=g.useContext(Ge);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function Mn(e,n){var t=n||{},r=t.from,s=t.to;return r&&s?W(s,e)&&W(r,e)?void 0:W(s,e)?{from:s,to:void 0}:W(r,e)?void 0:Be(r,e)?{from:e,to:s}:{from:r,to:e}:s?Be(e,s)?{from:s,to:e}:{from:e,to:s}:r?Na(e,r)?{from:e,to:r}:{from:r,to:e}:{from:e,to:void 0}}var Ze=g.createContext(void 0);function Dn(e){if(!be(e.initialProps)){var n={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return a.jsx(Ze.Provider,{value:n,children:e.children})}return a.jsx(Sn,{initialProps:e.initialProps,children:e.children})}function Sn(e){var n=e.initialProps,t=e.children,r=n.selected,s=r||{},o=s.from,l=s.to,i=n.min,d=n.max,f=function(p,j,k){var _,M;(_=n.onDayClick)===null||_===void 0||_.call(n,p,j,k);var S=Mn(p,r);(M=n.onSelect)===null||M===void 0||M.call(n,S,p,j,k)},u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(o?(u.range_start=[o],l?(u.range_end=[l],W(o,l)||(u.range_middle=[{after:o,before:l}])):u.range_end=[o]):l&&(u.range_start=[l],u.range_end=[l]),i&&(o&&!l&&u.disabled.push({after:Fe(o,i-1),before:T(o,i-1)}),o&&l&&u.disabled.push({after:o,before:T(o,i-1)}),!o&&l&&u.disabled.push({after:Fe(l,i-1),before:T(l,i-1)})),d){if(o&&!l&&(u.disabled.push({before:T(o,-d+1)}),u.disabled.push({after:T(o,d-1)})),o&&l){var v=Q(l,o)+1,m=d-v;u.disabled.push({before:Fe(o,m)}),u.disabled.push({after:T(l,m)})}!o&&l&&(u.disabled.push({before:T(l,-d+1)}),u.disabled.push({after:T(l,d-1)}))}return a.jsx(Ze.Provider,{value:{selected:r,onDayClick:f,modifiers:u},children:t})}function Qe(){var e=g.useContext(Ze);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function we(e){return Array.isArray(e)?ka([],e):e!==void 0?[e]:[]}function Pn(e){var n={};return Object.entries(e).forEach(function(t){var r=t[0],s=t[1];n[r]=we(s)}),n}var H;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(H||(H={}));var On=H.Selected,Z=H.Disabled,Ln=H.Hidden,Fn=H.Today,We=H.RangeEnd,Re=H.RangeMiddle,Ee=H.RangeStart,In=H.Outside;function Tn(e,n,t){var r,s=(r={},r[On]=we(e.selected),r[Z]=we(e.disabled),r[Ln]=we(e.hidden),r[Fn]=[e.today],r[We]=[],r[Re]=[],r[Ee]=[],r[In]=[],r);return e.fromDate&&s[Z].push({before:e.fromDate}),e.toDate&&s[Z].push({after:e.toDate}),ge(e)?s[Z]=s[Z].concat(n.modifiers[Z]):be(e)&&(s[Z]=s[Z].concat(t.modifiers[Z]),s[Ee]=t.modifiers[Ee],s[Re]=t.modifiers[Re],s[We]=t.modifiers[We]),s}var Pa=g.createContext(void 0);function Wn(e){var n=D(),t=$e(),r=Qe(),s=Tn(n,t,r),o=Pn(n.modifiers),l=b(b({},s),o);return a.jsx(Pa.Provider,{value:l,children:e.children})}function Oa(){var e=g.useContext(Pa);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function Rn(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function En(e){return!!(e&&typeof e=="object"&&"from"in e)}function Yn(e){return!!(e&&typeof e=="object"&&"after"in e)}function An(e){return!!(e&&typeof e=="object"&&"before"in e)}function Bn(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function zn(e,n){var t,r=n.from,s=n.to;if(r&&s){var o=Q(s,r)<0;o&&(t=[s,r],r=t[0],s=t[1]);var l=Q(e,r)>=0&&Q(s,e)>=0;return l}return s?W(s,e):r?W(r,e):!1}function Hn(e){return ja(e)}function qn(e){return Array.isArray(e)&&e.every(ja)}function Kn(e,n){return n.some(function(t){if(typeof t=="boolean")return t;if(Hn(t))return W(e,t);if(qn(t))return t.includes(e);if(En(t))return zn(e,t);if(Bn(t))return t.dayOfWeek.includes(e.getDay());if(Rn(t)){var r=Q(t.before,e),s=Q(t.after,e),o=r>0,l=s<0,i=Be(t.before,t.after);return i?l&&o:o||l}return Yn(t)?Q(e,t.after)>0:An(t)?Q(t.before,e)>0:typeof t=="function"?t(e):!1})}function Xe(e,n,t){var r=Object.keys(n).reduce(function(o,l){var i=n[l];return Kn(e,i)&&o.push(l),o},[]),s={};return r.forEach(function(o){return s[o]=!0}),t&&!Ve(e,t)&&(s.outside=!0),s}function Un(e,n){for(var t=R(e[0]),r=qe(e[e.length-1]),s,o,l=t;l<=r;){var i=Xe(l,n),d=!i.disabled&&!i.hidden;if(!d){l=T(l,1);continue}if(i.selected)return l;i.today&&!o&&(o=l),s||(s=l),l=T(l,1)}return o||s}var Vn=365;function La(e,n){var t=n.moveBy,r=n.direction,s=n.context,o=n.modifiers,l=n.retry,i=l===void 0?{count:0,lastFocused:e}:l,d=s.weekStartsOn,f=s.fromDate,u=s.toDate,v=s.locale,m={day:T,week:He,month:z,year:Pt,startOfWeek:function(_){return s.ISOWeek?Ke(_):pe(_,{locale:v,weekStartsOn:d})},endOfWeek:function(_){return s.ISOWeek?wa(_):Ue(_,{locale:v,weekStartsOn:d})}},p=m[t](e,r==="after"?1:-1);r==="before"&&f?p=Ot([f,p]):r==="after"&&u&&(p=Lt([u,p]));var j=!0;if(o){var k=Xe(p,o);j=!k.disabled&&!k.hidden}return j?p:i.count>Vn?i.lastFocused:La(p,{moveBy:t,direction:r,context:s,modifiers:o,retry:b(b({},i),{count:i.count+1})})}var Fa=g.createContext(void 0);function Gn(e){var n=je(),t=Oa(),r=g.useState(),s=r[0],o=r[1],l=g.useState(),i=l[0],d=l[1],f=Un(n.displayMonths,t),u=s??(i&&n.isDateDisplayed(i))?i:f,v=function(){d(s),o(void 0)},m=function(_){o(_)},p=D(),j=function(_,M){if(s){var S=La(s,{moveBy:_,direction:M,context:p,modifiers:t});W(s,S)||(n.goToDate(S,s),m(S))}},k={focusedDay:s,focusTarget:u,blur:v,focus:m,focusDayAfter:function(){return j("day","after")},focusDayBefore:function(){return j("day","before")},focusWeekAfter:function(){return j("week","after")},focusWeekBefore:function(){return j("week","before")},focusMonthBefore:function(){return j("month","before")},focusMonthAfter:function(){return j("month","after")},focusYearBefore:function(){return j("year","before")},focusYearAfter:function(){return j("year","after")},focusStartOfWeek:function(){return j("startOfWeek","before")},focusEndOfWeek:function(){return j("endOfWeek","after")}};return a.jsx(Fa.Provider,{value:k,children:e.children})}function Je(){var e=g.useContext(Fa);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function $n(e,n){var t=Oa(),r=Xe(e,t,n);return r}var ea=g.createContext(void 0);function Zn(e){if(!Ce(e.initialProps)){var n={selected:void 0};return a.jsx(ea.Provider,{value:n,children:e.children})}return a.jsx(Qn,{initialProps:e.initialProps,children:e.children})}function Qn(e){var n=e.initialProps,t=e.children,r=function(o,l,i){var d,f,u;if((d=n.onDayClick)===null||d===void 0||d.call(n,o,l,i),l.selected&&!n.required){(f=n.onSelect)===null||f===void 0||f.call(n,void 0,o,l,i);return}(u=n.onSelect)===null||u===void 0||u.call(n,o,o,l,i)},s={selected:n.selected,onDayClick:r};return a.jsx(ea.Provider,{value:s,children:t})}function Ia(){var e=g.useContext(ea);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function Xn(e,n){var t=D(),r=Ia(),s=$e(),o=Qe(),l=Je(),i=l.focusDayAfter,d=l.focusDayBefore,f=l.focusWeekAfter,u=l.focusWeekBefore,v=l.blur,m=l.focus,p=l.focusMonthBefore,j=l.focusMonthAfter,k=l.focusYearBefore,_=l.focusYearAfter,M=l.focusStartOfWeek,S=l.focusEndOfWeek,X=function(y){var x,K,U,V;Ce(t)?(x=r.onDayClick)===null||x===void 0||x.call(r,e,n,y):ge(t)?(K=s.onDayClick)===null||K===void 0||K.call(s,e,n,y):be(t)?(U=o.onDayClick)===null||U===void 0||U.call(o,e,n,y):(V=t.onDayClick)===null||V===void 0||V.call(t,e,n,y)},F=function(y){var x;m(e),(x=t.onDayFocus)===null||x===void 0||x.call(t,e,n,y)},te=function(y){var x;v(),(x=t.onDayBlur)===null||x===void 0||x.call(t,e,n,y)},N=function(y){var x;(x=t.onDayMouseEnter)===null||x===void 0||x.call(t,e,n,y)},q=function(y){var x;(x=t.onDayMouseLeave)===null||x===void 0||x.call(t,e,n,y)},J=function(y){var x;(x=t.onDayPointerEnter)===null||x===void 0||x.call(t,e,n,y)},ie=function(y){var x;(x=t.onDayPointerLeave)===null||x===void 0||x.call(t,e,n,y)},de=function(y){var x;(x=t.onDayTouchCancel)===null||x===void 0||x.call(t,e,n,y)},ce=function(y){var x;(x=t.onDayTouchEnd)===null||x===void 0||x.call(t,e,n,y)},Me=function(y){var x;(x=t.onDayTouchMove)===null||x===void 0||x.call(t,e,n,y)},Ne=function(y){var x;(x=t.onDayTouchStart)===null||x===void 0||x.call(t,e,n,y)},ue=function(y){var x;(x=t.onDayKeyUp)===null||x===void 0||x.call(t,e,n,y)},Y=function(y){var x;switch(y.key){case"ArrowLeft":y.preventDefault(),y.stopPropagation(),t.dir==="rtl"?i():d();break;case"ArrowRight":y.preventDefault(),y.stopPropagation(),t.dir==="rtl"?d():i();break;case"ArrowDown":y.preventDefault(),y.stopPropagation(),f();break;case"ArrowUp":y.preventDefault(),y.stopPropagation(),u();break;case"PageUp":y.preventDefault(),y.stopPropagation(),y.shiftKey?k():p();break;case"PageDown":y.preventDefault(),y.stopPropagation(),y.shiftKey?_():j();break;case"Home":y.preventDefault(),y.stopPropagation(),M();break;case"End":y.preventDefault(),y.stopPropagation(),S();break}(x=t.onDayKeyDown)===null||x===void 0||x.call(t,e,n,y)},ee={onClick:X,onFocus:F,onBlur:te,onKeyDown:Y,onKeyUp:ue,onMouseEnter:N,onMouseLeave:q,onPointerEnter:J,onPointerLeave:ie,onTouchCancel:de,onTouchEnd:ce,onTouchMove:Me,onTouchStart:Ne};return ee}function Jn(){var e=D(),n=Ia(),t=$e(),r=Qe(),s=Ce(e)?n.selected:ge(e)?t.selected:be(e)?r.selected:void 0;return s}function er(e){return Object.values(H).includes(e)}function ar(e,n){var t=[e.classNames.day];return Object.keys(n).forEach(function(r){var s=e.modifiersClassNames[r];if(s)t.push(s);else if(er(r)){var o=e.classNames["day_".concat(r)];o&&t.push(o)}}),t}function tr(e,n){var t=b({},e.styles.day);return Object.keys(n).forEach(function(r){var s;t=b(b({},t),(s=e.modifiersStyles)===null||s===void 0?void 0:s[r])}),t}function nr(e,n,t){var r,s,o,l=D(),i=Je(),d=$n(e,n),f=Xn(e,d),u=Jn(),v=!!(l.onDayClick||l.mode!=="default");g.useEffect(function(){var N;d.outside||i.focusedDay&&v&&W(i.focusedDay,e)&&((N=t.current)===null||N===void 0||N.focus())},[i.focusedDay,e,t,v,d.outside]);var m=ar(l,d).join(" "),p=tr(l,d),j=!!(d.outside&&!l.showOutsideDays||d.hidden),k=(o=(s=l.components)===null||s===void 0?void 0:s.DayContent)!==null&&o!==void 0?o:wn,_=a.jsx(k,{date:e,displayMonth:n,activeModifiers:d}),M={style:p,className:m,children:_,role:"gridcell"},S=i.focusTarget&&W(i.focusTarget,e)&&!d.outside,X=i.focusedDay&&W(i.focusedDay,e),F=b(b(b({},M),(r={disabled:d.disabled,role:"gridcell"},r["aria-selected"]=d.selected,r.tabIndex=X||S?0:-1,r)),f),te={isButton:v,isHidden:j,activeModifiers:d,selectedDays:u,buttonProps:F,divProps:M};return te}function rr(e){var n=g.useRef(null),t=nr(e.date,e.displayMonth,n);return t.isHidden?a.jsx("div",{role:"gridcell"}):t.isButton?a.jsx(ke,b({name:"day",ref:n},t.buttonProps)):a.jsx("div",b({},t.divProps))}function sr(e){var n=e.number,t=e.dates,r=D(),s=r.onWeekNumberClick,o=r.styles,l=r.classNames,i=r.locale,d=r.labels.labelWeekNumber,f=r.formatters.formatWeekNumber,u=f(Number(n),{locale:i});if(!s)return a.jsx("span",{className:l.weeknumber,style:o.weeknumber,children:u});var v=d(Number(n),{locale:i}),m=function(p){s(n,t,p)};return a.jsx(ke,{name:"week-number","aria-label":v,className:l.weeknumber,style:o.weeknumber,onClick:m,children:u})}function or(e){var n,t,r=D(),s=r.styles,o=r.classNames,l=r.showWeekNumber,i=r.components,d=(n=i==null?void 0:i.Day)!==null&&n!==void 0?n:rr,f=(t=i==null?void 0:i.WeekNumber)!==null&&t!==void 0?t:sr,u;return l&&(u=a.jsx("td",{className:o.cell,style:s.cell,children:a.jsx(f,{number:e.weekNumber,dates:e.dates})})),a.jsxs("tr",{className:o.row,style:s.row,children:[u,e.dates.map(function(v){return a.jsx("td",{className:o.cell,style:s.cell,role:"presentation",children:a.jsx(d,{displayMonth:e.displayMonth,date:v})},Tt(v))})]})}function xa(e,n,t){for(var r=t!=null&&t.ISOWeek?wa(n):Ue(n,t),s=t!=null&&t.ISOWeek?Ke(e):pe(e,t),o=Q(r,s),l=[],i=0;i<=o;i++)l.push(T(s,i));var d=l.reduce(function(f,u){var v=t!=null&&t.ISOWeek?Nt(u):_t(u,t),m=f.find(function(p){return p.weekNumber===v});return m?(m.dates.push(u),f):(f.push({weekNumber:v,dates:[u]}),f)},[]);return d}function lr(e,n){var t=xa(R(e),qe(e),n);if(n!=null&&n.useFixedWeeks){var r=Rt(e,n);if(r<6){var s=t[t.length-1],o=s.dates[s.dates.length-1],l=He(o,6-r),i=xa(He(o,1),l,n);t.push.apply(t,i)}}return t}function ir(e){var n,t,r,s=D(),o=s.locale,l=s.classNames,i=s.styles,d=s.hideHead,f=s.fixedWeeks,u=s.components,v=s.weekStartsOn,m=s.firstWeekContainsDate,p=s.ISOWeek,j=lr(e.displayMonth,{useFixedWeeks:!!f,ISOWeek:p,locale:o,weekStartsOn:v,firstWeekContainsDate:m}),k=(n=u==null?void 0:u.Head)!==null&&n!==void 0?n:_n,_=(t=u==null?void 0:u.Row)!==null&&t!==void 0?t:or,M=(r=u==null?void 0:u.Footer)!==null&&r!==void 0?r:bn;return a.jsxs("table",{id:e.id,className:l.table,style:i.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!d&&a.jsx(k,{}),a.jsx("tbody",{className:l.tbody,style:i.tbody,children:j.map(function(S){return a.jsx(_,{displayMonth:e.displayMonth,dates:S.dates,weekNumber:S.weekNumber},S.weekNumber)})}),a.jsx(M,{displayMonth:e.displayMonth})]})}function dr(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var cr=dr()?g.useLayoutEffect:g.useEffect,Ye=!1,ur=0;function pa(){return"react-day-picker-".concat(++ur)}function mr(e){var n,t=e??(Ye?pa():null),r=g.useState(t),s=r[0],o=r[1];return cr(function(){s===null&&o(pa())},[]),g.useEffect(function(){Ye===!1&&(Ye=!0)},[]),(n=e??s)!==null&&n!==void 0?n:void 0}function fr(e){var n,t,r=D(),s=r.dir,o=r.classNames,l=r.styles,i=r.components,d=je().displayMonths,f=mr(r.id?"".concat(r.id,"-").concat(e.displayIndex):void 0),u=r.id?"".concat(r.id,"-grid-").concat(e.displayIndex):void 0,v=[o.month],m=l.month,p=e.displayIndex===0,j=e.displayIndex===d.length-1,k=!p&&!j;s==="rtl"&&(n=[p,j],j=n[0],p=n[1]),p&&(v.push(o.caption_start),m=b(b({},m),l.caption_start)),j&&(v.push(o.caption_end),m=b(b({},m),l.caption_end)),k&&(v.push(o.caption_between),m=b(b({},m),l.caption_between));var _=(t=i==null?void 0:i.Caption)!==null&&t!==void 0?t:gn;return a.jsxs("div",{className:v.join(" "),style:m,children:[a.jsx(_,{id:f,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),a.jsx(ir,{id:u,"aria-labelledby":f,displayMonth:e.displayMonth})]},e.displayIndex)}function hr(e){var n=D(),t=n.classNames,r=n.styles;return a.jsx("div",{className:t.months,style:r.months,children:e.children})}function vr(e){var n,t,r=e.initialProps,s=D(),o=Je(),l=je(),i=g.useState(!1),d=i[0],f=i[1];g.useEffect(function(){s.initialFocus&&o.focusTarget&&(d||(o.focus(o.focusTarget),f(!0)))},[s.initialFocus,d,o.focus,o.focusTarget,o]);var u=[s.classNames.root,s.className];s.numberOfMonths>1&&u.push(s.classNames.multiple_months),s.showWeekNumber&&u.push(s.classNames.with_weeknumber);var v=b(b({},s.styles.root),s.style),m=Object.keys(r).filter(function(j){return j.startsWith("data-")}).reduce(function(j,k){var _;return b(b({},j),(_={},_[k]=r[k],_))},{}),p=(t=(n=r.components)===null||n===void 0?void 0:n.Months)!==null&&t!==void 0?t:hr;return a.jsx("div",b({className:u.join(" "),style:v,dir:s.dir,id:s.id,nonce:r.nonce,title:r.title,lang:r.lang},m,{children:a.jsx(p,{children:l.displayMonths.map(function(j,k){return a.jsx(fr,{displayIndex:k,displayMonth:j},k)})})}))}function xr(e){var n=e.children,t=Yt(e,["children"]);return a.jsx(rn,{initialProps:t,children:a.jsx(vn,{children:a.jsx(Zn,{initialProps:t,children:a.jsx(kn,{initialProps:t,children:a.jsx(Dn,{initialProps:t,children:a.jsx(Wn,{children:a.jsx(Gn,{children:n})})})})})})})}function pr(e){return a.jsx(xr,b({},e,{children:a.jsx(vr,{initialProps:e})}))}function Ta({className:e,classNames:n,showOutsideDays:t=!0,...r}){return a.jsx(pr,{showOutsideDays:t,className:le("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:le(aa({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:le(aa({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...n},components:{IconLeft:({...s})=>a.jsx(Dt,{className:"h-4 w-4"}),IconRight:({...s})=>a.jsx(tt,{className:"h-4 w-4"})},...r})}Ta.displayName="Calendar";const yr=["Taşınabilir Güç Paketleri","Kabin Tipi Güç Paketleri","Araç Tipi Güç Paketleri","Endüstriyel Güç Paketleri","Güneş Enerji Sistemleri"],Ae=()=>({product_id:null,product_name:"",quantity:1,unit_price:0,discount:0,total:0,is_manual:!1,category:void 0}),Wa="manual",gr=({products:e,value:n,onSelect:t,disabled:r,placeholder:s="Ürün seçin veya arayın"})=>{const[o,l]=g.useState(!1),i=n?e.find(d=>d.id===n):null;return a.jsxs(ya,{open:o,onOpenChange:d=>!r&&l(d),children:[a.jsx(ga,{asChild:!0,children:a.jsxs(B,{type:"button",variant:"outline",disabled:r,className:"w-full justify-between h-10 pointer-events-auto cursor-pointer",children:[a.jsx("span",{className:"truncate text-left",children:i?i.name:s}),a.jsx(bt,{className:"ml-2 h-4 w-4 opacity-50 flex-shrink-0"})]})}),a.jsx(ba,{className:"w-[320px] sm:w-[400px] p-0 !max-h-[400px] !h-auto",align:"start",side:"bottom",sideOffset:4,avoidCollisions:!0,children:a.jsxs(mt,{children:[a.jsx(ft,{placeholder:"Ürün ara...",className:"text-sm"}),a.jsxs(ht,{className:"!max-h-[350px] !h-auto",style:{maxHeight:"350px",height:"auto"},children:[a.jsx(vt,{children:"Ürün bulunamadı. Manuel ürün eklemek için aşağıdaki seçeneği kullanın."}),e.length>0&&a.jsx(ia,{heading:"Kayıtlı ürünler",children:e.map(d=>a.jsx(da,{value:d.name,onSelect:()=>{t(d.id),l(!1)},className:"cursor-pointer",children:a.jsxs("div",{className:"flex flex-col w-full",children:[a.jsx("span",{className:"font-medium",children:d.name}),(d.sku||d.category)&&a.jsx("span",{className:"text-xs text-muted-foreground",children:d.sku||d.category}),d.price&&a.jsxs("span",{className:"text-xs text-primary font-medium mt-0.5",children:[_a.TRY||"₺",d.price.toFixed(2)]})]})},d.id))}),e.length>0&&a.jsx(xt,{}),a.jsx(ia,{children:a.jsxs(da,{className:"text-primary cursor-pointer",onSelect:()=>{t(Wa),l(!1)},children:[a.jsx(ze,{className:"mr-2 h-4 w-4"}),"Manuel Ürün/Hizmet Ekle"]})})]})]})})]})},Tr=({open:e,onOpenChange:n,onSuccess:t})=>{const{user:r}=$a(),[s,o]=g.useState(!1),[l,i]=g.useState([]),[d,f]=g.useState({}),[u,v]=g.useState(!1),[m,p]=g.useState(null),[j,k]=g.useState(!1),[_,M]=g.useState(null),[S,X]=g.useState(!1),[F,te]=g.useState(1),[N,q]=g.useState({customer_id:"",customer_name:"",delivery_date:"",notes:"",order_number:"",currency:"TRY",status:"pending",tax_rate:20}),[J,ie]=g.useState([Ae()]),de=g.useCallback(()=>{const h=new Date().toISOString().split("T")[0].replace(/-/g,""),w=Math.floor(Math.random()*1e4).toString().padStart(4,"0");return`ORD-${h}-${w}`},[]),ce=g.useCallback((c=!1)=>{q(h=>!c&&h.order_number?h:{...h,order_number:de()})},[de]),Me=g.useCallback(()=>{q({customer_id:"",customer_name:"",delivery_date:"",notes:"",order_number:de(),currency:"TRY",status:"pending",tax_rate:20}),ie([Ae()]),v(!1),p(null),M(null),f({})},[de]),Ne=g.useCallback(async()=>{try{const c=await nt();i(c.map(h=>({id:h.id,name:h.name,sku:h.sku,price:h.price,category:h.category})))}catch(c){console.error("Ürünler yüklenemedi:",c),L.error("Ürünler yüklenirken hata oluştu: "+((c==null?void 0:c.message)||"Bilinmeyen hata"))}},[]);g.useEffect(()=>{e&&(Ne(),ce())},[e,Ne,ce]);const ue=g.useCallback(async c=>{k(!0),M(null);try{const h=await rt(c);p(h)}catch(h){console.error("Müşteri bilgisi alınamadı:",h),p(null),M((h==null?void 0:h.message)||"Müşteri bilgileri alınamadı")}finally{k(!1)}},[]);g.useEffect(()=>{if(!N.customer_id){p(null),M(null);return}ue(N.customer_id)},[N.customer_id,ue]);const Y=g.useMemo(()=>J.filter(c=>(c.product_id||c.is_manual&&c.product_name.trim())&&c.quantity>0&&c.unit_price>0),[J]),ee=g.useMemo(()=>Y.reduce((c,h)=>c+h.total,0),[Y]),y=g.useMemo(()=>Y.reduce((c,h)=>c+(h.discount||0),0),[Y]),x=Number(N.tax_rate)||0,K=ee*(x/100),U=ee+K,V=Y.length,me=Y.reduce((c,h)=>c+h.quantity,0),I=_a[N.currency]||"₺",Ra=s||!N.customer_id||!N.order_number||Y.length===0,Ea=()=>{ie(c=>[...c,Ae()])},Ya=g.useCallback(c=>c?l.filter(h=>h.category===c):l,[l]),Aa=c=>{ie(h=>h.length===1?h:h.filter((w,$)=>$!==c))},G=(c,h,w)=>{ie($=>{const O=[...$],C={...O[c]};if(h==="product_id")if(w===Wa)C.is_manual=!0,C.product_id=null,C.product_name="",C.unit_price=0;else if(w){const P=l.find(Ga=>Ga.id===w);C.is_manual=!1,C.product_id=w,C.product_name=(P==null?void 0:P.name)||"",P!=null&&P.price?(C.unit_price=P.price,L.success(`Ürün fiyatı otomatik olarak eklendi: ${P.price.toFixed(2)} ${I}`)):L.info("Bu ürün için fiyat tanımlı değil, lütfen manuel olarak girin"),C.category=(P==null?void 0:P.category)||C.category}else C.is_manual=!1,C.product_id=null,C.product_name="",C.unit_price=0;else if(h==="quantity"){const P=parseInt(String(w));C[h]=Number.isFinite(P)&&P>0?P:0}else if(h==="unit_price"||h==="discount"){const P=Number(w);C[h]=Number.isFinite(P)?P:0}else C[h]=w;const fe=C.quantity||0,Ua=C.unit_price||0,Va=C.discount||0;return C.total=Math.max(fe*Ua-Va,0),O[c]=C,O})},Ba=async c=>{const h=J[c];if(!h.product_name.trim()||!h.unit_price||h.unit_price<=0){L.error("Manuel ürün için ad ve birim fiyat zorunludur");return}if(!(r!=null&&r.id)){L.error("Oturumunuz sona erdi. Lütfen tekrar giriş yapın.");return}f(w=>({...w,[c]:!0}));try{const w=h.product_name.toUpperCase().replace(/[^A-Z0-9]/g,"").substring(0,10);let $=w,O=1;for(;l.some(fe=>fe.sku===$);)$=`${w}${O}`,O+=1;const C=await pt({name:h.product_name.trim(),sku:$,price:h.unit_price,description:"Sipariş panelinden eklenen ürün",stock:0,unit:"Adet",category:h.category||null,minStock:0,createdBy:r.id});i(fe=>[...fe,{id:C.id,name:C.name,sku:C.sku,price:C.price,category:C.category}]),G(c,"product_id",C.id),L.success("Ürün kayıtlı ürünlere eklendi")}catch(w){console.error("Manuel ürün kaydedilemedi:",w),L.error("Ürün kaydedilemedi: "+((w==null?void 0:w.message)||"Bilinmeyen hata"))}finally{f(w=>({...w,[c]:!1}))}},za=(c,h)=>{q(w=>({...w,customer_id:c,customer_name:h})),p(null),M(null)},Ha=()=>{N.customer_id&&ue(N.customer_id)},qa=()=>{ce(!0),v(!1),L.success("Yeni sipariş numarası oluşturuldu")},Ka=async()=>{if(!N.order_number){v(!0),L.error("Lütfen sipariş numarası girin");return}if(!N.customer_id){L.error("Lütfen müşteri seçin");return}if(Y.length===0){L.error("Lütfen en az bir geçerli ürün ekleyin");return}if(!(r!=null&&r.id)){L.error("Oturumunuz sona erdi. Lütfen tekrar giriş yapın.");return}o(!0);try{const c=N.delivery_date?oa.fromDate(new Date(N.delivery_date)):null,h=oa.now(),w=N.status||"pending",$=Y.map(O=>({productId:O.product_id||null,product_id:O.product_id||null,productName:O.product_name||null,product_name:O.product_name||null,quantity:O.quantity,unitPrice:O.unit_price||0,unit_price:O.unit_price||0,discount:O.discount||0,total:O.total,category:O.category||null}));await yt({orderNumber:N.order_number,order_number:N.order_number,customerId:N.customer_id,customer_id:N.customer_id,customerName:N.customer_name||(m==null?void 0:m.name)||null,customer_name:N.customer_name||(m==null?void 0:m.name)||null,customerCompany:(m==null?void 0:m.company)||null,customer_company:(m==null?void 0:m.company)||null,customerEmail:(m==null?void 0:m.email)||null,customer_email:(m==null?void 0:m.email)||null,customerPhone:(m==null?void 0:m.phone)||null,customer_phone:(m==null?void 0:m.phone)||null,status:w,subtotal:ee,discountTotal:y,taxAmount:K,totalAmount:U,total_amount:U,itemsCount:V,items_count:V,totalQuantity:me,total_quantity:me,currency:N.currency,taxRate:x,tax_rate:x,orderDate:h,order_date:new Date().toISOString().split("T")[0],deliveryDate:c,delivery_date:N.delivery_date||null,notes:N.notes||null,createdBy:r.id,created_by:r.id},$),L.success("Sipariş başarıyla oluşturuldu"),t(),Me(),n(!1)}catch(c){console.error("Create order error:",c),L.error((c==null?void 0:c.message)||"Sipariş oluşturulurken bir hata oluştu")}finally{o(!1)}};return a.jsxs(a.Fragment,{children:[a.jsx(st,{open:e,onOpenChange:n,children:a.jsx(ot,{className:"!max-w-[100vw] sm:!max-w-[95vw] lg:!max-w-[90vw] xl:!max-w-[1400px] !w-[100vw] sm:!w-[95vw] lg:!w-[90vw] xl:!w-[1400px] !h-[100vh] sm:!h-[90vh] !max-h-[100vh] sm:!max-h-[90vh] !left-0 sm:!left-[50%] !top-0 sm:!top-[50%] !right-0 sm:!right-auto !bottom-0 sm:!bottom-auto !translate-x-0 sm:!translate-x-[-50%] !translate-y-0 sm:!translate-y-[-50%] overflow-hidden !p-0 gap-0 bg-white flex flex-col !m-0 !rounded-none sm:!rounded-lg !border-0 sm:!border",children:a.jsxs("div",{className:"flex flex-col h-full min-h-0",children:[a.jsx(lt,{className:"p-3 sm:p-4 pr-12 sm:pr-14 md:pr-16 border-b bg-white flex-shrink-0 relative",children:a.jsxs("div",{className:"flex items-center justify-between gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 flex-1 min-w-0",children:[a.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 rounded-lg bg-primary/10 flex items-center justify-center border border-primary/20 flex-shrink-0",children:a.jsx(Pe,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"})}),a.jsx(it,{className:"text-lg sm:text-xl font-semibold text-foreground truncate",children:"Yeni Satış Siparişi"})]}),a.jsxs(Oe,{variant:"outline",className:"text-xs px-2 sm:px-3 py-1 flex-shrink-0",children:["Adım ",F,"/3"]})]})}),a.jsx("div",{className:"flex-1 overflow-hidden bg-gray-50/50 p-3 sm:p-6 min-h-0",children:a.jsxs("div",{className:"max-w-full mx-auto h-full overflow-y-auto",children:[F===1&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4 sm:gap-6 h-full",children:[a.jsxs("div",{className:"col-span-1 lg:col-span-8 space-y-4 sm:space-y-6 flex flex-col",children:[a.jsxs(ne,{className:"rounded-xl shadow-lg border bg-white flex-1 flex flex-col min-h-0",children:[a.jsx(re,{className:"p-4 sm:p-6 border-b flex-shrink-0",children:a.jsxs(se,{className:"text-base sm:text-lg font-semibold flex items-center gap-2",children:[a.jsx(_e,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"}),"Sipariş Bilgileri"]})}),a.jsxs(oe,{className:"p-3 sm:p-6 space-y-3 sm:space-y-4 flex-1 overflow-y-auto",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(A,{className:"text-sm font-medium",showRequired:!0,children:"Sipariş Numarası"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(he,{value:N.order_number,onChange:c=>{v(!0),q(h=>({...h,order_number:c.target.value}))},placeholder:"ORD-20240101-0001",className:le("h-10 transition-all",!N.order_number&&u&&"border-destructive"),required:!0}),a.jsx(B,{type:"button",variant:"outline",size:"icon",onClick:qa,title:"Numarayı yenile",className:"h-10 w-10 hover:bg-primary/5 transition-colors",children:a.jsx(ma,{className:"h-4 w-4"})})]}),!N.order_number&&u&&a.jsx("p",{className:"text-xs text-destructive",children:"Sipariş numarası gereklidir"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(A,{className:"text-sm font-medium",showRequired:!0,children:"Müşteri"}),a.jsx(gt,{value:N.customer_id,onChange:za,placeholder:"Müşteri seçin veya ekleyin"}),!N.customer_id&&a.jsx("p",{className:"text-xs text-muted-foreground",children:"Lütfen siparişi ilişkilendireceğiniz müşteriyi seçin"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(A,{className:"text-sm font-medium",children:"Teslimat Tarihi"}),a.jsxs(ya,{children:[a.jsx(ga,{asChild:!0,children:a.jsxs(B,{variant:"outline",className:le("w-full justify-start text-left font-normal h-10 transition-all",!N.delivery_date&&"text-muted-foreground"),children:[a.jsx(Za,{className:"mr-2 h-4 w-4"}),N.delivery_date?ae(new Date(N.delivery_date),"d MMMM yyyy",{locale:dt}):"Tarih seçin"]})}),a.jsx(ba,{className:"w-auto p-0",align:"start",children:a.jsx(Ta,{mode:"single",selected:N.delivery_date?new Date(N.delivery_date):void 0,onSelect:c=>q(h=>({...h,delivery_date:c?c.toISOString().split("T")[0]:""})),initialFocus:!0})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(A,{className:"text-sm font-medium",children:"Para Birimi"}),a.jsxs(ta,{value:N.currency,onValueChange:c=>q(h=>({...h,currency:c})),children:[a.jsx(na,{className:"h-10",children:a.jsx(ra,{})}),a.jsx(sa,{children:kt.map(c=>a.jsx(De,{value:c.value,children:c.label},c.value))})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(A,{className:"text-sm font-medium",children:"Notlar"}),a.jsx(ct,{value:N.notes,onChange:c=>q(h=>({...h,notes:c.target.value})),rows:3,placeholder:"Sipariş ile ilgili notlarınızı buraya yazabilirsiniz...",className:"resize-none transition-all"})]})]})]}),m&&a.jsxs(ne,{className:"rounded-xl shadow-lg border bg-white",children:[a.jsx(re,{className:"p-2 border-b",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(se,{className:"text-base font-semibold flex items-center gap-2",children:[a.jsx(Qa,{className:"h-4 w-4 text-primary"}),"Müşteri Özeti"]}),a.jsxs(B,{type:"button",variant:"outline",size:"sm",className:"gap-2 h-8 hover:bg-primary/5 transition-colors",onClick:()=>X(!0),children:[a.jsx(St,{className:"h-3 w-3"}),"Düzenle"]})]})}),a.jsx(oe,{className:"p-6",children:j?a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground py-8 justify-center",children:[a.jsx(Se,{className:"h-4 w-4 animate-spin"}),"Müşteri bilgileri yükleniyor..."]}):m?a.jsxs("div",{className:"grid gap-3 sm:gap-4 text-sm sm:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Müşteri"}),a.jsx("p",{className:"font-medium",children:m.name})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Şirket"}),a.jsx("p",{className:"font-medium",children:m.company||"—"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"E-posta"}),a.jsx("p",{className:"font-medium",children:m.email||"—"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Telefon"}),a.jsx("p",{className:"font-medium",children:m.phone||"—"})]}),m.address&&a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Adres"}),a.jsx("p",{className:"font-medium",children:m.address})]})]}):_?a.jsx("p",{className:"text-sm text-destructive py-4",children:_}):null})]})]}),a.jsx("div",{className:"col-span-12 lg:col-span-4",children:a.jsx("div",{className:"w-full lg:w-96 lg:sticky lg:top-6 h-full",children:a.jsxs(ne,{className:"rounded-xl shadow-lg border bg-white h-full flex flex-col",children:[a.jsx(re,{className:"p-6 border-b flex-shrink-0",children:a.jsxs(se,{className:"text-lg font-semibold flex items-center gap-2",children:[a.jsx(Ie,{className:"h-5 w-5 text-primary"}),"Özet"]})}),a.jsxs(oe,{className:"p-6 space-y-4 flex-1 overflow-y-auto",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Ara Toplam:"}),a.jsxs("span",{className:"font-medium",children:[I,ee.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsxs("span",{className:"text-muted-foreground",children:["KDV (",x,"%):"]}),a.jsxs("span",{className:"font-medium",children:[I,K.toFixed(2)]})]}),a.jsx(Le,{}),a.jsxs("div",{className:"flex justify-between pt-1",children:[a.jsx("span",{className:"font-semibold",children:"Genel Toplam:"}),a.jsxs("span",{className:"font-bold text-lg text-primary",children:[I,U.toFixed(2)]})]})]}),a.jsxs("div",{className:"pt-3 border-t space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[a.jsx("span",{children:"Ürün Sayısı:"}),a.jsx("span",{children:V})]}),a.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[a.jsx("span",{children:"Toplam Miktar:"}),a.jsxs("span",{children:[me," adet"]})]})]})]})]})})})]}),F===2&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4 sm:gap-6 h-full",children:[a.jsx("div",{className:"col-span-1 lg:col-span-8 space-y-4 sm:space-y-6 flex flex-col",children:a.jsxs(ne,{className:"rounded-xl shadow-lg border bg-white flex-1 flex flex-col min-h-0",children:[a.jsxs(re,{className:"p-4 sm:p-6 border-b flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-0 flex-shrink-0",children:[a.jsxs(se,{className:"text-lg font-semibold flex items-center gap-2",children:[a.jsx(Pe,{className:"h-5 w-5 text-primary"}),"Ürünler"]}),a.jsxs(B,{variant:"outline",onClick:Ea,size:"sm",className:"gap-2 h-10 hover:bg-primary/5 transition-colors",children:[a.jsx(ze,{className:"h-4 w-4"}),"Ürün Ekle"]})]}),a.jsx(oe,{className:"p-6 flex-1 overflow-hidden",children:a.jsx(ut,{className:"h-full min-h-[400px] sm:min-h-[500px] pr-4",children:a.jsx("div",{className:"space-y-4",children:J.map((c,h)=>a.jsxs("div",{className:le("p-4 rounded-xl border transition-all hover:shadow-md",c.is_manual&&"border-primary/50 bg-primary/5",!c.is_manual&&c.product_id&&"border-green-500/30 bg-green-50/50",!c.product_id&&!c.is_manual&&"border-gray-200 bg-gray-50/50"),children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-primary/10 text-primary font-bold text-xs",children:h+1}),c.is_manual&&a.jsxs(Oe,{variant:"outline",className:"border-primary/50 text-primary bg-primary/10 text-xs",children:[a.jsx(ze,{className:"h-3 w-3 mr-1"}),"Manuel Ürün"]}),!c.is_manual&&c.product_id&&a.jsxs(Oe,{variant:"outline",className:"border-green-500/50 text-green-700 bg-green-50 text-xs",children:[a.jsx(_e,{className:"h-3 w-3 mr-1"}),"Kayıtlı Ürün"]})]}),J.length>1&&a.jsx(B,{type:"button",variant:"ghost",size:"icon",onClick:()=>Aa(h),className:"h-8 w-8 text-destructive hover:text-destructive hover:bg-destructive/10 transition-colors",title:"Ürünü kaldır",children:a.jsx(Ct,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-12 gap-3 sm:gap-4",children:[a.jsxs("div",{className:"col-span-1 sm:col-span-5 space-y-2",children:[a.jsx(A,{className:"text-sm font-medium",showRequired:!0,children:"Ürün/Hizmet"}),c.is_manual?a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx(he,{placeholder:"Ürün/Hizmet adı girin",value:c.product_name,onChange:w=>G(h,"product_name",w.target.value),required:!0,className:"flex-1 h-10 transition-all"}),a.jsx(B,{type:"button",variant:"outline",size:"icon",onClick:()=>{G(h,"product_id",null),G(h,"product_name","")},className:"h-10 w-10 hover:bg-primary/5 transition-colors",children:a.jsx(ma,{className:"h-4 w-4"})})]}),c.product_name.trim()&&a.jsx(B,{type:"button",variant:"secondary",size:"sm",onClick:()=>Ba(h),disabled:d[h]||!c.product_name.trim()||!c.unit_price||c.unit_price<=0,className:"w-full text-xs h-8 hover:bg-primary/10 transition-colors",children:d[h]?a.jsxs(a.Fragment,{children:[a.jsx(Se,{className:"h-3 w-3 mr-2 animate-spin"}),"Kaydediliyor..."]}):a.jsxs(a.Fragment,{children:[a.jsx(ua,{className:"h-3 w-3 mr-2"}),"Kayıtlı Ürünlere Ekle"]})})]}):a.jsx(gr,{products:Ya(c.category),value:c.product_id,onSelect:w=>G(h,"product_id",w),placeholder:"Ürün seçin veya arayın"})]}),a.jsxs("div",{className:"col-span-1 sm:col-span-2 space-y-2",children:[a.jsx(A,{className:"text-sm font-medium",children:"Kategori"}),a.jsxs(ta,{value:c.category||"none",onValueChange:w=>G(h,"category",w==="none"?void 0:w),children:[a.jsx(na,{className:"h-10 transition-all",children:a.jsx(ra,{placeholder:"Kategori"})}),a.jsxs(sa,{children:[a.jsx(De,{value:"none",children:"Kategori yok"}),yr.map(w=>a.jsx(De,{value:w,children:w},w))]})]})]}),a.jsxs("div",{className:"col-span-1 sm:col-span-1 space-y-2",children:[a.jsx(A,{className:"text-sm font-medium",showRequired:!0,children:"Miktar"}),a.jsx(he,{type:"number",min:"1",step:"1",placeholder:"1",value:c.quantity||"",onChange:w=>G(h,"quantity",parseInt(w.target.value)||0),required:!0,className:"h-10 transition-all"})]}),a.jsxs("div",{className:"col-span-1 sm:col-span-2 space-y-2",children:[a.jsx(A,{className:"text-sm font-medium",showRequired:!0,children:"Birim Fiyat"}),a.jsx(he,{type:"number",step:"0.01",min:"0",placeholder:"0.00",value:c.unit_price||"",onChange:w=>G(h,"unit_price",parseFloat(w.target.value)||0),required:!0,className:"h-10 transition-all"})]}),a.jsxs("div",{className:"col-span-1 sm:col-span-2 space-y-2",children:[a.jsx(A,{className:"text-sm font-medium",children:"İndirim"}),a.jsx(he,{type:"number",step:"0.01",min:"0",placeholder:"0.00",value:c.discount||"",onChange:w=>G(h,"discount",parseFloat(w.target.value)||0),className:"h-10 transition-all"})]})]}),a.jsxs("div",{className:"mt-4 pt-4 border-t flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center gap-2",children:!c.product_id&&!c.is_manual&&a.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[a.jsx(_e,{className:"h-3 w-3"}),"Lütfen bir ürün seçin veya manuel ürün ekleyin"]})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs text-muted-foreground",children:"Toplam:"}),a.jsxs("span",{className:"text-lg font-bold text-primary",children:[I,(c.total||0).toFixed(2)]})]})]})]},h))})})})]})}),a.jsx("div",{className:"col-span-12 lg:col-span-4",children:a.jsx("div",{className:"w-full lg:w-96 lg:sticky lg:top-6 h-full",children:a.jsxs(ne,{className:"rounded-xl shadow-lg border bg-white h-full flex flex-col",children:[a.jsx(re,{className:"p-6 border-b flex-shrink-0",children:a.jsxs(se,{className:"text-lg font-semibold flex items-center gap-2",children:[a.jsx(Ie,{className:"h-5 w-5 text-primary"}),"Özet"]})}),a.jsxs(oe,{className:"p-6 space-y-4 flex-1 overflow-y-auto",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Ara Toplam:"}),a.jsxs("span",{className:"font-medium",children:[I,ee.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsxs("span",{className:"text-muted-foreground",children:["KDV (",x,"%):"]}),a.jsxs("span",{className:"font-medium",children:[I,K.toFixed(2)]})]}),a.jsx(Le,{}),a.jsxs("div",{className:"flex justify-between pt-1",children:[a.jsx("span",{className:"font-semibold",children:"Genel Toplam:"}),a.jsxs("span",{className:"font-bold text-lg text-primary",children:[I,U.toFixed(2)]})]})]}),a.jsxs("div",{className:"pt-3 border-t space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[a.jsx("span",{children:"Ürün Sayısı:"}),a.jsx("span",{children:V})]}),a.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[a.jsx("span",{children:"Toplam Miktar:"}),a.jsxs("span",{children:[me," adet"]})]})]})]})]})})})]}),F===3&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-3 sm:gap-4 h-full",children:[a.jsx("div",{className:"col-span-1 lg:col-span-8 space-y-3 sm:space-y-4 flex flex-col",children:a.jsxs(ne,{className:"rounded-xl shadow-lg border bg-white flex-1 flex flex-col min-h-0",children:[a.jsx(re,{className:"p-4 sm:p-6 border-b flex-shrink-0",children:a.jsxs(se,{className:"text-base font-semibold flex items-center gap-2",children:[a.jsx(Pe,{className:"h-4 w-4 text-primary"}),"Sipariş Özeti"]})}),a.jsxs(oe,{className:"p-4 sm:p-6 space-y-3 sm:space-y-4 flex-1 overflow-y-auto",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[a.jsxs("div",{className:"p-4 rounded-xl bg-blue-50/50 border border-blue-100",children:[a.jsx(A,{className:"text-xs text-muted-foreground mb-1",children:"Müşteri"}),a.jsx("p",{className:"font-semibold text-base",children:N.customer_name||"-"})]}),a.jsxs("div",{className:"p-4 rounded-xl bg-purple-50/50 border border-purple-100",children:[a.jsx(A,{className:"text-xs text-muted-foreground mb-1",children:"Sipariş No"}),a.jsx("p",{className:"font-semibold text-base font-mono",children:N.order_number||"-"})]})]}),a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[a.jsx(_e,{className:"h-4 w-4 text-primary"}),"Ürün Listesi"]}),a.jsx("div",{className:"space-y-2 max-h-[300px] overflow-y-auto",children:Y.map((c,h)=>a.jsxs("div",{className:"flex justify-between items-center p-3 rounded-xl border bg-muted/30 hover:bg-muted/50 transition-colors",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium truncate",children:c.product_name||"Ürün"}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[c.quantity," adet × ",I,(c.unit_price||0).toFixed(2),c.discount>0&&` - İndirim: ${I}${(c.discount||0).toFixed(2)}`]})]}),a.jsxs("p",{className:"font-bold text-primary ml-4",children:[I,(c.total||0).toFixed(2)]})]},h))})]})]})]})}),a.jsx("div",{className:"col-span-1 lg:col-span-4",children:a.jsx("div",{className:"w-full lg:w-80 lg:sticky lg:top-3 h-full",children:a.jsxs(ne,{className:"rounded-xl shadow-lg border bg-white h-full flex flex-col",children:[a.jsx(re,{className:"p-4 sm:p-6 border-b flex-shrink-0",children:a.jsxs(se,{className:"text-base sm:text-lg font-semibold flex items-center gap-2",children:[a.jsx(Ie,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"}),"Fiyat Özeti"]})}),a.jsxs(oe,{className:"p-4 sm:p-6 space-y-3 sm:space-y-4 flex-1 overflow-y-auto",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Ara Toplam:"}),a.jsxs("span",{className:"font-medium",children:[I,ee.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsxs("span",{className:"text-muted-foreground",children:["KDV (",x,"%):"]}),a.jsxs("span",{className:"font-medium",children:[I,K.toFixed(2)]})]}),a.jsx(Le,{}),a.jsxs("div",{className:"flex justify-between pt-1",children:[a.jsx("span",{className:"font-semibold",children:"Genel Toplam:"}),a.jsxs("span",{className:"font-bold text-lg text-primary",children:[I,U.toFixed(2)]})]})]}),a.jsxs("div",{className:"pt-3 border-t space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[a.jsx("span",{children:"Ürün Sayısı:"}),a.jsx("span",{children:V})]}),a.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[a.jsx("span",{children:"Toplam Miktar:"}),a.jsxs("span",{children:[me," adet"]})]})]})]})]})})})]})]})}),a.jsxs("div",{className:"p-4 sm:p-6 border-t bg-white flex flex-col sm:flex-row items-stretch sm:items-center justify-between gap-3 sm:gap-0 flex-shrink-0",children:[F>1&&a.jsxs(B,{variant:"outline",onClick:()=>te(F-1),className:"gap-2 h-11 sm:h-10 hover:bg-primary/5 transition-colors w-full sm:w-auto order-2 sm:order-1",children:[a.jsx(Xa,{className:"h-4 w-4"})," Geri"]}),F<3?a.jsx("div",{className:le("flex-1 flex justify-end",F>1?"order-1 sm:order-2":"order-1"),children:a.jsxs(B,{onClick:()=>{if(F===1){if(!N.customer_id){L.error("Lütfen müşteri seçin");return}if(!N.order_number){v(!0),L.error("Lütfen sipariş numarası girin");return}te(2)}else if(F===2){if(J.filter(h=>(h.product_id||h.is_manual&&h.product_name.trim())&&h.quantity>0&&h.unit_price>0).length===0){L.error("Lütfen en az bir geçerli ürün ekleyin");return}te(3)}},className:"gap-2 h-11 sm:h-10 bg-primary hover:bg-primary/90 text-white transition-colors w-full sm:w-auto",children:["İleri ",a.jsx(Mt,{className:"h-4 w-4"})]})}):a.jsx(B,{onClick:Ka,disabled:s||Ra,className:"gap-2 h-11 sm:h-10 bg-primary hover:bg-primary/90 text-white transition-colors disabled:opacity-50 disabled:cursor-not-allowed w-full sm:w-auto order-1",children:s?a.jsxs(a.Fragment,{children:[a.jsx(Se,{className:"h-4 w-4 animate-spin"}),"Oluşturuluyor..."]}):a.jsxs(a.Fragment,{children:[a.jsx(ua,{className:"h-4 w-4"}),"Siparişi Oluştur"]})})]})]})})}),m&&a.jsx(wt,{open:S,onOpenChange:X,customer:m,onUpdate:Ha})]})};export{Ie as C,St as P,Tr as a};
