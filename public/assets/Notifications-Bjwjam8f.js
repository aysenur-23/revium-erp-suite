var we=Object.defineProperty,Ne=Object.defineProperties;var ye=Object.getOwnPropertyDescriptors;var ee=Object.getOwnPropertySymbols;var Re=Object.prototype.hasOwnProperty,_e=Object.prototype.propertyIsEnumerable;var ae=(r,t,d)=>t in r?we(r,t,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[t]=d,c=(r,t)=>{for(var d in t||(t={}))Re.call(t,d)&&ae(r,d,t[d]);if(ee)for(var d of ee(t))_e.call(t,d)&&ae(r,d,t[d]);return r},o=(r,t)=>Ne(r,ye(t));var w=(r,t,d)=>new Promise((g,G)=>{var I=p=>{try{R(d.next(p))}catch(_){G(_)}},N=p=>{try{R(d.throw(p))}catch(_){G(_)}},R=p=>p.done?g(p.value):Promise.resolve(p.value).then(I,N);R((d=d.apply(r,t)).next())});import{u as Ce,h as Ie,j as e,B as x,C as D,b as O,S as se,c as re,d as te,e as de,f as j,L as q,a as h}from"./index-BQmY0BmM.js";import{r as u,a5 as V,X as Ae,a6 as le,h as Ge,i as B,B as E,o as Te,j as Se,a7 as ze,y as De}from"./lucide-react-CAeuRJQk.js";import{M as Oe,B as Be,I as Ee,D as H,a as K,b as X,c as Y,e as Q,T as U,t as Pe}from"./MainLayout-Dv9j77B5.js";import{O as Me,P as $e,Q as Le,t as Fe,R as C,r as qe,p as Ve,q as He,x as Ke,y as Xe}from"./taskService-CI62TrOj.js";const Ye=r=>{const t=r.metadata;if(t&&typeof t=="object"&&"assignment_id"in t){const d=t.assignment_id;if(typeof d=="string")return d}if(r.type==="task_assigned"&&typeof r.relatedId=="string")return r.relatedId},ie=r=>{const t=r.metadata;if(t&&typeof t=="object"&&"action"in t){const d=t.action;return typeof d=="string"&&(d==="accepted"||d==="rejected"||d==="rejection_approved"||d==="rejection_rejected")}return!1},me=r=>{const t=r.metadata;return t&&typeof t=="object"&&"action"in t?t.action==="rejection_pending_approval":!1},Qe=r=>{const t=r.metadata;if(t&&typeof t=="object"&&"action"in t){const d=t.action,g="assigned_user_id"in t;return d==="rejected"&&g}return!1},Ue=r=>o(c({},r),{assignmentId:Ye(r)}),ne=r=>r.type==="task_assigned"&&!!r.assignmentId&&!ie(r)&&!me(r),Je=r=>r.type==="task_approval"&&!!r.relatedId&&!ie(r);function ta(){const{user:r}=Ce(),t=Ie(),[d,g]=u.useState([]),[G,I]=u.useState(!0),[N,R]=u.useState("all"),[p,_]=u.useState("all"),[i,v]=u.useState(!1),[ce,T]=u.useState(!1),[k,P]=u.useState(""),[n,b]=u.useState(null),[oe,A]=u.useState(!1),[f,M]=u.useState(""),[xe,S]=u.useState(!1),[z,$]=u.useState("");u.useEffect(()=>{if(!(r!=null&&r.id))return;I(!0);const a=Me(r.id,{},s=>{try{g(s.map(Ue)),I(!1)}catch(l){console.error("Real-time notifications update error:",l),I(!1)}});return()=>{a()}},[r]);const J=u.useMemo(()=>d.filter(a=>!(N!=="all"&&a.type!==N||p==="read"&&!a.read||p==="unread"&&a.read)),[d,N,p]),he=a=>w(this,null,function*(){try{yield $e(a),g(s=>s.map(l=>l.id===a?o(c({},l),{read:!0}):l))}catch(s){console.error("Bildirim güncellenirken hata:",s),h.error("Bildirim güncellenemedi")}}),pe=()=>w(this,null,function*(){if(r!=null&&r.id)try{yield Le(r.id),g(a=>a.map(s=>o(c({},s),{read:!0}))),h.success("Tüm bildirimler okundu olarak işaretlendi")}catch(a){const s=a instanceof Error?a.message:"Bilinmeyen hata";h.error("Bildirimler güncellenirken hata: "+s)}}),ue=a=>{const s="h-5 w-5";switch(a){case"task_assigned":return e.jsx(De,{className:s});case"task_updated":return e.jsx(le,{className:s});case"task_completed":return e.jsx(ze,{className:s});case"task_approval":return e.jsx(Se,{className:s});case"order_created":return e.jsx(Te,{className:s});default:return e.jsx(V,{className:s})}},ge=(a,s)=>{if(s)return"bg-slate-50 dark:bg-slate-900/50";switch(a){case"task_assigned":return"bg-emerald-50 dark:bg-emerald-950/30 border-l-4 border-emerald-500";case"task_updated":return"bg-blue-50 dark:bg-blue-950/30 border-l-4 border-blue-500";case"task_completed":return"bg-green-50 dark:bg-green-950/30 border-l-4 border-green-500";case"task_approval":return"bg-amber-50 dark:bg-amber-950/30 border-l-4 border-amber-500";default:return"bg-slate-50 dark:bg-slate-900/50 border-l-4 border-slate-400"}},ve=a=>w(this,null,function*(){if(!a.assignmentId||!a.relatedId){h.error("Görev bilgisi eksik. Lütfen bildirimi yenileyin.");return}v(!0);try{yield Fe(a.relatedId,a.assignmentId);const s=o(c({},a.metadata),{action:"accepted"});yield C(a.id,{metadata:s,read:!0}),g(l=>l.map(m=>m.id===a.id?o(c({},m),{read:!0,metadata:s}):m)),h.success("Görev kabul edildi")}catch(s){const l=s instanceof Error?s.message:"Görev kabul edilemedi";h.error("Görev kabul edilemedi: "+l)}finally{v(!1)}}),je=()=>w(this,null,function*(){if(!(!(n!=null&&n.assignmentId)||!(n!=null&&n.relatedId)||k.trim().length<20)){v(!0);try{yield qe(n.relatedId,n.assignmentId,k.trim());const a=o(c({},n.metadata),{action:"rejected"});yield C(n.id,{metadata:a,read:!0}),g(s=>s.map(l=>l.id===n.id?o(c({},l),{read:!0,metadata:a}):l)),h.success("Görev reddedildi"),T(!1),P(""),b(null)}catch(a){const s=a instanceof Error?a.message:"Görev reddedilemedi";h.error("Görev reddedilemedi: "+s)}finally{v(!1)}}}),W=a=>w(this,null,function*(){if(!(!a.assignmentId||!a.relatedId)){v(!0);try{yield Ve(a.relatedId,a.assignmentId);const s=o(c({},a.metadata),{action:"rejection_approved"});yield C(a.id,{metadata:s,read:!0}),g(l=>l.map(m=>m.id===a.id?o(c({},m),{read:!0,metadata:s}):m)),h.success("Görev reddi onaylandı")}catch(s){const l=s instanceof Error?s.message:"Red onaylanamadı";h.error("Red onaylanamadı: "+l)}finally{v(!1)}}}),be=()=>w(this,null,function*(){if(!(!(n!=null&&n.assignmentId)||!(n!=null&&n.relatedId)||f.trim().length<20)){v(!0);try{yield He(n.relatedId,n.assignmentId,f.trim());const a=o(c({},n.metadata),{action:"rejection_rejected"});yield C(n.id,{metadata:a,read:!0}),g(s=>s.map(l=>l.id===n.id?o(c({},l),{read:!0,metadata:a}):l)),h.success("Görev reddi reddedildi"),A(!1),M(""),b(null)}catch(a){const s=a instanceof Error?a.message:"Red reddedilemedi";h.error("Red reddedilemedi: "+s)}finally{v(!1)}}}),ke=a=>w(this,null,function*(){if(!(!a.relatedId||!(r!=null&&r.id))){v(!0);try{yield Ke(a.relatedId,r.id);const s=o(c({},a.metadata),{action:"approved"});yield C(a.id,{metadata:s,read:!0}),g(l=>l.map(m=>m.id===a.id?o(c({},m),{read:!0,metadata:s}):m)),h.success("Görev onaylandı")}catch(s){const l=s instanceof Error?s.message:"Görev onaylanamadı";h.error("Görev onaylanamadı: "+l)}finally{v(!1)}}}),fe=()=>w(this,null,function*(){if(!(!(n!=null&&n.relatedId)||!(r!=null&&r.id)||!z.trim())){v(!0);try{yield Xe(n.relatedId,r.id,z.trim());const a=o(c({},n.metadata),{action:"rejected"});yield C(n.id,{metadata:a,read:!0}),g(s=>s.map(l=>l.id===n.id?o(c({},l),{read:!0,metadata:a}):l)),h.success("Görev onayı reddedildi"),S(!1),$(""),b(null)}catch(a){const s=a instanceof Error?a.message:"Görev onayı reddedilemedi";h.error("Görev onayı reddedilemedi: "+s)}finally{v(!1)}}}),L=d.filter(a=>!a.read).length;return e.jsxs(Oe,{children:[e.jsxs("div",{className:"container mx-auto px-3 sm:px-4 py-4 sm:py-6 max-w-6xl",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4 mb-4 sm:mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx(V,{className:"h-5 w-5 sm:h-6 sm:w-6 text-primary flex-shrink-0"}),e.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold",children:"Bildirimler"}),L>0&&e.jsxs(Be,{variant:"destructive",className:"h-5 sm:h-6 px-2 text-xs sm:text-sm",children:[L," okunmamış"]})]}),L>0&&e.jsxs(x,{variant:"outline",size:"sm",className:"w-full sm:w-auto min-h-[44px] sm:min-h-10 text-xs sm:text-sm",onClick:pe,disabled:i,children:[e.jsx("span",{className:"hidden sm:inline",children:"Tümünü okundu işaretle"}),e.jsx("span",{className:"sm:hidden",children:"Tümünü okundu"})]})]}),e.jsx(D,{children:e.jsx(O,{className:"p-3 sm:p-4 md:p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:gap-3 md:gap-4",children:[e.jsxs(se,{value:N,onValueChange:R,children:[e.jsx(re,{className:"w-full sm:w-[160px] md:w-[180px] h-9 sm:h-10 min-h-[44px] sm:min-h-0 text-xs sm:text-sm",children:e.jsx(te,{placeholder:"Bildirim Tipi"})}),e.jsxs(de,{children:[e.jsx(j,{value:"all",children:"Tüm Tipler"}),e.jsx(j,{value:"task_assigned",children:"Görev Atandı"}),e.jsx(j,{value:"task_updated",children:"Görev Güncellendi"}),e.jsx(j,{value:"task_completed",children:"Görev Tamamlandı"}),e.jsx(j,{value:"task_approval",children:"Görev Onayı"}),e.jsx(j,{value:"order_created",children:"Sipariş Oluşturuldu"}),e.jsx(j,{value:"order_updated",children:"Sipariş Güncellendi"}),e.jsx(j,{value:"system",children:"Sistem"})]})]}),e.jsxs(se,{value:p,onValueChange:_,children:[e.jsx(re,{className:"w-full sm:w-[160px] md:w-[180px] h-9 sm:h-10 min-h-[44px] sm:min-h-0 text-xs sm:text-sm",children:e.jsx(te,{placeholder:"Okunma Durumu"})}),e.jsxs(de,{children:[e.jsx(j,{value:"all",children:"Tümü"}),e.jsx(j,{value:"unread",children:"Okunmamış"}),e.jsx(j,{value:"read",children:"Okunmuş"})]})]}),(N!=="all"||p!=="all")&&e.jsxs(x,{variant:"outline",size:"sm",onClick:()=>{R("all"),_("all")},className:"h-9 sm:h-10 min-h-[44px] sm:min-h-0 text-xs sm:text-sm",children:[e.jsx(Ae,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 sm:mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Temizle"})]})]})})}),G?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(le,{className:"h-8 w-8 animate-spin text-primary"})}):J.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4 bg-card border rounded-lg",children:[e.jsx(V,{className:"h-16 w-16 text-muted-foreground/40 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-muted-foreground",children:"Bildirim bulunamadı"}),e.jsx("p",{className:"text-sm text-muted-foreground/70 mt-2",children:N!=="all"||p!=="all"?"Filtreleri değiştirerek tekrar deneyin":"Henüz bildirim yok"})]}):e.jsx("div",{className:"space-y-3",children:J.map(a=>e.jsxs("div",{className:`group relative rounded-lg transition-all duration-200 hover:shadow-md ${ge(a.type,a.read)} ${a.read?"":"shadow-sm"}`,children:[e.jsx("div",{className:"p-5 cursor-pointer",onClick:s=>{s.preventDefault(),!ne(a)&&(a.read||he(a.id),a.relatedId&&(["task_assigned","task_updated","task_completed","task_created","task_approval"].includes(a.type)?t(`/tasks?taskId=${a.relatedId}&view=list`):["order_created","order_updated"].includes(a.type)?t("/orders"):a.type==="role_changed"&&t("/admin")))},children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`flex-shrink-0 mt-0.5 p-2.5 rounded-lg ${a.read?"bg-slate-100 dark:bg-slate-800 text-slate-500 dark:text-slate-400":a.type==="task_assigned"?"bg-emerald-100 dark:bg-emerald-900/50 text-emerald-600 dark:text-emerald-400":a.type==="task_updated"?"bg-blue-100 dark:bg-blue-900/50 text-blue-600 dark:text-blue-400":a.type==="task_completed"?"bg-green-100 dark:bg-green-900/50 text-green-600 dark:text-green-400":a.type==="task_approval"?"bg-amber-100 dark:bg-amber-900/50 text-amber-600 dark:text-amber-400":"bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-400"}`,children:ue(a.type)}),e.jsxs("div",{className:"flex-1 min-w-0 space-y-2",children:[e.jsx("div",{className:"flex items-start justify-between gap-2",children:e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:`text-base font-semibold leading-tight ${a.read?"text-slate-700 dark:text-slate-300":"text-slate-900 dark:text-slate-100"}`,children:a.title}),!a.read&&e.jsx("div",{className:"h-2 w-2 rounded-full bg-primary flex-shrink-0 mt-1 animate-pulse"})]})})}),a.message&&e.jsx("p",{className:`text-sm leading-relaxed ${a.read?"text-slate-600 dark:text-slate-400":"text-slate-700 dark:text-slate-300"}`,children:(()=>{let s=a.message;const l=/column_\d+/g,m={pending:"Beklemede",in_progress:"Devam Ediyor",completed:"Tamamlandı",cancelled:"İptal Edildi"};return s=s.replace(l,We=>{if(a.metadata){const y=a.metadata,F=y.newStatus||y.status||y.new_status;if(F&&m[F])return m[F];if(typeof y=="object"){for(const Z in y)if(m[y[Z]])return m[y[Z]]}}return"Yeni Durum"}),s})()}),e.jsxs("div",{className:"flex items-center gap-2 pt-1",children:[e.jsx(Ge,{className:"h-4 w-4 text-slate-400 dark:text-slate-500"}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 font-medium",children:a.createdAt?Ee(a.createdAt.toDate(),{addSuffix:!0,locale:Pe}):"Yakın zamanda"})]})]})]})}),ne(a)&&e.jsx("div",{className:"px-5 pb-5 pt-3 border-t border-slate-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(x,{size:"sm",className:"flex-1 h-9 bg-emerald-600 hover:bg-emerald-700 text-white font-medium shadow-sm",onClick:s=>{s.stopPropagation(),ve(a)},disabled:i,children:[e.jsx(B,{className:"h-4 w-4 mr-1.5"}),"Kabul Et"]}),e.jsxs(x,{size:"sm",variant:"outline",className:"flex-1 h-9 border-red-300 dark:border-red-800 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-950/30 font-medium",onClick:s=>{s.stopPropagation(),b(a),T(!0)},disabled:i,children:[e.jsx(E,{className:"h-4 w-4 mr-1.5"}),"Reddet"]})]})}),me(a)&&a.assignmentId&&e.jsx("div",{className:"px-5 pb-5 pt-3 border-t border-slate-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(x,{size:"sm",className:"flex-1 h-9 bg-emerald-600 hover:bg-emerald-700 text-white font-medium shadow-sm",onClick:s=>{s.stopPropagation(),W(a)},disabled:i,children:[e.jsx(B,{className:"h-4 w-4 mr-1.5"}),"Reddi Onayla"]}),e.jsxs(x,{size:"sm",variant:"outline",className:"flex-1 h-9 border-red-300 dark:border-red-800 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-950/30 font-medium",onClick:s=>{s.stopPropagation(),b(a),A(!0)},disabled:i,children:[e.jsx(E,{className:"h-4 w-4 mr-1.5"}),"Reddi Reddet"]})]})}),Qe(a)&&a.assignmentId&&e.jsx("div",{className:"px-5 pb-5 pt-3 border-t border-slate-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(x,{size:"sm",className:"flex-1 h-9 bg-emerald-600 hover:bg-emerald-700 text-white font-medium shadow-sm",onClick:s=>{s.stopPropagation(),W(a)},disabled:i,children:[e.jsx(B,{className:"h-4 w-4 mr-1.5"}),"Reddi Kabul Et"]}),e.jsxs(x,{size:"sm",variant:"outline",className:"flex-1 h-9 border-red-300 dark:border-red-800 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-950/30 font-medium",onClick:s=>{s.stopPropagation(),b(a),A(!0)},disabled:i,children:[e.jsx(E,{className:"h-4 w-4 mr-1.5"}),"Reddi Reddet"]})]})}),Je(a)&&e.jsx("div",{className:"px-5 pb-5 pt-3 border-t border-slate-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(x,{size:"sm",className:"flex-1 h-9 bg-emerald-600 hover:bg-emerald-700 text-white font-medium shadow-sm",onClick:s=>{s.stopPropagation(),ke(a)},disabled:i,children:[e.jsx(B,{className:"h-4 w-4 mr-1.5"}),"Onayla"]}),e.jsxs(x,{size:"sm",variant:"outline",className:"flex-1 h-9 border-red-300 dark:border-red-800 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-950/30 font-medium",onClick:s=>{s.stopPropagation(),b(a),S(!0)},disabled:i,children:[e.jsx(E,{className:"h-4 w-4 mr-1.5"}),"Reddet"]})]})})]},a.id))})]}),e.jsx(H,{open:ce,onOpenChange:T,children:e.jsx(K,{className:"!max-w-[100vw] sm:!max-w-[95vw] !w-[100vw] sm:!w-[95vw] !h-[100vh] sm:!h-[90vh] !max-h-[100vh] sm:!max-h-[90vh] !left-0 sm:!left-[2.5vw] !top-0 sm:!top-[5vh] !right-0 sm:!right-auto !bottom-0 sm:!bottom-auto !translate-x-0 !translate-y-0 overflow-hidden !p-0 gap-0 bg-white flex flex-col !m-0 !rounded-none sm:!rounded-lg !border-0 sm:!border",children:e.jsxs("div",{className:"flex flex-col h-full min-h-0",children:[e.jsxs(X,{className:"p-4 sm:p-6 border-b bg-white flex-shrink-0 relative pr-12 sm:pr-16",children:[e.jsx(Y,{className:"text-xl sm:text-2xl font-semibold text-foreground",children:"Görevi Reddet"}),e.jsx(Q,{className:"mt-1 text-xs sm:text-sm text-muted-foreground",children:"Görevi reddetmek için lütfen en az 20 karakterlik bir sebep belirtin."})]}),e.jsx("div",{className:"flex-1 overflow-hidden bg-gray-50/50 p-3 sm:p-4 min-h-0",children:e.jsx("div",{className:"max-w-full mx-auto h-full overflow-y-auto",children:e.jsx(D,{children:e.jsx(O,{className:"space-y-4 pt-6",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(q,{htmlFor:"rejection_reason",className:"text-sm sm:text-base",showRequired:!0,children:"Reddetme Sebebi"}),e.jsx(U,{id:"rejection_reason",value:k,onChange:a=>P(a.target.value),placeholder:"Görevi neden reddettiğinizi açıklayın (en az 20 karakter)...",rows:4,className:`min-h-[100px] sm:min-h-[120px] ${k.length>0&&k.length<20?"border-destructive":""}`}),k.length>0&&k.length<20&&e.jsxs("p",{className:"text-xs text-destructive",children:["En az ",20-k.length," karakter daha gerekli"]})]})})})})}),e.jsxs("div",{className:"p-4 sm:p-6 border-t bg-white flex-shrink-0 flex flex-wrap gap-2 justify-end",children:[e.jsx(x,{variant:"outline",onClick:()=>{T(!1),P(""),b(null)},disabled:i,className:"min-h-[44px] sm:min-h-0",children:"İptal"}),e.jsx(x,{variant:"destructive",onClick:je,disabled:i||k.trim().length<20,className:"min-h-[44px] sm:min-h-0",children:i?"Reddediliyor...":"Reddet"})]})]})})}),e.jsx(H,{open:oe,onOpenChange:A,children:e.jsx(K,{className:"!max-w-[100vw] sm:!max-w-[95vw] !w-[100vw] sm:!w-[95vw] !h-[100vh] sm:!h-[90vh] !max-h-[100vh] sm:!max-h-[90vh] !left-0 sm:!left-[2.5vw] !top-0 sm:!top-[5vh] !right-0 sm:!right-auto !bottom-0 sm:!bottom-auto !translate-x-0 !translate-y-0 overflow-hidden !p-0 gap-0 bg-white flex flex-col !m-0 !rounded-none sm:!rounded-lg !border-0 sm:!border",children:e.jsxs("div",{className:"flex flex-col h-full min-h-0",children:[e.jsxs(X,{className:"p-4 sm:p-6 border-b bg-white flex-shrink-0 relative pr-12 sm:pr-16",children:[e.jsx(Y,{className:"text-xl sm:text-2xl font-semibold text-foreground",children:"Görev Reddi Reddet"}),e.jsx(Q,{className:"mt-1 text-xs sm:text-sm text-muted-foreground",children:"Görev reddi reddedildiğinde görev tekrar atanan kişiye döner. Lütfen en az 20 karakterlik bir sebep belirtin."})]}),e.jsx("div",{className:"flex-1 overflow-hidden bg-gray-50/50 p-3 sm:p-4 min-h-0",children:e.jsx("div",{className:"max-w-full mx-auto h-full overflow-y-auto",children:e.jsx(D,{children:e.jsx(O,{className:"space-y-4 pt-6",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(q,{htmlFor:"rejection_rejection_reason",className:"text-sm sm:text-base",showRequired:!0,children:"Reddetme Sebebi"}),e.jsx(U,{id:"rejection_rejection_reason",value:f,onChange:a=>M(a.target.value),placeholder:"Görev reddi neden reddedildiğini açıklayın (en az 20 karakter)...",rows:4,className:`min-h-[100px] sm:min-h-[120px] ${f.length>0&&f.length<20?"border-destructive":""}`}),f.length>0&&f.length<20&&e.jsxs("p",{className:"text-xs text-destructive",children:["En az ",20-f.length," karakter daha gerekli"]})]})})})})}),e.jsxs("div",{className:"p-4 sm:p-6 border-t bg-white flex-shrink-0 flex flex-wrap gap-2 justify-end",children:[e.jsx(x,{variant:"outline",onClick:()=>{A(!1),M(""),b(null)},disabled:i,className:"min-h-[44px] sm:min-h-0",children:"İptal"}),e.jsx(x,{variant:"destructive",onClick:be,disabled:i||f.trim().length<20,className:"min-h-[44px] sm:min-h-0",children:i?"Reddediliyor...":"Reddi Reddet"})]})]})})}),e.jsx(H,{open:xe,onOpenChange:S,children:e.jsx(K,{className:"!max-w-[100vw] sm:!max-w-[95vw] !w-[100vw] sm:!w-[95vw] !h-[100vh] sm:!h-[90vh] !max-h-[100vh] sm:!max-h-[90vh] !left-0 sm:!left-[2.5vw] !top-0 sm:!top-[5vh] !right-0 sm:!right-auto !bottom-0 sm:!bottom-auto !translate-x-0 !translate-y-0 overflow-hidden !p-0 gap-0 bg-white flex flex-col !m-0 !rounded-none sm:!rounded-lg !border-0 sm:!border",children:e.jsxs("div",{className:"flex flex-col h-full min-h-0",children:[e.jsxs(X,{className:"p-4 sm:p-6 border-b bg-white flex-shrink-0 relative pr-12 sm:pr-16",children:[e.jsx(Y,{className:"text-xl sm:text-2xl font-semibold text-foreground",children:"Görev Onayını Reddet"}),e.jsx(Q,{className:"mt-1 text-xs sm:text-sm text-muted-foreground",children:"Görev onayını reddetmek için lütfen bir not ekleyin. Görev tekrar panoya dönecektir."})]}),e.jsx("div",{className:"flex-1 overflow-hidden bg-gray-50/50 p-3 sm:p-4 min-h-0",children:e.jsx("div",{className:"max-w-full mx-auto h-full overflow-y-auto",children:e.jsx(D,{children:e.jsx(O,{className:"space-y-4 pt-6",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(q,{htmlFor:"rejection_approval_reason",className:"text-sm sm:text-base",showRequired:!0,children:"Reddetme Notu"}),e.jsx(U,{id:"rejection_approval_reason",value:z,onChange:a=>$(a.target.value),placeholder:"Görev onayını neden reddettiğinizi açıklayın...",rows:4,className:"min-h-[100px] sm:min-h-[120px]"})]})})})})}),e.jsxs("div",{className:"p-4 sm:p-6 border-t bg-white flex-shrink-0 flex flex-wrap gap-2 justify-end",children:[e.jsx(x,{variant:"outline",onClick:()=>{S(!1),$(""),b(null)},disabled:i,className:"min-h-[44px] sm:min-h-0",children:"İptal"}),e.jsx(x,{variant:"destructive",onClick:fe,disabled:i||!z.trim(),className:"min-h-[44px] sm:min-h-0",children:i?"Reddediliyor...":"Reddet"})]})]})})})]})}export{ta as default};
